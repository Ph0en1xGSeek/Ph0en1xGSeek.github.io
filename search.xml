<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[LeetCode 456 Pattern]]></title>
    <url>%2F2020%2F02%2F10%2Fleetcode456%2F</url>
    <content type="text"><![CDATA[å•è°ƒæ ˆï¼Œæ‰¾åˆ°132è¿™ç§å¤§å°å…³ç³»çš„å­åºåˆ— æš´åŠ›çš„æ–¹æ³•éœ€è¦O(N^3)çš„å¤æ‚åº¦ï¼Œä½†æ˜¯åˆ©ç”¨å•è°ƒæ ˆå°±å¯ä»¥è¾¾åˆ°O(N) ä»Žå³å‘å·¦æ‰«ææ•´ä¸ªæ•°ç»„ï¼Œå…¶å®žæˆ‘ä»¬åªéœ€è¦æŠŠå½“å‰æ‰«æåˆ°çš„æ•°å½“ä½œ(1)ï¼Œç»´æŠ¤å½“å‰æœ€å¤§çš„(2)å³å¯ï¼Œåªè¦(1) &lt; (2)å°±æ˜¯æ‰¾åˆ°ã€‚ ç»´æŠ¤ä¸€ä¸ªå•è°ƒé˜Ÿåˆ—ï¼Œæ ˆé¡¶å°æ ˆåº•å¤§ï¼Œæ¯æ¬¡popæ—¶éƒ½ç›¸å½“äºŽæ‰¾åˆ°äº†ä¸€ä¸ª(2)(3)pairï¼Œç»´æŠ¤popçš„å€¼çš„æœ€å¤§å€¼å°±æ˜¯æˆ‘ä»¬è¦çš„(3) C++ Code 1234567891011121314151617181920212223class Solution &#123;public: bool find132pattern(vector&lt;int&gt;&amp; nums) &#123; int sz = nums.size(); if(sz &lt; 3) &#123; return false; &#125; stack&lt;int&gt; st; int ak = INT_MIN; st.push(nums[sz-1]); for(int i = sz-1; i &gt;= 0; --i) &#123; if(nums[i] &lt; ak) &#123; return true; &#125; while(!st.empty() &amp;&amp; nums[i] &gt; st.top()) &#123; ak = max(ak, st.top()); st.pop(); &#125; st.push(nums[i]); &#125; return false; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 454 4Sum II]]></title>
    <url>%2F2020%2F02%2F10%2Fleetcode454%2F</url>
    <content type="text"><![CDATA[ç»å…¸4Sumé¢˜ï¼Œä½†æ˜¯éœ€è¦åœ¨4ä¸ªæ•°ç»„ä¸­åˆ†åˆ«æ‰¾åˆ°ä¸€ä¸ªæ•°æ¥ç›¸åŠ  æš´åŠ›çš„æ–¹æ³•éœ€è¦O(N^4)çš„å¤æ‚åº¦ï¼Œæ™®é€šçš„4Sumå¯ä»¥ä¼˜åŒ–åˆ°O(N^3)ï¼Œä½†æ˜¯è¿™é¢˜ç”±äºŽæ˜¯åœ¨ä¸åŒçš„æ•°ç»„ä¸­æ‰¾ï¼Œå¯ä»¥è¿›ä¸€æ­¥çš„ä¼˜åŒ–ï¼ŒæŠŠå‰ä¸¤ä¸ªæ•°ç»„é‡Œæ‰€æœ‰æ•°çš„å’Œæ”¾è¿›ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œç„¶åŽåœ¨åŽä¸¤ä¸ªæ•°ç»„ä¸­æ‰¾ç›¸åæ•°çš„ç»„åˆã€‚ C++ Code 1234567891011121314151617181920212223class Solution &#123;public: bool find132pattern(vector&lt;int&gt;&amp; nums) &#123; int sz = nums.size(); if(sz &lt; 3) &#123; return false; &#125; stack&lt;int&gt; st; int ak = INT_MIN; st.push(nums[sz-1]); for(int i = sz-1; i &gt;= 0; --i) &#123; if(nums[i] &lt; ak) &#123; return true; &#125; while(!st.empty() &amp;&amp; nums[i] &gt; st.top()) &#123; ak = max(ak, st.top()); st.pop(); &#125; st.push(nums[i]); &#125; return false; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 446 Arithmetic Slices II - Subsequence]]></title>
    <url>%2F2020%2F02%2F07%2Fleetcode446%2F</url>
    <content type="text"><![CDATA[åŠ¨æ€è§„åˆ’ï¼Œæ±‚æœ‰å¤šå°‘å­åºåˆ—æ˜¯ç­‰å·®æ•°åˆ— dp[i][diff]è¡¨ç¤ºä»¥ç¬¬iä½æ•°ä¸ºç»“å°¾çš„ä¸”ç›¸é‚»ä¸¤ä¸ªæ•°å·®diffçš„æ•°åˆ—ä¸ªæ•°ï¼ˆä¸æ˜¯ç­‰å·®æ•°åˆ—ï¼Œå› ä¸ºé•¿åº¦ä¸º2ä¹Ÿä¼šè¢«è®¡ç®—ï¼‰ï¼Œç”±äºŽdiffçš„æ•°é‡èŒƒå›´å¾ˆå¤§ä½†æ˜¯å¾ˆç¨€ç–ï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªdp[i]é‡Œéƒ½æ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ã€‚ å…¶ä¸­+1è¡¨ç¤ºå‰é¢çš„æ•°åˆ—åŠ ä¸Šiä½çš„æ•°åŽçš„æ•°åˆ—ï¼Œå‰é¢è¡¨ç¤ºæŠŠå‰é¢çš„æ•°åˆ—éƒ½å¾€åŽç§»ä¸€ä½ï¼ŒåŽ»æŽ‰ç¬¬ä¸€ä¸ªæ•°ï¼ŒåŠ ä¸Šiä¸ºæœ€åŽä¸€ä¸ªæ•°ã€‚ ç»“æžœçš„è®¡ç®—å°±æ˜¯åœ¨dpçš„è¿‡ç¨‹ä¸­æŠŠæ‰€æœ‰çš„dp[j][diff]ç´¯åŠ èµ·æ¥ï¼Œä»¥ä¸ºç¡®å®šäº†å³ç«¯ç‚¹ä¸ºiæ—¶å·¦ç«¯ç‚¹æœ‰dp[j][diff]ç§å–æ³•ã€‚åŒæ—¶ä¹Ÿèƒ½ä¿è¯æ•°åˆ—çš„ç¬¬ä¸‰ä¸ªæ•°æ‰å¼€å§‹ç®—ã€‚ C++ Code 12345678910111213141516171819class Solution &#123;public: int numberOfArithmeticSlices(vector&lt;int&gt;&amp; A) &#123; int sz = A.size(); if(sz &lt;= 2) &#123; return 0; &#125; int cnt = 0; vector&lt;unordered_map&lt;long long, int&gt;&gt; dp(sz); for(int i = 1; i &lt; sz; ++i) &#123; for(int j = 0; j &lt; i; ++j) &#123; long long diff = (long long) A[i] - (long long)A[j]; dp[i][diff] += (dp[j][diff] + 1); cnt += dp[j][diff]; &#125; &#125; return cnt; &#125; &#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 332 Reconstruct Itinerary]]></title>
    <url>%2F2019%2F09%2F24%2Fleetcode332%2F</url>
    <content type="text"><![CDATA[ç»™å®šè¿žé€šå›¾çš„ä¸€äº›è¾¹ï¼Œé—®å¦‚ä½•ä¸é‡å¤èµ°è¾¹éåŽ†å®Œè¿™ä¸ªå›¾ï¼Œå¹¶ä¸”è¾¹æœ‰ä¸€ä¸ªåå­—ï¼Œè¦ä½¿åå­—çš„å­—å…¸åºæœ€å° æƒ³åˆ°ç”¨dfsæ¥ç›´æŽ¥æœç´¢ï¼Œä½†æ˜¯è¿™é¢˜å­˜åœ¨æœ‰çŽ¯çš„é—®é¢˜ï¼Œå³ä¸€ä¸ªèŠ‚ç‚¹ä¼šè¢«éåŽ†å¤šæ¬¡ã€‚å¦‚æžœé‡‡ç”¨è‡³ä¸Šè€Œä¸‹çš„æœç´¢ï¼Œåˆ™ä¼šäº§ç”Ÿå¾ˆå¤šæ²¡ç”¨çš„æœç´¢å’Œå›žæº¯ã€‚å¯ä»¥é‡‡ç”¨è‡³ä¸‹è€Œä¸Šçš„æœç´¢ç­–ç•¥ï¼Œå³å¦‚æžœä¸€ä¸ªæ‰€æœ‰çš„å‡ºåº¦éƒ½è¢«æœç´¢è¿‡äº†ï¼Œé‚£ä¹ˆå°±å¯ä»¥å…¥é˜Ÿã€‚è¿™æ ·ç¬¬ä¸€ä¸ªå…¥é˜Ÿçš„ä¸€å®šæ˜¯ç»ˆç‚¹ã€‚å¦‚æžœä¸€ä¸ªç‚¹æœ‰å¤šä¸ªå‡ºåº¦ï¼Œå³ä¸€ä¸ªçŽ¯çš„å…¥å£ï¼Œé‚£ä¹ˆåªè¦ç”¨ä¸€ä¸ªmultisetæ¥ä¿è¯æœç´¢å‡ºåº¦æ˜¯æŒ‰ç…§å­—å…¸åºå°±å¯ä»¥ã€‚ C++ Code 1234567891011121314151617181920212223class Solution &#123;public: void dfs(map&lt;string, multiset&lt;string&gt;&gt; &amp;mp, string cur, vector&lt;string&gt; &amp;result) &#123; while(mp[cur].size()) &#123; string nex = *(mp[cur].begin()); mp[cur].erase(mp[cur].begin()); dfs(mp, nex, result); &#125; result.push_back(cur); &#125; vector&lt;string&gt; findItinerary(vector&lt;vector&lt;string&gt;&gt;&amp; tickets) &#123; map&lt;string, multiset&lt;string&gt;&gt; mp; for(auto item: tickets) &#123; mp[item[0]].insert(item[1]); &#125; string cur = "JFK"; vector&lt;string&gt; result; dfs(mp, cur, result); reverse(result.begin(), result.end()); return result; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 330 Patching Array]]></title>
    <url>%2F2019%2F09%2F22%2Fleetcode330%2F</url>
    <content type="text"><![CDATA[ç»™å®šæ•°ç»„å’Œä¸€ä¸ªæ•´æ•°nï¼Œé—®éœ€è¦è¡¥å¤šå°‘æ•°ï¼Œä½¿è¿™ä¸ªæ•°ç»„å†…æ•°ç»„åˆçš„å’Œå¯ä»¥è¦†ç›–1~n è´ªå¿ƒï¼Œæ¯æ¬¡éƒ½è¡¥å…¥å½“å‰ï¼ˆæ•°ç»„ä¸­çš„å‰i-1ä¸ªæ•°ï¼‰ä¸èƒ½ç»„åˆæˆçš„æœ€å°çš„æ•°mã€‚ å‡è®¾æ•°ç»„ä¸­å‰i-1ä¸ªæ•°ä»¥åŠå·²ç»è¡¥å…¥çš„æ•°å·²ç»å¯ä»¥è¦†ç›–[1, m)ï¼Œè¿™æ—¶å€™ç¬¬iä¸ªæ•°ï¼š &lt;=mï¼Œé‚£ä¹ˆä¸Žå‰é¢i-1ä¸ªæ•°çš„ç»„åˆå°±å¯ä»¥è¦†ç›–[1, m+nums[i])ï¼ŒçŽ°åœ¨å‰iä¸ªæ•°å°±å¯ä»¥è¾¾åˆ°m+nums[i] > mï¼Œé‚£ä¹ˆè¡¥å…¥mï¼Œå‰i-1ä¸ªæ•°å¯ä»¥è¾¾åˆ°2*m C++ Code 123456789101112131415161718class Solution &#123;public: int minPatches(vector&lt;int&gt;&amp; nums, int n) &#123; long long m = 1; int i = 0; int cnt = 0; int sz = nums.size(); while(m &lt;= n) &#123; if(i &lt; sz &amp;&amp; nums[i] &lt;= m) &#123; m += nums[i++]; &#125;else &#123; m &lt;&lt;= 1; ++cnt; &#125; &#125; return cnt; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 327 Count of Range Sum]]></title>
    <url>%2F2019%2F09%2F20%2Fleetcode327%2F</url>
    <content type="text"><![CDATA[æ±‚æ•°ç»„å†…æœ‰å¤šå°‘æ®µåŒºé—´å’Œè½åœ¨lowå’Œhighçš„é—­åŒºé—´å†…ï¼Œè¦æ±‚æ—¶é—´å¤æ‚åº¦å°äºŽO(n^2) å…ˆæ±‚å‡ºç´¯è®¡å’Œsumï¼Œå¦‚æžœæ²¡æœ‰æ—¶é—´å¤æ‚åº¦çš„é™åˆ¶çš„è¯ï¼Œåº”è¯¥éåŽ†ï¼Œç”¨åŽé¢çš„sum[j]å‡åŽ»å‰é¢çš„sum[i]ï¼Œåªè¦è½åœ¨åŒºé—´å†…å°±+1 ä½†æ˜¯è¦é™åˆ¶å¤æ‚åº¦ï¼Œæ‰€ä»¥æˆ‘ä»¬æƒ³åˆ°åˆ©ç”¨æŽ’åºæ¥å‡å°‘ä¸€äº›ä¸å¿…è¦çš„é‡å¤ã€‚å¯ä»¥åˆ©ç”¨åˆ†æ²»æ€æƒ³ï¼Œå…ˆè®¡ç®—å‡ºç«¯ç‚¹åœ¨æ¯ä¸ªå­åŒºé—´å†…çš„æ•°é‡ï¼Œç„¶åŽå†è®¡ç®—ç«¯ç‚¹è½åœ¨ç›¸é‚»ä¸åŒåŒºé—´çš„æ•°é‡ã€‚åœ¨åˆ†æ²»çš„åŒæ—¶ï¼Œå®Œæˆå½’å¹¶æŽ’åºï¼Œä¸ç ´åä¸¤ä¸ªç›¸é‚»åŒºé—´å†…æ•°å…ˆåŽå…³ç³»ï¼ˆå¿…é¡»è¦åŽé¢å‡å‰é¢ï¼‰ï¼ŒåŒæ—¶ä¸¤ä¸ªåŒºé—´å†…éƒ¨å˜ä¸ºæœ‰åºï¼Œä½¿å¾—æœç´¢å³ç«¯ç‚¹ä¸éœ€è¦ä»Žæ–°çš„å·¦ç«¯ç‚¹å¼€å§‹ï¼Œè€Œæ˜¯ä»Žå‰é¢çš„ä½ç½®ç»§ç»­å³å¯ã€‚ C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748class Solution &#123;public: int mergeSort(vector&lt;long long&gt; &amp;sum, int lower, int upper, int left, int right) &#123; if(left+1 &gt;= right) &#123; return 0; &#125; int mid = (left + right) &gt;&gt; 1; int cnt = 0; cnt += mergeSort(sum, lower, upper, left, mid); cnt += mergeSort(sum, lower, upper, mid, right); int lower_pos = mid, upper_pos = mid; for(int i = left; i &lt; mid; ++i) &#123; while(lower_pos &lt; right &amp;&amp; sum[lower_pos] - sum[i] &lt; lower) ++lower_pos; while(upper_pos &lt; right &amp;&amp; sum[upper_pos] - sum[i] &lt;= upper) ++upper_pos; cnt += (upper_pos - lower_pos); &#125; vector&lt;long long&gt; tmp(right - left); for(int i = left; i &lt; right; ++i) &#123; tmp[i - left] = sum[i]; &#125; int i = 0, j = mid - left; int pos = left; while(i &lt; mid - left || j &lt; right - left) &#123; if(i &gt;= mid - left) &#123; sum[pos++] = tmp[j++]; &#125;else if(j &gt;= right - left) &#123; sum[pos++] = tmp[i++]; &#125;else if(tmp[i] &lt; tmp[j]) &#123; sum[pos++] = tmp[i++]; &#125;else &#123; sum[pos++] = tmp[j++]; &#125; &#125; // inplace_merge(sum.begin()+left, sum.begin()+mid, sum.begin()+right); return cnt; &#125; int countRangeSum(vector&lt;int&gt;&amp; nums, int lower, int upper) &#123; int sz = nums.size(); vector&lt;long long&gt; sum(sz + 1, 0); for(int i = 1; i &lt; sz + 1; ++i) &#123; sum[i] = sum[i-1] + nums[i-1]; &#125; int ans = mergeSort(sum, lower, upper, 0, sz + 1); return ans; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 321 Create Maximum Number]]></title>
    <url>%2F2019%2F09%2F19%2Fleetcode321%2F</url>
    <content type="text"><![CDATA[ç»™å®šä¸¤ä¸ªæ•°ç»„ï¼Œè¦æ±‚ç”¨è¿™äº›æ•°å­—ç»„æˆä¸€ä¸ªé•¿åº¦ä¸ºkçš„æœ€å¤§çš„æ•°å­—ï¼Œè¦æ±‚ä¸¤ä¸ªæ•°ç»„å†…çš„æ•°å­—é¡ºåºä¸å˜ã€‚ æžšä¸¾ä¸¤ä¸ªæ•°ç»„å„å¤„å¤šå°‘ä¸ªæ•°å­—ï¼Œç¬¬ä¸€ä¸ªæ•°ç»„å‡ºiä¸ªï¼Œç¬¬äºŒä¸ªæ•°ç»„å°±å‡ºk-iä¸ªï¼Œç„¶åŽå–å‡ºçš„è¿™ä¸¤ä¸ªæ•°å­—æœ¬èº«å°±è¦æœ€å¤§ã€‚å› ä¸ºå¦‚æžœä¸æ˜¯æœ€å¤§ï¼Œé‚£æˆ‘æ¢æˆæœ€å¤§çš„å¡«åˆ°æœ€ç»ˆçš„æ•°å­—ä¸­ä¸€å®šæ›´å¤§ã€‚ å•ä¸ªæ•°ç»„æ±‚åŽ»æŽ‰ä¸€å®šæ•°å­—èƒ½å¾—åˆ°çš„æœ€å¤§æ•°å­—æ¯”è¾ƒç®€å•ï¼Œç”¨ä¸€ä¸ªæ ˆæ¥ç»´æŠ¤ï¼Œåªè¦è¿˜èƒ½åˆ æŽ‰æ•°å­—å¹¶ä¸”å‡†å¤‡å…¥æ ˆçš„æ•°å­—æ¯”æ ˆé¡¶æ•°å­—è¦å¤§ï¼Œé‚£å°±å°†æ ˆé¡¶æ•°å­—å‡ºæ ˆã€‚ ä¸¤ä¸ªæ•°ç»„çš„æœ€å¤§æ•°å­—æ±‚å¾—åŽï¼Œåªéœ€è¦ç”¨å½’å¹¶æ“ä½œå°†ä¸¤ä¸ªæ•°å­—åˆå¹¶å°±å¯ä»¥ï¼Œä¸è¿‡è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æžœä¸¤ä¸ªé˜Ÿåˆ—é¡¶çš„æ•°å­—ç›¸åŒæ—¶ï¼Œéœ€è¦æ¯”è¾ƒä¸¤ä¸ªå‰©ä¸‹çš„æ•°ç»„è°æ¯”è¾ƒå¤§ï¼Œå°†è¾ƒå¤§çš„é‚£ä¸ªé˜Ÿåˆ—å¤´å½’å¹¶ã€‚ C++ Code 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465class Solution &#123;public: vector&lt;int&gt; maxNumber(vector&lt;int&gt;&amp; nums1, vector&lt;int&gt;&amp; nums2, int k) &#123; int sz1 = nums1.size(); int sz2 = nums2.size(); vector&lt;int&gt; ret; for(int i = max(0, k - sz2); i &lt;= min(k, sz1); ++i) &#123; ret = max(ret, mergeVec(maxVec(nums1, sz1 - i), maxVec(nums2, sz2 - (k - i)))); &#125; return ret; &#125; vector&lt;int&gt; maxVec(vector&lt;int&gt; &amp;nums, int drop) &#123; vector&lt;int&gt; ret; for(int i = 0; i &lt; nums.size(); ++i) &#123; while(!ret.empty() &amp;&amp; drop &gt; 0 &amp;&amp; ret.back() &lt; nums[i]) &#123; ret.pop_back(); --drop; &#125; ret.push_back(nums[i]); &#125; while(drop &gt; 0) &#123; ret.pop_back(); --drop; &#125; return ret; &#125; vector&lt;int&gt; mergeVec(const vector&lt;int&gt; &amp;v1, const vector&lt;int&gt; &amp;v2) &#123; vector&lt;int&gt; ret; int sz1 = v1.size(); int sz2 = v2.size(); int pos1 = 0, pos2 = 0; while(pos1 &lt; sz1 || pos2 &lt; sz2) &#123; if(pos2 == sz2) &#123; ret.push_back(v1[pos1++]); &#125;else if(pos1 == sz1) &#123; ret.push_back(v2[pos2++]); &#125;else if(v1[pos1] &lt; v2[pos2]) &#123; ret.push_back(v2[pos2++]); &#125;else if(v1[pos1] &gt; v2[pos2]) &#123; ret.push_back(v1[pos1++]); &#125;else &#123; ret.push_back(v1[pos1]); compare(v1, v2, pos1, pos2)? ++pos1: ++pos2; &#125; &#125; return ret; &#125; bool compare(const vector&lt;int&gt; &amp;v1, const vector&lt;int&gt; &amp;v2, int pos1, int pos2) &#123; for(int i = pos1, j = pos2; ;++i, ++j) &#123; if(i == v1.size()) &#123; return false; &#125;else if(j == v2.size()) &#123; return true; &#125;else if(v1[i] &lt; v2[j]) &#123; return false; &#125;else if(v1[i] &gt; v2[j]) &#123; return true; &#125; &#125; return false; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 324 Wiggle Sort II]]></title>
    <url>%2F2019%2F09%2F19%2Fleetcode324%2F</url>
    <content type="text"><![CDATA[æ‘‡æ‘†æŽ’åºï¼Œè¦æ±‚nums[0] &lt; nums[1] &gt; nums[2] &lt; nums[3]... ä¸”æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œé¢å¤–ç©ºé—´ä¸ºO(1) å¦‚æžœæ²¡æœ‰æ—¶é—´å¤æ‚åº¦è¦æ±‚ï¼Œåšæ³•åº”è¯¥ä¸ºå…ˆæŽ’åºï¼Œç„¶åŽå°†åŽåŠä¸ªæ•°ç»„ç©¿æ’åˆ°å‰åŠä¸ªæ•°ç»„ä¸­ã€‚ä½†å¦‚æžœä¸èƒ½å¤ŸæŽ’åºï¼Œæˆ‘ä»¬å°±åªèƒ½é€šè¿‡æ±‚ä¸­ä½æ•°çš„æ–¹æ³•æ¥å®Œæˆã€‚å†åŠ ä¸Šç©ºé—´æ˜¾ç¤ºï¼Œåˆ™ä½¿ç”¨äº¤æ¢çš„æ–¹æ³•æ¥å®ŒæˆæŽ’åºã€‚ æ±‚ä¸­ä½æ•° ç®—æ³•ä¸ºO(n)ï¼Œä½¿ç”¨ä¸€è¶Ÿå¿«é€ŸæŽ’åºï¼Œå°†æ•°ç»„åˆ†ä¸ºä¸¤ä»½ï¼Œç„¶åŽåœ¨å¤šçš„é‚£éƒ¨åˆ†ä¸­ç»§ç»­ä¸€è¶Ÿå¿«é€ŸæŽ’åºï¼Œç›´åˆ°æ­£å¥½ä»¥ä¸­ä½æ•°ä¸ºsentinelï¼Œæœ€å¤šè®¡ç®—æ¬¡æ•°ä¸è¶…è¿‡2nã€‚ä½¿ç”¨nth_elementå‡½æ•°æ‰¾åˆ°æ•°ç»„ä¸­ç¬¬nå¤§çš„æ•°èƒ½å¤Ÿç›´æŽ¥å®Œæˆè¿™ä¸ªè¿‡ç¨‹ï¼Œå®ŒæˆåŽï¼Œä¸­ä½æ•°å·¦è¾¹çš„æ•°éƒ½æ¯”å®ƒå°ï¼Œå³è¾¹çš„éƒ½æ¯”å®ƒå¤§ï¼› ä¸¤ä¸ªæŒ‡é’ˆlowï¼Œhighï¼Œåˆ†åˆ«ä»Žå¥‡æ•°ä½æ­£å‘éåŽ†1ã€3ã€5â€¦â€¦ä»¥åŠå¶æ•°ä½åå‘éåŽ†â€¦â€¦4ã€2ã€0ã€‚ç”¨(i*2 + 1) / (size - 1)æ¥æŒ‰ç…§1ã€3ã€5â€¦â€¦0ã€2ã€4â€¦â€¦çš„é¡ºåºé‡æŽ’æ•°ç»„ï¼›ç„¶åŽæŒ‰è¿™ä¸ªé¡ºåºå¼€å§‹ï¼Œå¦‚æžœå°äºŽä¸­ä½æ•°ï¼Œå°±æ”¾åˆ°lowå·¦è¾¹ï¼Œå¦‚æžœå¤§äºŽä¸­ä½æ•°å°±æ”¾åˆ°highå³è¾¹ã€‚ C++ Code 1234567891011121314151617181920class Solution &#123;public: void wiggleSort(vector&lt;int&gt;&amp; nums) &#123; int sz = nums.size(); nth_element(nums.begin(), nums.begin() + sz / 2, nums.end()); auto index = [=](int pos) &#123;return (pos * 2 + 1) % (sz | 1);&#125;; int mid = nums[sz/2]; int low = 0, high = sz-1; int i = 0; while(i &lt;= high) &#123; if(nums[index(i)] &lt; mid) &#123; swap(nums[index(i)], nums[index(high--)]); &#125;else if(nums[index(i)] &gt; mid) &#123; swap(nums[index(i++)], nums[index(low++)]); &#125;else &#123; ++i; &#125; &#125; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 310 Minimum Height Trees]]></title>
    <url>%2F2019%2F09%2F14%2Fleetcode310%2F</url>
    <content type="text"><![CDATA[å¯»æ‰¾ä»¥å“ªä¸ªèŠ‚ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹çš„æ—¶å€™æ ‘çš„é«˜åº¦æœ€å°ã€‚ ä½œä¸ºæ ¹èŠ‚ç‚¹çš„èŠ‚ç‚¹ä¸€å®šåœ¨æ ‘çš„ç›´å¾„çš„ä¸­ç‚¹ã€‚å¦‚æžœä¸åœ¨ä¸­ç‚¹ï¼Œé‚£ä¹ˆä¸€å®šæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„è·ç¦»æ ¹èŠ‚ç‚¹è¶…è¿‡æ ‘çš„åŠå¾„çš„è·ç¦»ã€‚ï¼ˆæ ‘ä¸Šè·¯å¾„å”¯ä¸€ï¼Œç›´å¾„è¿žæŽ¥ä¸¤ä¸ªå¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå¦‚æžœæ ¹èŠ‚ç‚¹ä¸åœ¨ç›´å¾„ä¸Šï¼Œæœ‰ä¸€ä¸ªèŠ‚ç‚¹è‡³å°‘éœ€è¦èµ°å®ŒåŠå¾„åŽå†èµ°å‘æ ¹èŠ‚ç‚¹ï¼‰ å¯»æ‰¾ç›´å¾„çš„æ–¹æ³•ï¼Œä¸¤æ¬¡bfså’Œåˆ†æ²»æ³•ï¼Œä»¥ä¸ºè¿™é¢˜éœ€è¦å¾—åˆ°è·¯å¾„æ‰€ä»¥æˆ‘ç”¨çš„æ˜¯ä¸¤æ¬¡bfsï¼Œç¬¬ä¸€æ¬¡ä»Žä»»æ„ä¸€ä¸ªç‚¹oå‡ºå‘æ‰¾åˆ°ç¦»å®ƒæœ€è¿œçš„ç‚¹pï¼Œç¬¬äºŒæ¬¡å†ä»Žqå‡ºå‘æ‰¾ç¦»å®ƒæœ€è¿œçš„ç‚¹qï¼Œp-qå°±æ˜¯ç›´å¾„ã€‚ è¯æ˜Žï¼šå¦‚æžœp-qä¸æ˜¯ç›´å¾„ï¼Œé‚£ä¹ˆå‡è®¾ç›´å¾„ä¸ºa-b 1ï¼‰a-bä¸Žo-pç›¸äº¤äºŽmï¼Œç”±äºŽpæ˜¯è·ç¦»oæœ€è¿œçš„ç‚¹ï¼Œæ‰€ä»¥om+mp &gt; om+maï¼Œmp&gt;maï¼Œb-p&gt;a-bï¼Œä¸Ža-bç›´å¾„çŸ›ç›¾ 2ï¼‰a-bä¸Žo-pä¸ç›¸äº¤ï¼Œé‚£ä¹ˆä¸¤æ¡è·¯å¾„é—´é€šè¿‡m-nè¿žé€šï¼Œom+mp &gt; om+mn+nbï¼Œmp&gt;mn+nbï¼Œan+mn+mp &gt; an+mn+nb &gt; ab ä¸Ža-bç›´å¾„çŸ›ç›¾ åˆ†æ²»æ³•çš„è¯å°±æ˜¯ä»Žå¶å­èŠ‚ç‚¹å¼€å§‹ï¼Œè®¡ç®—èŠ‚ç‚¹è·ç¦»å¶å­èŠ‚ç‚¹çš„è·ç¦»ï¼Œçˆ¶èŠ‚ç‚¹çš„æœ€å¤§è·ç¦»=max(å­èŠ‚ç‚¹) + 1ï¼Œæ ‘å½¢dpã€‚è¿˜éœ€è¦ç¼“å­˜ä¸‹ç¬¬äºŒå¤§è·ç¦»ï¼Œæœ€åŽæœ€è¿œè·ç¦»+æ¬¡è¿œè·ç¦»å°±æ˜¯ç›´å¾„é•¿ã€‚ C++ Code 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061class Solution &#123;public: vector&lt;int&gt; findMinHeightTrees(int n, vector&lt;vector&lt;int&gt;&gt;&amp; edges) &#123; vector&lt;vector&lt;int&gt;&gt; head(n); vector&lt;int&gt; f(n, -1); for(int i = 0; i &lt; edges.size(); ++i) &#123; head[edges[i][0]].push_back(edges[i][1]); head[edges[i][1]].push_back(edges[i][0]); &#125; queue&lt;pair&lt;int, int&gt;&gt; q; q.push(make_pair(-1, 0)); int last_node; while(!q.empty()) &#123; int sz = q.size(); for(int i = 0; i &lt; sz; ++i) &#123; pair&lt;int, int&gt; cur = q.front(); q.pop(); last_node = cur.second; int father = cur.first; for(int j = 0; j &lt; head[last_node].size(); ++j) &#123; if(head[last_node][j] == father) continue; q.push(make_pair(last_node, head[last_node][j])); &#125; &#125; &#125; int cur_node; q.push(make_pair(-1, last_node)); while(!q.empty()) &#123; int sz = q.size(); for(int i = 0; i &lt; sz; ++i) &#123; pair&lt;int, int&gt; cur = q.front(); q.pop(); cur_node = cur.second; int father = cur.first; f[cur_node] = father; for(int j = 0; j &lt; head[cur_node].size(); ++j) &#123; if(head[cur_node][j] == father) continue; q.push(make_pair(cur_node, head[cur_node][j])); &#125; &#125; &#125; vector&lt;int&gt; path; while(cur_node != last_node) &#123; path.push_back(cur_node); cur_node = f[cur_node]; &#125; path.push_back(last_node); vector&lt;int&gt; ans; if(path.size() % 2 == 1) &#123; ans.push_back(path[path.size() / 2]); &#125; else &#123; ans.push_back(path[path.size() / 2]); ans.push_back(path[path.size() / 2 - 1]); &#125; return ans; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 309 Best Time to Buy and Sell Stock with Cooldown]]></title>
    <url>%2F2019%2F09%2F13%2Fleetcode309%2F</url>
    <content type="text"><![CDATA[ç‚’è‚¡ï¼Œèƒ½å¤Ÿä¹°å–å¤šæ¬¡ï¼Œä½†æ˜¯æ¯æ¬¡ä¹°å®Œéœ€è¦ç­‰ä¸€å¤©æ‰èƒ½å†æ¬¡ä¹°å…¥ï¼Œé—®æœ€å¤šèƒ½èµšå¤šå°‘é’± ç‚’è‚¡ç³»åˆ—ç¬¬å››é¢˜äº†ï¼Œè¿˜æ˜¯ç”¨åŠ¨æ€è§„åˆ’æ¥åšï¼Œbä»£è¡¨å½“å‰å·²ä¹°å…¥çš„æƒ…å†µä¸‹çš„æœ€å¤§æ”¶ç›Šï¼Œs[i]è¡¨ç¤ºç¬¬iå¤©å‰å·²å–å‡ºæ—¶çš„æœ€å¤§æ”¶ç›Šï¼Œprev_sè¡¨ç¤ºä¸Šæ¬¡åœ¨ç¬¬iå¤©å–å‡ºæ—¶çš„æœ€å¤§æ”¶ç›Šã€‚ b = max(b, prev_s[i-2] - prices[i]); s[i] = max(prev_s[i], s[i-1], b+prices[i])åˆ†åˆ«è¡¨ç¤ºä¸Šä¸€æ¬¡åœ¨ç¬¬iå¤©å–å‡ºï¼Œåœ¨ç¬¬iå¤©ä¸å–å‡ºå’Œåœ¨ç¬¬iå¤©å–å‡ºçš„æœ€å¤§å€¼ã€‚ C++ Code 12345678910111213141516171819202122232425262728class Solution &#123;public: int maxProfit(vector&lt;int&gt;&amp; prices) &#123; int sz = prices.size(); if(sz == 0) &#123; return 0; &#125; vector&lt;int&gt; s(sz, -0x7fffffff); vector&lt;int&gt; prev_s; int b = -0x7fffffff; for(int i = 0; i &lt; sz; ++i) &#123; b = max(b, -prices[i]); if(i &gt; 0) s[i] = s[i-1]; s[i] = max(s[i], prices[i] + b); &#125; for(int j = 2; j &lt; sz; j += 2) &#123; b = -0x7fffffff; prev_s = s; for(int i = j; i &lt; sz; ++i) &#123; b = max(b, prev_s[i-2] - prices[i]); s[i] = max(s[i], s[i-1]); s[i] = max(s[i], b + prices[i]); &#125; &#125; return s[sz-1]; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 287 Find the Duplicate Number]]></title>
    <url>%2F2019%2F09%2F09%2Fleetcode287%2F</url>
    <content type="text"><![CDATA[æ‰¾åˆ°ä¸€ç»„æ•°ç»„ä¸­é‡å¤å‡ºçŽ°çš„æ•°ï¼ˆåªæœ‰ä¸€ä¸ªï¼‰ï¼Œç©ºé—´å¤æ‚åº¦O(1)ï¼Œæ—¶é—´å¤æ‚åº¦O(n^2)ä»¥å†…ã€‚ å…¶å®žå¯ä»¥çœ‹åšä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ä¸ªindexä¸­å­˜å‚¨çš„æ•°å¯ä»¥çœ‹ä½œnextæŒ‡é’ˆï¼Œè¿™æ ·ä¸€æ¥ï¼Œå¦‚æžœæœ‰ä¸€ä¸ªindexæœ‰ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘å®ƒï¼Œåˆ™é“¾è¡¨ä¸­ä¸€å®šå­˜åœ¨çŽ¯ã€‚æ‰€ä»¥å¯ä»¥è€ƒè™‘ä½¿ç”¨æ£€æµ‹é“¾è¡¨å¸¦çŽ¯çš„ç®—æ³•ï¼Œå³å¿«æ…¢æŒ‡é’ˆçš„æ–¹æ³•ï¼Œå¿«æŒ‡é’ˆä¸€æ¬¡èµ°ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆä¸€æ¬¡èµ°ä¸€æ­¥ã€‚è¿™æ ·å¿«æ…¢æŒ‡é’ˆå…ˆåŽè¿›å…¥çŽ¯åŽï¼Œç”±äºŽæ¯æ¬¡å¿«ä¸€æ­¥å¥—åœˆï¼Œè¿Ÿæ—©ä¼šè¿½åŠã€‚ å‡è®¾aä¸ºå…¥åœˆå‰éœ€è¦èµ°çš„è·ç¦»ï¼Œè¿½åŠçš„åœ°ç‚¹ä¸Žå…¥åœˆç‚¹è·ç¦»ä¸ºcï¼Œè¿˜å‰©xé‡æ–°å›žåˆ°å…¥åœˆç‚¹ï¼Œå¿«æŒ‡é’ˆæ¯”æ…¢æŒ‡é’ˆå¤šèµ°äº†nåœˆï¼Œé‚£ä¹ˆè¿½åŠçš„æ—¶ï¼Œæ…¢æŒ‡é’ˆèµ°äº†a+cè€Œå¿«æŒ‡é’ˆèµ°äº†a+c+n(x+c)ï¼ˆå·²ç»åˆå¹¶(x+c)é¡¹ï¼‰ã€‚ä¸”a+c+n(x+c) = 2*(a+c) æ‰€ä»¥a = x + (n-1)(x+c)ï¼Œé‚£ä¹ˆæŽ¥ä¸‹æ¥è®©å¿«æŒ‡é’ˆä¹Ÿä¸€æ¬¡ä¸€æ­¥åœ°ä»Žèµ·ç‚¹å¤„å¼€å§‹å‡ºå‘ï¼Œæ…¢æŒ‡é’ˆç»§ç»­å¾€å‰èµ°ï¼Œæœ€ç»ˆå°±èƒ½åœ¨å…¥åœˆç‚¹æ±‡åˆã€‚å…¥åœˆç‚¹å°±æ˜¯æˆ‘ä»¬è¦æ±‚çš„é‡å¤çš„æ•°ã€‚ C++ Code 12345678910111213141516171819202122class Solution &#123;public: int findDuplicate(vector&lt;int&gt;&amp; nums) &#123; if(nums.size() &lt;= 1) &#123; return -1; &#125; int fast = nums[nums[0]]; int slow = nums[0]; while(fast != slow) &#123; fast = nums[nums[fast]]; slow = nums[slow]; &#125; fast = 0; while(fast != slow) &#123; fast = nums[fast]; slow = nums[slow]; &#125; return fast; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 264 Ugly Number II]]></title>
    <url>%2F2019%2F08%2F22%2Fleetcode264%2F</url>
    <content type="text"><![CDATA[æ¯ä¸€ä¸ªUgly Numberå¿…å®šç”±ä¹‹å‰çš„æŸä¸€Ugly Number ï¼ˆé™¤äº†1ä¹‹å¤–ï¼‰ä¹˜ä»¥2ï¼Œ3ï¼Œ5å¾—åˆ°ã€‚ç”¨ä¸‰ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘å½“å‰x2 x3 x5è¿˜æ²¡æœ‰æ”¾è¿›é˜Ÿåˆ—çš„æœ€å°æ•°ï¼Œç„¶åŽæ¯æ¬¡ä»Žä¸‰ä¸ªæ•°åˆ†åˆ«x2 x3 x5åŽå–æœ€å°å€¼ä½œä¸ºæ–°çš„åŠ å…¥é˜Ÿåˆ—çš„æ•°ï¼Œå¹¶ä¸”æ£€æŸ¥æ›´æ–°ä¸‰ä¸ªæŒ‡é’ˆçš„æŒ‡ã€‚ C++ Code 1234567891011121314151617181920212223242526272829303132class Solution &#123;public: int min3(int a, int b, int c) &#123; if(a &lt; b) &#123; if(a &lt; c) return a; else return c; &#125;else &#123; if(b &lt; c) return b; else return c; &#125; &#125; int nthUglyNumber(int n) &#123; int *arr = new int[n]; arr[0] = 1; int k = 1; int index2 = 0, index3 = 0, index5 = 0; while(k &lt; n) &#123; arr[k] = min3(arr[index2] * 2, arr[index3] * 3, arr[index5] * 5); if(arr[k] == arr[index2] * 2) ++index2; if(arr[k] == arr[index3] * 3) ++index3; if(arr[k] == arr[index5] * 5) ++index5; ++k; &#125; int ans = arr[k-1]; delete [] arr; return ans; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Transformerç»“æž„åŠå…¶åº”ç”¨--GPTã€BERTã€MT-DNNã€GPT-2]]></title>
    <url>%2F2019%2F06%2F12%2FTransformer_Application%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡é¦–å…ˆè¯¦ç»†ä»‹ç»Transformerçš„åŸºæœ¬ç»“æž„ï¼Œç„¶åŽå†é€šè¿‡GPTã€BERTã€MT-DNNä»¥åŠGPT-2ç­‰åŸºäºŽTransformerçš„çŸ¥ååº”ç”¨å·¥ä½œçš„ä»‹ç»å¹¶é™„ä¸ŠGitHubé“¾æŽ¥ï¼Œçœ‹çœ‹Transformerå¦‚ä½•åœ¨å„ä¸ªæ¨¡åž‹ä¸­ä¸­å¤§æ˜¾ç¥žå¨ã€‚ æœ¬æ–‡é¦–å‘äºŽçŸ¥ä¹Žä¸“æ ï¼šSoftWiser ä¸€ã€å–ä»£RNNâ€”â€”Transformeråœ¨ä»‹ç»Transformerå‰æˆ‘ä»¬æ¥å›žé¡¾ä¸€ä¸‹RNNçš„ç»“æž„ å¯¹RNNæœ‰ä¸€å®šäº†è§£çš„è¯ï¼Œä¸€å®šä¼šçŸ¥é“ï¼ŒRNNæœ‰ä¸¤ä¸ªå¾ˆæ˜Žæ˜¾çš„é—®é¢˜ æ•ˆçŽ‡é—®é¢˜ï¼šéœ€è¦é€ä¸ªè¯è¿›è¡Œå¤„ç†ï¼ŒåŽä¸€ä¸ªè¯è¦ç­‰åˆ°å‰ä¸€ä¸ªè¯çš„éšçŠ¶æ€è¾“å‡ºä»¥åŽæ‰èƒ½å¼€å§‹å¤„ç† å¦‚æžœä¼ é€’è·ç¦»è¿‡é•¿è¿˜ä¼šæœ‰æ¢¯åº¦æ¶ˆå¤±ã€æ¢¯åº¦çˆ†ç‚¸å’Œé—å¿˜é—®é¢˜ ä¸ºäº†ç¼“è§£ä¼ é€’é—´çš„æ¢¯åº¦å’Œé—å¿˜é—®é¢˜ï¼Œè®¾è®¡äº†å„ç§å„æ ·çš„RNN cellï¼Œæœ€è‘—åçš„ä¸¤ä¸ªå°±æ˜¯LSTMå’ŒGRUäº† LSTM (Long Short Term Memory) GRU (Gated Recurrent Unit) ä½†æ˜¯ï¼Œå¼•ç”¨ç½‘ä¸Šä¸€ä¸ªåšä¸»çš„æ¯”å–»ï¼Œè¿™ä¹ˆåšå°±åƒæ˜¯åœ¨ç»™é©¬è½¦æ¢è½¦è½®ï¼Œä¸ºä»€ä¹ˆä¸ç›´æŽ¥æ¢æˆæ±½è½¦å‘¢ï¼Ÿ äºŽæ˜¯å°±æœ‰äº†æˆ‘ä»¬æœ¬æ–‡è¦ä»‹ç»çš„æ ¸å¿ƒç»“æž„â€”â€”Transformerã€‚Transformer æ˜¯Google Brain 2017çš„æå‡ºçš„ä¸€ç¯‡å·¥ä½œï¼Œå®ƒé’ˆå¯¹RNNçš„å¼±ç‚¹è¿›è¡Œé‡æ–°è®¾è®¡ï¼Œè§£å†³äº†RNNæ•ˆçŽ‡é—®é¢˜å’Œä¼ é€’ä¸­çš„ç¼ºé™·ç­‰ï¼Œåœ¨å¾ˆå¤šé—®é¢˜ä¸Šéƒ½è¶…è¿‡äº†RNNçš„è¡¨çŽ°ã€‚Transfromerçš„åŸºæœ¬ç»“æž„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå®ƒæ˜¯ä¸€ä¸ªNè¿›Nå‡ºçš„ç»“æž„ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªTransformerå•å…ƒç›¸å½“äºŽä¸€å±‚çš„RNNå±‚ï¼ŒæŽ¥æ”¶ä¸€æ•´ä¸ªå¥å­æ‰€æœ‰è¯ä½œä¸ºè¾“å…¥ï¼Œç„¶åŽä¸ºå¥å­ä¸­çš„æ¯ä¸ªè¯éƒ½åšå‡ºä¸€ä¸ªè¾“å‡ºã€‚ä½†æ˜¯ä¸ŽRNNä¸åŒçš„æ˜¯ï¼ŒTransformerèƒ½å¤ŸåŒæ—¶å¤„ç†å¥å­ä¸­çš„æ‰€æœ‰è¯ï¼Œå¹¶ä¸”ä»»æ„ä¸¤ä¸ªè¯ä¹‹é—´çš„æ“ä½œè·ç¦»éƒ½æ˜¯1ï¼Œè¿™ä¹ˆä¸€æ¥å°±å¾ˆå¥½åœ°è§£å†³äº†ä¸Šé¢æåˆ°çš„RNNçš„æ•ˆçŽ‡é—®é¢˜å’Œè·ç¦»é—®é¢˜ã€‚ æ¯ä¸ªTransformerå•å…ƒéƒ½æœ‰ä¸¤ä¸ªæœ€é‡è¦çš„å­å±‚ï¼Œåˆ†åˆ«æ˜¯Self-Attentionå±‚ä¸ŽFeed Forwardå±‚ï¼ŒåŽé¢ä¼šå¯¹è¿™ä¸¤ä¸ªå±‚çš„è¯¦ç»†ç»“æž„åšä»‹ç»ã€‚æ–‡ç« ä½¿ç”¨Transformeræ­å»ºäº†ä¸€ä¸ªç±»ä¼¼Seq2Seqçš„è¯­è¨€ç¿»è¯‘æ¨¡åž‹ï¼Œå¹¶ä¸ºEncoderä¸ŽDecoderè®¾è®¡äº†ä¸¤ç§ä¸åŒçš„Transformerç»“æž„ã€‚ Decoder Transformerç›¸å¯¹äºŽEncoder Transformerå¤šäº†ä¸€ä¸ªEncoder-Decoder Attentionå±‚ï¼Œç”¨æ¥æŽ¥æ”¶æ¥è‡ªäºŽEncoderçš„è¾“å‡ºä½œä¸ºå‚æ•°ã€‚æœ€ç»ˆåªè¦æŒ‰ç…§ä¸‹å›¾çš„æ–¹å¼å †å ï¼Œå°±å¯ä»¥å®ŒæˆTransformer Seq2Seqçš„ç»“æž„æ­å»ºã€‚ ä¸¾ä¸ªä¾‹å­ä»‹ç»ä¸‹å¦‚ä½•ä½¿ç”¨è¿™ä¸ªTransformer Seq2Seqåšç¿»è¯‘ é¦–å…ˆï¼ŒTransformerå¯¹åŽŸè¯­è¨€çš„å¥å­è¿›è¡Œç¼–ç ï¼Œå¾—åˆ°memoryã€‚ ç¬¬ä¸€æ¬¡è§£ç æ—¶è¾“å…¥åªæœ‰ä¸€ä¸ª&lt;SOS&gt;æ ‡å¿—ï¼Œè¡¨ç¤ºå¥å­çš„å¼€å§‹ã€‚ è§£ç å™¨é€šè¿‡è¿™ä¸ªå”¯ä¸€çš„è¾“å…¥å¾—åˆ°çš„å”¯ä¸€çš„è¾“å‡ºï¼Œç”¨äºŽé¢„æµ‹å¥å­çš„ç¬¬ä¸€ä¸ªè¯ã€‚ ç¬¬äºŒæ¬¡è§£ç ï¼Œå°†ç¬¬ä¸€æ¬¡çš„è¾“å‡ºAppendåˆ°è¾“å…¥ä¸­ï¼Œè¾“å…¥å°±å˜æˆäº†&lt;SOS&gt;å’Œå¥å­çš„ç¬¬ä¸€ä¸ªè¯(ground truthæˆ–ä¸Šä¸€æ­¥çš„é¢„æµ‹)ï¼Œè§£ç ç”Ÿæˆçš„ç¬¬äºŒä¸ªè¾“å‡ºç”¨äºŽé¢„æµ‹å¥å­çš„ç¬¬äºŒä¸ªè¯ã€‚ä»¥æ­¤ç±»æŽ¨(è¿‡ç¨‹ä¸ŽSeq2Seqéžå¸¸ç±»ä¼¼) äº†è§£äº†Transformerçš„å¤§è‡´ç»“æž„ä»¥åŠå¦‚ä½•ç”¨å®ƒæ¥å®Œæˆç¿»è¯‘ä»»åŠ¡åŽï¼ŒæŽ¥ä¸‹æ¥å°±çœ‹çœ‹Transformerçš„è¯¦ç»†ç»“æž„ï¼š æ ¸å¿ƒç»„ä»¶å°±æ˜¯ä¸Šé¢æ‰€æåˆ°çš„Self-Attentionå’ŒFeed Forward Networksï¼Œä½†è¿˜æœ‰å¾ˆå¤šå…¶ä»–ç»†èŠ‚ï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬å°±å¼€å§‹é€ä¸ªç»“æž„çš„æ¥è§£è¯»Transformerã€‚ Self Attention Self Attentionå°±æ˜¯å¥å­ä¸­çš„æŸä¸ªè¯å¯¹äºŽæœ¬èº«çš„æ‰€æœ‰è¯åšä¸€æ¬¡Attentionã€‚ç®—å‡ºæ¯ä¸ªè¯å¯¹äºŽè¿™ä¸ªè¯çš„æƒé‡ï¼Œç„¶åŽå°†è¿™ä¸ªè¯è¡¨ç¤ºä¸ºæ‰€æœ‰è¯çš„åŠ æƒå’Œã€‚æ¯ä¸€æ¬¡çš„Self Attentionæ“ä½œï¼Œå°±åƒæ˜¯ä¸ºæ¯ä¸ªè¯åšäº†ä¸€æ¬¡Convolutionæ“ä½œæˆ–Aggregationæ“ä½œã€‚å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š é¦–å…ˆï¼Œæ¯ä¸ªè¯éƒ½è¦é€šè¿‡ä¸‰ä¸ªçŸ©é˜µWq, Wk, Wvè¿›è¡Œä¸€æ¬¡çº¿æ€§å˜åŒ–ï¼Œä¸€åˆ†ä¸ºä¸‰ï¼Œç”Ÿæˆæ¯ä¸ªè¯è‡ªå·±çš„query, key, vectorä¸‰ä¸ªå‘é‡ã€‚ä»¥ä¸€ä¸ªè¯ä¸ºä¸­å¿ƒè¿›è¡ŒSelf Attentionæ—¶ï¼Œéƒ½æ˜¯ç”¨è¿™ä¸ªè¯çš„keyå‘é‡ä¸Žæ¯ä¸ªè¯çš„queryå‘é‡åšç‚¹ç§¯ï¼Œå†é€šè¿‡Softmaxå½’ä¸€åŒ–å‡ºæƒé‡ã€‚ç„¶åŽé€šè¿‡è¿™äº›æƒé‡ç®—å‡ºæ‰€æœ‰è¯çš„vectorçš„åŠ æƒå’Œï¼Œä½œä¸ºè¿™ä¸ªè¯çš„è¾“å‡ºã€‚å…·ä½“è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤º å½’ä¸€åŒ–ä¹‹å‰éœ€è¦é€šè¿‡é™¤ä»¥å‘é‡çš„ç»´åº¦dkæ¥è¿›è¡Œæ ‡å‡†åŒ–ï¼Œæ‰€ä»¥æœ€ç»ˆSelf Attentionç”¨çŸ©é˜µå˜æ¢çš„æ–¹å¼å¯ä»¥è¡¨ç¤ºä¸º æœ€ç»ˆæ¯ä¸ªSelf AttentionæŽ¥å—nä¸ªè¯å‘é‡çš„è¾“å…¥ï¼Œè¾“å‡ºnä¸ªAggregatedçš„å‘é‡ã€‚ ä¸Šæ–‡æåˆ°Encoderä¸­çš„Self Attentionä¸ŽDecoderä¸­çš„æœ‰æ‰€ä¸åŒï¼ŒEncoderä¸­çš„Qã€Kã€Vå…¨éƒ¨æ¥è‡ªäºŽä¸Šä¸€å±‚å•å…ƒçš„è¾“å‡ºï¼Œè€ŒDecoderåªæœ‰Qæ¥è‡ªäºŽä¸Šä¸€ä¸ªDecoderå•å…ƒçš„è¾“å‡ºï¼ŒKä¸ŽVéƒ½æ¥è‡ªäºŽEncoderæœ€åŽä¸€å±‚çš„è¾“å‡ºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒDecoderæ˜¯è¦é€šè¿‡å½“å‰çŠ¶æ€ä¸ŽEncoderçš„è¾“å‡ºç®—å‡ºæƒé‡åŽï¼Œå°†Encoderçš„ç¼–ç åŠ æƒå¾—åˆ°ä¸‹ä¸€å±‚çš„çŠ¶æ€ã€‚ Masked Attention é€šè¿‡è§‚å¯Ÿä¸Šé¢çš„ç»“æž„å›¾æˆ‘ä»¬è¿˜å¯ä»¥å‘çŽ°Decoderä¸ŽEncoderçš„å¦å¤–ä¸€ä¸ªä¸åŒï¼Œå°±æ˜¯æ¯ä¸ªDecoderå•å…ƒçš„è¾“å…¥å±‚ï¼Œè¦å…ˆç»è¿‡ä¸€ä¸ªMasked Attentionå±‚ã€‚é‚£ä¹ˆMaskedçš„ä¸Žæ™®é€šç‰ˆæœ¬çš„Attentionæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ Encoderå› ä¸ºè¦ç¼–ç æ•´ä¸ªå¥å­ï¼Œæ‰€ä»¥æ¯ä¸ªè¯éƒ½éœ€è¦è€ƒè™‘ä¸Šä¸‹æ–‡çš„å…³ç³»ã€‚æ‰€ä»¥æ¯ä¸ªè¯åœ¨è®¡ç®—çš„è¿‡ç¨‹ä¸­éƒ½æ˜¯å¯ä»¥çœ‹åˆ°å¥å­ä¸­æ‰€æœ‰çš„è¯çš„ã€‚ä½†æ˜¯Decoderä¸ŽSeq2Seqä¸­çš„è§£ç å™¨ç±»ä¼¼ï¼Œæ¯ä¸ªè¯éƒ½åªèƒ½çœ‹åˆ°å‰é¢è¯çš„çŠ¶æ€ï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªå•å‘çš„Self-Attentionç»“æž„ã€‚ Masked Attentionçš„å®žçŽ°ä¹Ÿéžå¸¸ç®€å•ï¼Œåªè¦åœ¨æ™®é€šçš„Self Attentionçš„Softmaxæ­¥éª¤ä¹‹å‰ï¼Œä¸Ž(&amp;)ä¸Šä¸€ä¸ªä¸‹ä¸‰è§’çŸ©é˜µMå°±å¥½äº† Multi-Head Attention Multi-Head Attentionå°±æ˜¯å°†ä¸Šè¿°çš„Attentionåšhéï¼Œç„¶åŽå°†hä¸ªè¾“å‡ºè¿›è¡Œconcatå¾—åˆ°æœ€ç»ˆçš„è¾“å‡ºã€‚è¿™æ ·åšå¯ä»¥å¾ˆå¥½åœ°æé«˜ç®—æ³•çš„ç¨³å®šæ€§ï¼Œåœ¨å¾ˆå¤šAttentionç›¸å…³çš„å·¥ä½œä¸­éƒ½æœ‰ç›¸å…³çš„åº”ç”¨ã€‚Transformerçš„å®žçŽ°ä¸­ï¼Œä¸ºäº†æé«˜Multi-Headçš„æ•ˆçŽ‡ï¼Œå°†Wæ‰©å¤§äº†hå€ï¼Œç„¶åŽé€šè¿‡view(reshape)å’Œtransposeæ“ä½œå°†ç›¸åŒè¯çš„ä¸åŒheadçš„kã€qã€væŽ’åˆ—åœ¨ä¸€èµ·è¿›è¡ŒåŒæ—¶è®¡ç®—ï¼Œå®Œæˆè®¡ç®—åŽå†æ¬¡é€šè¿‡reshapeå’Œtransposeå®Œæˆæ‹¼æŽ¥ï¼Œç›¸å½“äºŽå¯¹äºŽæ‰€æœ‰çš„headè¿›è¡Œäº†ä¸€ä¸ªå¹¶è¡Œå¤„ç†ã€‚ Position-wise Feed Forward Networks Encoderä¸­å’ŒDecoderä¸­ç»è¿‡Attentionä¹‹åŽè¾“å‡ºçš„nä¸ªå‘é‡ï¼ˆè¿™é‡Œnæ˜¯è¯çš„ä¸ªæ•°ï¼‰éƒ½åˆ†åˆ«çš„è¾“å…¥åˆ°ä¸€ä¸ªå…¨è¿žæŽ¥å±‚ä¸­ï¼Œå®Œæˆä¸€ä¸ªé€ä¸ªä½ç½®çš„å‰é¦ˆç½‘ç»œã€‚ Add &amp; Norm æ˜¯ä¸€ä¸ªæ®‹å·®ç½‘ç»œï¼Œå°†ä¸€å±‚çš„è¾“å…¥ä¸Žå…¶æ ‡å‡†åŒ–åŽçš„è¾“å‡ºè¿›è¡Œç›¸åŠ å³å¯ã€‚Transformerä¸­æ¯ä¸€ä¸ªSelf Attentionå±‚ä¸ŽFFNå±‚åŽé¢éƒ½ä¼šè¿žä¸€ä¸ªAdd &amp; Normå±‚ã€‚ Positional Encoding ç”±äºŽTransformerä¸­æ—¢ä¸å­˜åœ¨RNNï¼Œä¹Ÿä¸åŒäºŽCNNï¼Œå¥å­é‡Œçš„æ‰€æœ‰è¯éƒ½è¢«åŒç­‰çš„çœ‹å¾…ï¼Œæ‰€ä»¥è¯ä¹‹é—´å°±æ²¡æœ‰äº†å…ˆåŽå…³ç³»ã€‚æ¢å¥è¯è¯´ï¼Œå¾ˆå¯èƒ½ä¼šå¸¦ä¸Šå’Œè¯è¢‹æ¨¡åž‹ç›¸åŒçš„ä¸è¶³ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒTransformeræå‡ºäº†Positional Encodingçš„æ–¹æ¡ˆï¼Œå°±æ˜¯ç»™æ¯ä¸ªè¾“å…¥çš„è¯å‘é‡å åŠ ä¸€ä¸ªå›ºå®šçš„å‘é‡æ¥è¡¨ç¤ºå®ƒçš„ä½ç½®ã€‚æ–‡ä¸­ä½¿ç”¨çš„Positional Encodingå¦‚ä¸‹ï¼š å…¶ä¸­posæ˜¯è¯åœ¨å¥å­ä¸­çš„ä½ç½®ï¼Œiæ˜¯è¯å‘é‡ä¸­ç¬¬iä½ï¼Œå³å°†æ¯ä¸ªè¯çš„è¯å‘é‡ä¸ºä¸€è¡Œè¿›è¡Œå åŠ ï¼Œç„¶åŽé’ˆå¯¹æ¯ä¸€åˆ—éƒ½å åŠ ä¸Šä¸€ä¸ªç›¸ä½ä¸åŒæˆ–æ³¢é•¿é€æ¸å¢žå¤§çš„æ³¢ï¼Œä»¥æ­¤æ¥å”¯ä¸€åŒºåˆ†ä½ç½®ã€‚ Transformer å·¥ä½œæµç¨‹ Transformerçš„å·¥ä½œæµç¨‹å°±æ˜¯ä¸Šé¢ä»‹ç»çš„æ¯ä¸€ä¸ªå­æµç¨‹çš„æ‹¼æŽ¥ è¾“å…¥çš„è¯å‘é‡é¦–å…ˆå åŠ ä¸ŠPositional Encodingï¼Œç„¶åŽè¾“å…¥è‡³Transformerå†… æ¯ä¸ªEncoder Transformerä¼šè¿›è¡Œä¸€æ¬¡Multi-head self attention-&gt;Add &amp; Normalize-&gt;FFN-&gt;Add &amp; Normalizeæµç¨‹ï¼Œç„¶åŽå°†è¾“å‡ºè¾“å…¥è‡³ä¸‹ä¸€ä¸ªEncoderä¸­ æœ€åŽä¸€ä¸ªEncoderçš„è¾“å‡ºå°†ä¼šä½œä¸ºmemoryä¿ç•™ æ¯ä¸ªDecoder Transformerä¼šè¿›è¡Œä¸€æ¬¡Masked Multi-head self attention-&gt;Multi-head self attention-&gt;Add &amp; Normalize-&gt;FFN-&gt;Add &amp; Normalizeæµç¨‹ï¼Œå…¶ä¸­Multi-head self attentionæ—¶çš„Kã€Vè‡³æ¥è‡ªäºŽEncoderçš„memoryã€‚æ ¹æ®ä»»åŠ¡è¦æ±‚è¾“å‡ºéœ€è¦çš„æœ€åŽä¸€å±‚Embeddingã€‚ Transformerçš„è¾“å‡ºå‘é‡å¯ä»¥ç”¨æ¥åšå„ç§ä¸‹æ¸¸ä»»åŠ¡ GitHubé“¾æŽ¥ï¼šhttps://github.com/harvardnlp/annotated-transformer Post Scriptum è™½ç„¶åœ¨Transformeræ–‡ç« ä¸­æå‡ºäº†ä¸€ç§è‡ªç„¶è¯­è¨€ç¿»è¯‘çš„æ¨¡åž‹ï¼Œå¾ˆå¤šæ–‡ç« æŠŠè¿™ä¸ªæ¨¡åž‹ç§°ä¸ºTransformerã€‚ä½†æˆ‘ä»¬è¿˜æ˜¯å€¾å‘äºŽå°†æ–‡ç« ä¸­åˆ©ç”¨Self-Attentionçš„Encoderæˆ–Decoderçš„å­ç»“æž„ç§°ä¸ºTransformerã€‚æ–‡ä¸­å’Œæºç ä¸­è¿˜åŒ…å«äº†å¾ˆå¤šå…¶ä»–çš„ä¸€äº›ä¼˜åŒ–ä¾‹å¦‚å­¦ä¹ çŽ‡åŠ¨æ€å˜åŒ–ï¼ŒResidual Dropoutä»¥åŠLabel Smoothingåœ¨è¿™é‡Œå°±ä¸å†èµ˜è¿°ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥é˜…è¯»ç›¸å…³å‚è€ƒæ–‡çŒ®è¿›è¡Œäº†è§£ã€‚ äºŒã€å•å‘äºŒé˜¶æ®µè®­ç»ƒæ¨¡åž‹â€”â€”OpenAI GPTGPT(Generative Pre-Training)ï¼Œæ˜¯OpenAIåœ¨2018å¹´æå‡ºçš„æ¨¡åž‹ï¼Œåˆ©ç”¨Transformeræ¨¡åž‹æ¥è§£å†³å„ç§è‡ªç„¶è¯­è¨€é—®é¢˜ï¼Œä¾‹å¦‚åˆ†ç±»ã€æŽ¨ç†ã€é—®ç­”ã€ç›¸ä¼¼åº¦ç­‰åº”ç”¨çš„æ¨¡åž‹ã€‚GPTé‡‡ç”¨äº†Pre-training + Fine-tuningçš„è®­ç»ƒæ¨¡å¼ï¼Œä½¿å¾—å¤§é‡æ— æ ‡è®°çš„æ•°æ®å¾—ä»¥åˆ©ç”¨ï¼Œå¤§å¤§æé«˜äº†è¿™äº›é—®é¢˜çš„æ•ˆæžœã€‚ GPTå°±æ˜¯åˆ©ç”¨Transformerè¿›è¡Œè‡ªç„¶è¯­è¨€å„ç§ä»»åŠ¡çš„å°è¯•ä¹‹ä¸€ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ä¸ªè¦ç‚¹ Pre-Trainingçš„æ–¹å¼ å•å‘Transformeræ¨¡åž‹ Fine-Tuningä¸Žä¸åŒè¾“å…¥æ•°æ®ç»“æž„çš„å˜åŒ– å¦‚æžœå·²ç»ç†è§£äº†Transformerçš„åŽŸç†ï¼Œé‚£ä¹ˆåªéœ€è¦å†æžæ‡‚ä¸Šé¢çš„ä¸‰ä¸ªå†…å®¹å°±èƒ½å¤Ÿå¯¹GPTæœ‰æ›´æ·±çš„è®¤è¯†ã€‚ Pre-Training è®­ç»ƒæ–¹å¼ å¾ˆå¤šæœºå™¨å­¦ä¹ ä»»åŠ¡éƒ½éœ€è¦å¸¦æ ‡ç­¾çš„æ•°æ®é›†ä½œä¸ºè¾“å…¥å®Œæˆã€‚ä½†æ˜¯æˆ‘ä»¬èº«è¾¹å­˜åœ¨å¤§é‡æ²¡æœ‰æ ‡æ³¨çš„æ•°æ®ï¼Œä¾‹å¦‚æ–‡æœ¬ã€å›¾ç‰‡ã€ä»£ç ç­‰ç­‰ã€‚æ ‡æ³¨è¿™äº›æ•°æ®éœ€è¦èŠ±è´¹å¤§é‡çš„äººåŠ›å’Œæ—¶é—´ï¼Œæ ‡æ³¨çš„é€Ÿåº¦è¿œè¿œä¸åŠæ•°æ®äº§ç”Ÿçš„é€Ÿåº¦ï¼Œæ‰€ä»¥å¸¦æœ‰æ ‡ç­¾çš„æ•°æ®å¾€å¾€åªå æœ‰æ€»æ•°æ®é›†å¾ˆå°çš„ä¸€éƒ¨åˆ†ã€‚éšç€ç®—åŠ›çš„ä¸æ–­æé«˜ï¼Œè®¡ç®—æœºèƒ½å¤Ÿå¤„ç†çš„æ•°æ®é‡é€æ¸å¢žå¤§ã€‚å¦‚æžœä¸èƒ½å¾ˆå¥½åˆ©ç”¨è¿™äº›æ— æ ‡ç­¾çš„æ•°æ®å°±æ˜¾å¾—å¾ˆæµªè´¹ã€‚ æ‰€ä»¥åŠç›‘ç£å­¦ä¹ å’Œé¢„è®­ç»ƒ+å¾®è°ƒçš„äºŒé˜¶æ®µæ¨¡å¼æ•´å˜å¾—è¶Šæ¥è¶Šå—æ¬¢è¿Žã€‚æœ€å¸¸è§çš„äºŒé˜¶æ®µæ–¹æ³•å°±æ˜¯Word2Vecï¼Œä½¿ç”¨å¤§é‡æ— æ ‡è®°çš„æ–‡æœ¬è®­ç»ƒå‡ºå¸¦æœ‰ä¸€å®šè¯­ä¹‰ä¿¡æ¯çš„è¯å‘é‡ï¼Œç„¶åŽå°†è¿™äº›è¯å‘é‡ä½œä¸ºä¸‹æ¸¸æœºå™¨å­¦ä¹ ä»»åŠ¡çš„è¾“å…¥ï¼Œå°±èƒ½å¤Ÿå¤§å¤§æé«˜ä¸‹æ¸¸æ¨¡åž‹çš„æ³›åŒ–èƒ½åŠ›ã€‚ ä½†æ˜¯Word2Vecæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å•ä¸ªå•è¯åªèƒ½æœ‰ä¸€ä¸ªEmbeddingã€‚è¿™æ ·ä¸€æ¥ï¼Œä¸€è¯å¤šä¹‰å°±ä¸èƒ½å¾ˆå¥½åœ°è¿›è¡Œè¡¨ç¤ºã€‚ ELMoé¦–å…ˆæƒ³åˆ°äº†åœ¨é¢„è®­ç»ƒé˜¶æ®µä¸ºæ¯ä¸ªè¯æ±‡é›†å…¶ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä½¿ç”¨çš„æ˜¯åŸºäºŽbi-LSTMçš„è¯­è¨€æ¨¡åž‹ç»™è¯å‘é‡å¸¦ä¸Šä¸Šä¸‹æ–‡è¯­ä¹‰ä¿¡æ¯ï¼š ä¸Šå¼åˆ†åˆ«ä»£è¡¨äº†å·¦å³ä¸¤å‘çš„LSTM-RNNï¼Œä»–ä»¬å…±äº«è¾“å…¥çš„è¯å‘é‡Xä»¥åŠRNNå„å±‚æƒé‡Sï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨åŒå‘RNNä¸¤å‘çš„è¾“å‡ºï¼Œæ¥åŒæ—¶é¢„æµ‹ä¸‹ä¸€ä¸ªå•è¯(å³å‘çš„ä¸‹ä¸€ä¸ªï¼Œå·¦å‘çš„ä¸Šä¸€ä¸ª)ï¼Œå…·ä½“ç»“æž„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä½†ELMoä½¿ç”¨çš„æ˜¯RNNæ¥å®Œæˆè¯­è¨€æ¨¡åž‹çš„é¢„è®­ç»ƒï¼Œé‚£ä¹ˆå¦‚ä½•ä½¿ç”¨Transformeræ¥å®Œæˆé¢„è®­ç»ƒå‘¢ï¼Ÿ å•å‘Transformerç»“æž„ OpenAI GPTé‡‡ç”¨äº†å•å‘Transformerå®Œæˆäº†è¿™é¡¹é¢„è®­ç»ƒä»»åŠ¡ã€‚ ä»€ä¹ˆæ˜¯å•å‘Transformerï¼Ÿåœ¨Transformerçš„æ–‡ç« ä¸­ï¼Œæåˆ°äº†Encoderä¸ŽDecoderä½¿ç”¨çš„Transformer Blockæ˜¯ä¸åŒçš„ã€‚åœ¨Decoder Blockä¸­ï¼Œä½¿ç”¨äº†Masked Self-Attentionï¼Œå³å¥å­ä¸­çš„æ¯ä¸ªè¯ï¼Œéƒ½åªèƒ½å¯¹åŒ…æ‹¬è‡ªå·±åœ¨å†…çš„å‰é¢æ‰€æœ‰è¯è¿›è¡ŒAttentionï¼Œè¿™å°±æ˜¯å•å‘Transformerã€‚GPTä½¿ç”¨çš„Transformerç»“æž„å°±æ˜¯å°†Encoderä¸­çš„Self-Attentionæ›¿æ¢æˆäº†Masked Self-Attentionï¼Œå…·ä½“ç»“æž„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç”±äºŽé‡‡ç”¨çš„æ˜¯å•å‘çš„Transformerï¼Œåªèƒ½çœ‹åˆ°ä¸Šæ–‡çš„è¯ï¼Œæ‰€ä»¥è¯­è¨€æ¨¡åž‹ä¸ºï¼š è€Œè®­ç»ƒçš„è¿‡ç¨‹å…¶å®žéžå¸¸çš„ç®€å•ï¼Œå°±æ˜¯å°†å¥å­nä¸ªè¯çš„è¯å‘é‡(ç¬¬ä¸€ä¸ªä¸º&lt;SOS&gt;)åŠ ä¸ŠPositional EncodingåŽè¾“å…¥åˆ°å‰é¢æåˆ°çš„Transfromerä¸­ï¼Œnä¸ªè¾“å‡ºåˆ†åˆ«é¢„æµ‹è¯¥ä½ç½®çš„ä¸‹ä¸€ä¸ªè¯(&lt;SOS&gt;é¢„æµ‹å¥å­ä¸­çš„ç¬¬ä¸€ä¸ªè¯ï¼Œæœ€åŽä¸€ä¸ªè¯çš„é¢„æµ‹ç»“æžœä¸ç”¨äºŽè¯­è¨€æ¨¡åž‹çš„è®­ç»ƒ)ã€‚ ç”±äºŽä½¿ç”¨äº†Masked Self-Attentionï¼Œæ‰€ä»¥æ¯ä¸ªä½ç½®çš„è¯éƒ½ä¸ä¼šâ€œçœ‹è§â€åŽé¢çš„è¯ï¼Œä¹Ÿå°±æ˜¯é¢„æµ‹çš„æ—¶å€™æ˜¯çœ‹ä¸è§â€œç­”æ¡ˆâ€çš„ï¼Œä¿è¯äº†æ¨¡åž‹çš„åˆç†æ€§ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆOpenAIé‡‡ç”¨äº†å•å‘Transformerçš„åŽŸå› ã€‚ Fine-Tuningä¸Žä¸åŒè¾“å…¥æ•°æ®ç»“æž„çš„å˜åŒ– æŽ¥ä¸‹æ¥å°±è¿›å…¥æ¨¡åž‹è®­ç»ƒçš„ç¬¬äºŒæ­¥ï¼Œè¿ç”¨å°‘é‡çš„å¸¦æ ‡ç­¾æ•°æ®å¯¹æ¨¡åž‹å‚æ•°è¿›è¡Œå¾®è°ƒã€‚ ä¸Šä¸€æ­¥ä¸­æœ€åŽä¸€ä¸ªè¯çš„è¾“å‡ºæˆ‘ä»¬æ²¡æœ‰ç”¨åˆ°ï¼Œåœ¨è¿™ä¸€æ­¥ä¸­å°±è¦ä½¿ç”¨è¿™ä¸€ä¸ªè¾“å‡ºæ¥ä½œä¸ºä¸‹æ¸¸ç›‘ç£å­¦ä¹ çš„è¾“å…¥ã€‚ ä¸ºé¿å…Fine-Tuningä½¿å¾—æ¨¡åž‹é™·å…¥è¿‡æ‹Ÿåˆï¼Œæ–‡ä¸­è¿˜æåˆ°äº†è¾…åŠ©è®­ç»ƒç›®æ ‡çš„æ–¹æ³•ï¼Œç±»ä¼¼äºŽä¸€ä¸ªå¤šä»»åŠ¡æ¨¡åž‹æˆ–è€…åŠç›‘ç£å­¦ä¹ ã€‚å…·ä½“æ–¹æ³•å°±æ˜¯åœ¨ä½¿ç”¨æœ€åŽä¸€ä¸ªè¯çš„é¢„æµ‹ç»“æžœè¿›è¡Œç›‘ç£å­¦ä¹ çš„åŒæ—¶ï¼Œå‰é¢çš„è¯ç»§ç»­ä¸Šä¸€æ­¥çš„æ— ç›‘ç£è®­ç»ƒï¼Œä½¿å¾—æœ€ç»ˆçš„æŸå¤±å‡½æ•°æˆä¸ºï¼š é’ˆå¯¹ä¸åŒä»»åŠ¡ï¼Œéœ€è¦ä¿®æ”¹è¾“å…¥æ•°æ®çš„æ ¼å¼ï¼š Classificationï¼šå¯¹äºŽåˆ†ç±»é—®é¢˜ï¼Œä¸éœ€è¦åšä»€ä¹ˆä¿®æ”¹ Entailmentï¼šå¯¹äºŽæŽ¨ç†é—®é¢˜ï¼Œå¯ä»¥å°†å…ˆéªŒä¸Žå‡è®¾ä½¿ç”¨ä¸€ä¸ªåˆ†éš”ç¬¦åˆ†å¼€ Similarityï¼šå¯¹äºŽç›¸ä¼¼åº¦é—®é¢˜ï¼Œç”±äºŽæ¨¡åž‹æ˜¯å•å‘çš„ï¼Œä½†ç›¸ä¼¼åº¦ä¸Žé¡ºåºæ— å…³ã€‚æ‰€ä»¥éœ€è¦å°†ä¸¤ä¸ªå¥å­é¡ºåºé¢ å€’åŽä¸¤æ¬¡è¾“å…¥çš„ç»“æžœç›¸åŠ æ¥åšæœ€åŽçš„æŽ¨æµ‹ Multiple Choiceï¼šå¯¹äºŽé—®ç­”é—®é¢˜ï¼Œåˆ™æ˜¯å°†ä¸Šä¸‹æ–‡ã€é—®é¢˜æ”¾åœ¨ä¸€èµ·ä¸Žç­”æ¡ˆåˆ†éš”å¼€ï¼Œç„¶åŽè¿›è¡Œé¢„æµ‹ GitHubé“¾æŽ¥ï¼šhttps://github.com/openai/finetune-transformer-lm Post Scriptum OpenAI GPTåœ¨Transformerçš„è¿ç”¨å’ŒäºŒé˜¶æ®µè®­ç»ƒæ–¹å¼ä¸Šåšå‡ºäº†å¾ˆå¥½çš„æŽ¢ç´¢ï¼Œä¹Ÿå–å¾—äº†éžå¸¸ä¸é”™çš„æ•ˆæžœï¼Œä¸ºåŽé¢çš„BERTé“ºå¹³äº†é“è·¯ã€‚ ä¸‰ã€åŒå‘äºŒé˜¶æ®µè®­ç»ƒæ¨¡åž‹â€”â€”BERTBERT(Bidirectional Encoder Representation from Transformer)ï¼Œæ˜¯Google Brainåœ¨2018å¹´æå‡ºçš„åŸºäºŽTransformerçš„è‡ªç„¶è¯­è¨€è¡¨ç¤ºæ¡†æž¶ã€‚ä¸€æå‡ºå°±èŽ·å¾—äº†å¤§é‡çš„å…³æ³¨ã€‚BERTä¸ŽGPTä¸€æ ·ï¼Œé‡‡å–äº†Pre-training + Fine-tuningçš„è®­ç»ƒæ–¹å¼ï¼Œåœ¨åˆ†ç±»ã€æ ‡æ³¨ç­‰ä»»åŠ¡ä¸‹éƒ½èŽ·å¾—äº†æ›´å¥½çš„æ•ˆæžœã€‚ BERTä¸ŽGPTéžå¸¸çš„ç›¸ä¼¼ï¼Œéƒ½æ˜¯åŸºäºŽTransformerçš„äºŒé˜¶æ®µè®­ç»ƒæ¨¡åž‹ï¼Œéƒ½åˆ†ä¸ºPre-Trainingä¸ŽFine-Tuningä¸¤ä¸ªé˜¶æ®µï¼Œéƒ½åœ¨Pre-Trainingé˜¶æ®µæ— ç›‘ç£åœ°è®­ç»ƒå‡ºä¸€ä¸ªå¯é€šç”¨çš„Transformeræ¨¡åž‹ï¼Œç„¶åŽåœ¨Fine-Tuningé˜¶æ®µå¯¹è¿™ä¸ªæ¨¡åž‹ä¸­çš„å‚æ•°è¿›è¡Œå¾®è°ƒï¼Œä½¿ä¹‹èƒ½å¤Ÿé€‚åº”ä¸åŒçš„ä¸‹æ¸¸ä»»åŠ¡ã€‚ è™½ç„¶BERTä¸ŽGPTçœ‹ä¸ŠåŽ»éžå¸¸çš„ç›¸ä¼¼ï¼Œä½†æ˜¯å®ƒä»¬çš„è®­ç»ƒç›®æ ‡å’Œæ¨¡åž‹ç»“æž„å’Œä½¿ç”¨ä¸Šè¿˜æ˜¯æœ‰ç€äº›è®¸çš„ä¸åŒï¼š GPTé‡‡ç”¨çš„æ˜¯å•å‘çš„Transformerï¼Œè€ŒBERTé‡‡ç”¨çš„æ˜¯åŒå‘çš„Transformerï¼Œä¹Ÿå°±æ˜¯ä¸ç”¨è¿›è¡ŒMaskæ“ä½œï¼› ä½¿ç”¨çš„ç»“æž„çš„ä¸åŒï¼Œç›´æŽ¥å¯¼è‡´äº†å®ƒä»¬åœ¨Pre-Trainingé˜¶æ®µè®­ç»ƒç›®æ ‡çš„ä¸åŒï¼› åŒå‘Transformer BERTé‡‡ç”¨çš„æ˜¯ä¸ç»è¿‡Maskçš„Transformerï¼Œä¹Ÿå°±æ˜¯ä¸ŽTransformeræ–‡ç« ä¸­çš„Encoder Transformerç»“æž„å®Œå…¨ä¸€æ ·ï¼š GPTä¸­å› ä¸ºè¦å®Œæˆè¯­è¨€æ¨¡åž‹çš„è®­ç»ƒï¼Œä¹Ÿå°±è¦æ±‚Pre-Trainingé¢„æµ‹ä¸‹ä¸€ä¸ªè¯çš„æ—¶å€™åªèƒ½å¤Ÿçœ‹è§å½“å‰ä»¥åŠä¹‹å‰çš„è¯ï¼Œè¿™ä¹Ÿæ˜¯GPTæ”¾å¼ƒåŽŸæœ¬Transformerçš„åŒå‘ç»“æž„è½¬è€Œé‡‡ç”¨å•å‘ç»“æž„çš„åŽŸå› ã€‚ BERTä¸ºäº†èƒ½å¤ŸåŒæ—¶å¾—åˆ°ä¸Šä¸‹æ–‡çš„ä¿¡æ¯ï¼Œè€Œä¸æ˜¯åƒGPTä¸€æ ·å®Œå…¨æ”¾å¼ƒä¸‹æ–‡ä¿¡æ¯ï¼Œé‡‡ç”¨äº†åŒå‘çš„Transformerã€‚ä½†æ˜¯è¿™æ ·ä¸€æ¥ï¼Œå°±æ— æ³•å†åƒGPTä¸€æ ·é‡‡ç”¨æ­£å¸¸çš„è¯­è¨€æ¨¡åž‹æ¥é¢„è®­ç»ƒäº†ï¼Œå› ä¸ºBERTçš„ç»“æž„å¯¼è‡´æ¯ä¸ªTransformerçš„è¾“å‡ºéƒ½å¯ä»¥çœ‹è§æ•´ä¸ªå¥å­çš„ï¼Œæ— è®ºä½ ç”¨è¿™ä¸ªè¾“å‡ºåŽ»é¢„æµ‹ä»€ä¹ˆï¼Œéƒ½ä¼šâ€œçœ‹è§â€å‚è€ƒç­”æ¡ˆï¼Œä¹Ÿå°±æ˜¯â€œsee itselfâ€çš„é—®é¢˜ã€‚ELMoä¸­è™½ç„¶é‡‡ç”¨çš„æ˜¯åŒå‘RNNï¼Œä½†æ˜¯ä¸¤ä¸ªRNNä¹‹é—´æ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥å¯ä»¥é¿å…see itselfçš„é—®é¢˜ã€‚ Pre-Trainingé˜¶æ®µ é‚£ä¹ˆBERTæƒ³ç”¨åŒå‘çš„Transformeræ¨¡åž‹ï¼Œå°±ä¸å¾—ä¸æ”¾å¼ƒGPTä¸­æ‰€é‡‡ç”¨çš„è¯­è¨€æ¨¡åž‹æ¥ä½œä¸ºé¢„è®­ç»ƒçš„ç›®æ ‡å‡½æ•°ã€‚å–è€Œä»£ä¹‹çš„ï¼ŒBERTæå‡ºäº†ä¸€ç§å®Œå…¨ä¸åŒçš„é¢„è®­ç»ƒæ–¹æ³•ã€‚ Masked Language Model (MLM) åœ¨Transformerä¸­ï¼Œæˆ‘ä»¬å³æƒ³è¦çŸ¥é“ä¸Šæ–‡çš„ä¿¡æ¯ï¼Œåˆæƒ³è¦çŸ¥é“ä¸‹æ–‡çš„ä¿¡æ¯ï¼Œä½†åŒæ—¶è¦ä¿è¯æ•´ä¸ªæ¨¡åž‹ä¸çŸ¥é“è¦é¢„æµ‹è¯çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆå°±å¹²è„†ä¸è¦å‘Šè¯‰æ¨¡åž‹è¿™ä¸ªè¯çš„ä¿¡æ¯å°±å¯ä»¥äº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒBERTåœ¨è¾“å…¥çš„å¥å­ä¸­ï¼ŒæŒ–æŽ‰ä¸€äº›éœ€è¦é¢„æµ‹çš„è¯ï¼Œç„¶åŽé€šè¿‡ä¸Šä¸‹æ–‡æ¥åˆ†æžå¥å­ï¼Œæœ€ç»ˆä½¿ç”¨å…¶ç›¸åº”ä½ç½®çš„è¾“å‡ºæ¥é¢„æµ‹è¢«æŒ–æŽ‰çš„è¯ã€‚è¿™å…¶å®žå°±åƒæ˜¯åœ¨åšå®Œå½¢å¡«ç©º (Cloze)ä¸€æ ·ã€‚ ä½†æ˜¯ï¼Œç›´æŽ¥å°†å¤§é‡çš„è¯æ›¿æ¢ä¸º&lt;MASK&gt;æ ‡ç­¾å¯èƒ½ä¼šé€ æˆä¸€äº›é—®é¢˜ï¼Œæ¨¡åž‹å¯èƒ½ä¼šè®¤ä¸ºåªéœ€è¦é¢„æµ‹&lt;MASK&gt;ç›¸åº”çš„è¾“å‡ºå°±è¡Œï¼Œå…¶ä»–ä½ç½®çš„è¾“å‡ºå°±æ— æ‰€è°“ã€‚åŒæ—¶Fine-Tuningé˜¶æ®µçš„è¾“å…¥æ•°æ®ä¸­å¹¶æ²¡æœ‰&lt;MASK&gt;æ ‡ç­¾ï¼Œä¹Ÿæœ‰æ•°æ®åˆ†å¸ƒä¸åŒçš„é—®é¢˜ã€‚ä¸ºäº†å‡è½»è¿™æ ·è®­ç»ƒå¸¦æ¥çš„å½±å“ï¼ŒBERTé‡‡ç”¨äº†å¦‚ä¸‹çš„æ–¹å¼ï¼š è¾“å…¥æ•°æ®ä¸­éšæœºé€‰æ‹©15%çš„è¯ç”¨äºŽé¢„æµ‹ï¼Œè¿™15%çš„è¯ä¸­ï¼Œ 80%çš„è¯å‘é‡è¾“å…¥æ—¶è¢«æ›¿æ¢ä¸º&lt;MASK&gt; 10%çš„è¯çš„è¯å‘é‡åœ¨è¾“å…¥æ—¶è¢«æ›¿æ¢ä¸ºå…¶ä»–è¯çš„è¯å‘é‡ å¦å¤–10%ä¿æŒä¸åŠ¨ è¿™æ ·ä¸€æ¥å°±ç›¸å½“äºŽå‘Šè¯‰æ¨¡åž‹ï¼Œæˆ‘å¯èƒ½ç»™ä½ ç­”æ¡ˆï¼Œä¹Ÿå¯èƒ½ä¸ç»™ä½ ç­”æ¡ˆï¼Œä¹Ÿå¯èƒ½ç»™ä½ é”™è¯¯çš„ç­”æ¡ˆï¼Œæœ‰&lt;MASK&gt;çš„åœ°æ–¹æˆ‘ä¼šæ£€æŸ¥ä½ çš„ç­”æ¡ˆï¼Œæ²¡&lt;MASK&gt;çš„åœ°æ–¹æˆ‘ä¹Ÿå¯èƒ½æ£€æŸ¥ä½ çš„ç­”æ¡ˆï¼Œæ‰€ä»¥&lt;MASK&gt;æ ‡ç­¾å¯¹ä½ æ¥è¯´æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šæ„ä¹‰ï¼Œæ‰€ä»¥æ— è®ºå¦‚ä½•ï¼Œä½ éƒ½è¦å¥½å¥½é¢„æµ‹æ‰€æœ‰ä½ç½®çš„è¾“å‡ºã€‚ Next Sentence Prediction (NSP) BERTè¿˜æå‡ºäº†å¦å¤–ä¸€ç§é¢„è®­ç»ƒæ–¹å¼NSPï¼Œä¸ŽMLMåŒæ—¶è¿›è¡Œï¼Œç»„æˆå¤šä»»åŠ¡é¢„è®­ç»ƒã€‚è¿™ç§é¢„è®­ç»ƒçš„æ–¹å¼å°±æ˜¯å¾€Transformerä¸­è¾“å…¥è¿žç»­çš„ä¸¤ä¸ªå¥å­ï¼Œå·¦è¾¹çš„å¥å­å‰é¢åŠ ä¸Šä¸€ä¸ª&lt;CLS&gt;æ ‡ç­¾ï¼Œå®ƒçš„è¾“å‡ºè¢«ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå¥å­ä¹‹é—´æ˜¯å¦æ˜¯è¿žç»­ä¸Šä¸‹æ–‡å…³ç³»ã€‚é‡‡ç”¨è´Ÿé‡‡æ ·çš„æ–¹æ³•ï¼Œæ­£è´Ÿæ ·æœ¬å„å 50%ã€‚ ä¸ºäº†åŒºåˆ†ä¸¤ä¸ªå¥å­çš„å‰åŽå…³ç³»ï¼ŒBERTé™¤äº†åŠ å…¥äº†Positional Encodingä¹‹å¤–ï¼Œè¿˜ä¸¤å¤–åŠ å…¥äº†ä¸€ä¸ªåœ¨é¢„è®­ç»ƒæ—¶éœ€è¦å­¦ä¹ çš„Segment Embeddingæ¥åŒºåˆ†ä¸¤ä¸ªå¥å­ã€‚è¿™æ ·ä¸€æ¥ï¼ŒBERTçš„è¾“å…¥å°±ç”±è¯å‘é‡ã€ä½ç½®å‘é‡ã€æ®µå‘é‡ä¸‰ä¸ªéƒ¨åˆ†ç›¸åŠ ç»„æˆã€‚æ­¤å¤–ï¼Œä¸¤ä¸ªå¥å­ä¹‹é—´ä½¿ç”¨&lt;SEP&gt;æ ‡ç­¾äºˆä»¥åŒºåˆ†ã€‚ æ•´ä½“Pre-Trainingçš„ç¤ºæ„å›¾å¦‚ä¸‹ï¼š Fine-Tuningé˜¶æ®µ BERTçš„Fine-Tuningé˜¶æ®µå’ŒGPTæ²¡æœ‰å¤ªå¤§åŒºåˆ«ã€‚å› ä¸ºé‡‡ç”¨äº†åŒå‘çš„Transformeræ‰€ä»¥æ”¾å¼ƒäº†GPTåœ¨Fine-Tuningé˜¶æ®µä½¿ç”¨çš„è¾…åŠ©è®­ç»ƒç›®æ ‡ï¼Œä¹Ÿå°±æ˜¯è¯­è¨€æ¨¡åž‹ã€‚æ­¤å¤–å°±æ˜¯å°†åˆ†ç±»é¢„æµ‹ç”¨çš„è¾“å‡ºå‘é‡ä»ŽGPTçš„æœ€åŽä¸€ä¸ªè¯çš„è¾“å‡ºä½ç½®æ”¹ä¸ºäº†å¥å­å¼€å¤´&lt;CLS&gt;çš„ä½ç½®äº†ã€‚ä¸åŒçš„ä»»åŠ¡Fine-Tuningçš„ç¤ºæ„å›¾å¦‚ä¸‹ï¼š GitHubé“¾æŽ¥ï¼šhttps://github.com/google-research/bert Post Scriptum ä¸ªäººè®¤ä¸ºï¼ŒBERTåªæ˜¯GPTæ¨¡åž‹çš„ä¸€ç§trade-offï¼Œä¸ºäº†åœ¨ä¸¤ä¸ªé˜¶æ®µéƒ½èƒ½å¤ŸåŒæ—¶èŽ·å¾—å¥å­ä¸Šä¸‹æ–‡çš„ä¿¡æ¯ï¼Œä½¿ç”¨äº†åŒå‘Transformeræ¨¡åž‹ã€‚ä½†æ˜¯ä¸ºæ­¤å´è¦ä»˜å‡ºå¤±åŽ»ä¼ ç»Ÿè¯­è¨€æ¨¡åž‹çš„ä»£ä»·ï¼Œè½¬è€Œé‡‡ç”¨MLM+NSPè¿™ç§æ›´åŠ å¤æ‚çš„æ–¹å¼è¿›è¡Œé¢„è®­ç»ƒã€‚ å››ã€å¤šä»»åŠ¡æ¨¡åž‹â€”â€”MT-DNNMT-DNN (Multi-Task Deep Neural Networks) ä¾ç„¶é‡‡ç”¨äº†BERTçš„äºŒé˜¶æ®µè®­ç»ƒæ–¹æ³•ä»¥åŠåŒå‘Transformerã€‚åœ¨Pre-Trainingé˜¶æ®µï¼ŒMT-DNNä¸ŽBERTå‡ ä¹Žå®Œå…¨ä¸€æ ·ï¼Œä½†æ˜¯åœ¨Fine-Tuningé˜¶æ®µï¼ŒMT-DNNé‡‡ç”¨äº†å¤šä»»åŠ¡çš„å¾®è°ƒæ–¹å¼ã€‚åŒæ—¶é‡‡ç”¨Transformerè¾“å‡ºçš„ä¸Šä¸‹æ–‡Embeddingè¿›è¡Œå•å¥åˆ†ç±»ã€æ–‡æœ¬å¯¹ç›¸ä¼¼åº¦ã€æ–‡æœ¬å¯¹åˆ†ç±»ä»¥åŠé—®ç­”ç­‰ä»»åŠ¡çš„è®­ç»ƒã€‚æ•´ä¸ªç»“æž„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š GitHubé“¾æŽ¥ï¼šhttps://github.com/namisan/mt-dnn äº”ã€å•å‘é€šç”¨æ¨¡åž‹â€”â€”GPT-2GPT-2ç»§ç»­æ²¿ç”¨äº†åŽŸæ¥åœ¨GPTç§ä½¿ç”¨çš„å•å‘Transformeræ¨¡åž‹ï¼Œè€Œè¿™ç¯‡æ–‡ç« çš„ç›®çš„å°±æ˜¯å°½å¯èƒ½åˆ©ç”¨å•å‘Transformerçš„ä¼˜åŠ¿ï¼Œåšä¸€äº›BERTä½¿ç”¨çš„åŒå‘Transformeræ‰€åšä¸åˆ°çš„äº‹ã€‚é‚£å°±æ˜¯é€šè¿‡ä¸Šæ–‡ç”Ÿæˆä¸‹æ–‡æ–‡æœ¬ã€‚ GPT-2çš„æƒ³æ³•å°±æ˜¯å®Œå…¨èˆå¼ƒFine-Tuningè¿‡ç¨‹ï¼Œè½¬è€Œä½¿ç”¨ä¸€ä¸ªå®¹é‡æ›´å¤§ã€æ— ç›‘ç£è®­ç»ƒã€æ›´åŠ é€šç”¨çš„è¯­è¨€æ¨¡åž‹æ¥å®Œæˆå„ç§å„æ ·çš„ä»»åŠ¡ã€‚æˆ‘ä»¬å®Œå…¨ä¸éœ€è¦åŽ»å®šä¹‰è¿™ä¸ªæ¨¡åž‹åº”è¯¥åšä»€ä¹ˆä»»åŠ¡ï¼Œå› ä¸ºå¾ˆå¤šæ ‡ç­¾æ‰€è•´å«çš„ä¿¡æ¯ï¼Œå°±å­˜åœ¨äºŽè¯­æ–™å½“ä¸­ã€‚å°±åƒä¸€ä¸ªäººå¦‚æžœåšè§ˆç¾¤ä¹¦ï¼Œè‡ªç„¶å¯ä»¥æ ¹æ®çœ‹è¿‡çš„å†…å®¹è½»æ¾çš„åšåˆ°è‡ªåŠ¨æ‘˜è¦ã€é—®ç­”ã€ç»­å†™æ–‡ç« è¿™äº›äº‹ã€‚ ä¸¥æ ¼æ¥è¯´GPT-2å¯èƒ½ä¸ç®—æ˜¯ä¸€ä¸ªå¤šä»»åŠ¡æ¨¡åž‹ï¼Œä½†æ˜¯å®ƒç¡®å®žä½¿ç”¨ç›¸åŒçš„æ¨¡åž‹ã€ç›¸åŒçš„å‚æ•°å®Œæˆäº†ä¸åŒçš„ä»»åŠ¡ã€‚é‚£ä¹ˆGPT-2æ˜¯æ€Žä¹ˆä½¿ç”¨è¯­è¨€æ¨¡åž‹å®Œæˆå¤šç§ä»»åŠ¡çš„å‘¢ï¼Ÿ é€šå¸¸æˆ‘ä»¬é’ˆå¯¹ç‰¹å®šä»»åŠ¡è®­ç»ƒçš„ä¸“ç”¨æ¨¡åž‹ï¼Œç»™å®šè¾“å…¥ï¼Œå°±å¯ä»¥è¿”å›žè¿™ä¸ªä»»åŠ¡ç›¸åº”çš„è¾“å‡ºï¼Œä¹Ÿå°±æ˜¯ é‚£ä¹ˆå¦‚æžœæˆ‘ä»¬å¸Œæœ›è®¾è®¡ä¸€ä¸ªé€šç”¨çš„æ¨¡åž‹ï¼Œè¿™ä¸ªæ¨¡åž‹åœ¨ç»™å®šè¾“å…¥çš„åŒæ—¶è¿˜éœ€è¦ç»™å®šä»»åŠ¡ç±»åž‹ï¼Œç„¶åŽæ ¹æ®ç»™å®šè¾“å…¥ä¸Žä»»åŠ¡æ¥åšå‡ºç›¸åº”çš„è¾“å‡ºï¼Œé‚£ä¹ˆæ¨¡åž‹å°±å¯ä»¥è¡¨ç¤ºæˆä¸‹é¢è¿™ä¸ªæ ·å­ å°±å¥½åƒåŽŸæ¥æˆ‘éœ€è¦ç¿»è¯‘ä¸€ä¸ªå¥å­ï¼Œéœ€è¦ä¸“é—¨è®¾è®¡ä¸€ä¸ªç¿»è¯‘æ¨¡åž‹ï¼Œæƒ³è¦é—®ç­”ç³»ç»Ÿéœ€è¦ä¸“é—¨è®¾è®¡ä¸€ä¸ªé—®ç­”æ¨¡åž‹ã€‚ä½†æ˜¯å¦‚æžœä¸€ä¸ªæ¨¡åž‹è¶³å¤Ÿèªæ˜Žï¼Œå¹¶ä¸”èƒ½å¤Ÿæ ¹æ®ä½ çš„ä¸Šæ–‡ç”Ÿæˆä¸‹æ–‡ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡åœ¨è¾“å…¥ä¸­åŠ å…¥ä¸€äº›æ ‡è¯†ç¬¦å°±å¯ä»¥åŒºåˆ†å„ç§é—®é¢˜ã€‚æ¯”å¦‚å¯ä»¥ç›´æŽ¥é—®ä»–ï¼š(â€˜è‡ªç„¶è¯­è¨€å¤„ç†â€™, ä¸­æ–‡ç¿»è¯‘)æ¥å¾—åˆ°æˆ‘ä»¬éœ€è¦çš„ç»“æžœNature Language Processingã€‚åœ¨æˆ‘çš„ç†è§£ä¸­GPT-2æ›´åƒæ˜¯ä¸€ä¸ªæ— æ‰€ä¸çŸ¥çš„é—®ç­”ç³»ç»Ÿï¼Œé€šè¿‡å‘ŠçŸ¥ä¸€ä¸ªç»™å®šä»»åŠ¡çš„æ ‡è¯†ç¬¦ï¼Œå°±å¯ä»¥å¯¹å¤šç§é¢†åŸŸçš„é—®ç­”ã€å¤šç§ä»»åŠ¡åšå‡ºåˆé€‚çš„å›žç­”ã€‚GPT-2æ»¡è¶³é›¶æ ·æœ¬è®¾ç½® (zero-shot setting)ï¼Œ åœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­ä¸éœ€è¦å‘Šè¯‰ä»–åº”è¯¥å®Œæˆä»€ä¹ˆæ ·çš„ä»»åŠ¡ï¼Œé¢„æµ‹æ˜¯ä¹Ÿèƒ½ç»™å‡ºè¾ƒä¸ºåˆç†çš„å›žç­”ã€‚ é‚£ä¹ˆGPT-2ä¸ºäº†åšåˆ°ä¸Šé¢è¿™äº›è¦æ±‚ï¼Œåšäº†å“ªäº›å·¥ä½œå‘¢ï¼Ÿ æ‹“å®½å¹¶åŠ å¤§æ•°æ®é›† é¦–å…ˆå°±æ˜¯è¦è®©æ¨¡åž‹åšè§ˆç¾¤ä¹¦ï¼Œå¦‚æžœè®­ç»ƒæ ·æœ¬éƒ½ä¸å¤Ÿå¤šï¼Œé‚£è¿˜æ€Žä¹ˆè¿›è¡ŒæŽ¨ç†ï¼Ÿå‰é¢çš„å·¥ä½œéƒ½æ˜¯é’ˆå¯¹æŸä¸€ä¸ªç‰¹å®šé—®é¢˜çš„ï¼Œæ‰€ä»¥æ•°æ®é›†éƒ½æ¯”è¾ƒç‰‡é¢ã€‚GPT-2æ”¶é›†äº†ä¸€ä¸ªè§„æ¨¡æ›´å¤§ã€èŒƒå›´æ›´å¹¿çš„æ•°æ®é›†ã€‚åŒæ—¶å‘¢ï¼Œè¦ä¿è¯è¿™ä¸ªæ•°æ®é›†çš„è´¨é‡ï¼Œä¿ç•™é‚£äº›æ‹¥æœ‰é«˜è´¨é‡å†…å®¹çš„ç½‘é¡µã€‚æœ€ç»ˆç»„æˆäº†ä¸€ä¸ª800ä¸‡ä¸ªæ–‡æœ¬ï¼Œ40Gçš„æ•°æ®é›†WebTextã€‚ æ‰©å¤§ç½‘ç»œå®¹é‡ ä¹¦å¤šäº†è„‘è¢‹å®¹é‡ä¹Ÿå¾—å¸¦ä¸€äº›è¦ä¸ç„¶è®°ä¸ä½ä¹¦é‡Œçš„ä¸œè¥¿ã€‚ä¸ºäº†æé«˜ç½‘ç»œçš„å®¹é‡ï¼Œä½¿å…¶æ‹¥æœ‰æ›´å¼ºçš„å­¦ä¹ æ½œåŠ›ï¼ŒGPT-2å°†Transformerå †å çš„å±‚æ•°å¢žåŠ åˆ°48å±‚ï¼Œéšå±‚çš„ç»´åº¦ä¸º1600ï¼Œå‚æ•°é‡è¾¾åˆ°äº†15äº¿ã€‚ è°ƒæ•´ç½‘ç»œç»“æž„ GPT-2å°†è¯æ±‡è¡¨æå‡åˆ°50257ï¼Œæœ€å¤§çš„ä¸Šä¸‹æ–‡å¤§å° (context size) ä»ŽGPTçš„512æå‡åˆ°äº†1024ï¼Œbatchsizeä»Ž512æå‡ä¸º1024ã€‚æ­¤å¤–è¿˜å¯¹Transformeråšå‡ºäº†å°è°ƒæ•´ï¼Œæ ‡å‡†åŒ–å±‚æ”¾åˆ°æ²¡æ¯ä¸ªsub-blockä¹‹å‰ï¼Œæœ€åŽä¸€ä¸ªSelf-attentionåŽåˆå¢žåŠ äº†ä¸€ä¸ªæ ‡å‡†åŒ–å±‚ï¼›æ”¹å˜äº†æ®‹å·®å±‚çš„åˆå§‹åŒ–æ–¹æ³•ç­‰ç­‰ã€‚ GitHubé“¾æŽ¥ï¼šhttps://github.com/openai/gpt-2 Post Scriptum GPT-2å…¶å®žæœ€æƒŠäººçš„æ˜¯å…¶æžå¼ºçš„ç”Ÿæˆèƒ½åŠ›ï¼Œè€Œå¦‚æ­¤å¼ºå¤§çš„ç”Ÿæˆèƒ½åŠ›ä¸»è¦è¿˜æ˜¯è¦å½’åŠŸäºŽå…¶æ•°æ®è´¨é‡ä»¥åŠæƒŠäººå‚æ•°é‡å’Œæ•°æ®è§„æ¨¡ã€‚GPT-2çš„å‚æ•°é‡å¤§åˆ°ç”¨äºŽå®žéªŒçš„æ¨¡åž‹éƒ½è¿˜å¤„äºŽæ¬ æ‹ŸåˆçŠ¶æ€ï¼Œå¦‚æžœæŽ¥ç€è®­ç»ƒï¼Œæ•ˆæžœè¿˜èƒ½è¿›ä¸€æ­¥æå‡ã€‚ å…­ã€æ€»ç»“æ€»ä¸Šé¢è¿™äº›å…³äºŽTransformerå·¥ä½œçš„å‘å±•ä¸­ï¼Œæˆ‘ä¹Ÿæ•´ç†å‡ºäº†ä¸€äº›å…³äºŽæ·±åº¦å­¦ä¹ å‘å±•è¶‹åŠ¿çš„ä¸ªäººå¿ƒå¾—ï¼š æœ‰ç›‘ç£æ¨¡åž‹å‘åŠç›‘ç£ç”šè‡³æ— ç›‘ç£æ–¹å‘å‘å±• æ•°æ®çš„è§„æ¨¡çš„å¢žé•¿é€Ÿåº¦è¿œè¿œè¶…è¿‡äº†æ•°æ®çš„æ ‡æ³¨é€Ÿåº¦ï¼Œè¿™ä¹Ÿå°±å¯¼è‡´äº†å¤§é‡æ— æ ‡ç­¾æ•°æ®çš„äº§ç”Ÿã€‚è¿™äº›æ— æ ‡ç­¾çš„æ•°æ®å¹¶éžæ²¡æœ‰ä»·å€¼ï¼Œç›¸åï¼Œå¦‚æžœæ‰¾åˆ°åˆé€‚çš„â€œç‚¼é‡‘æœ¯â€ï¼Œå°†å¯ä»¥ä»Žè¿™äº›æµ·é‡çš„æ•°æ®ä¸­èŽ·å–æ„æƒ³ä¸åˆ°çš„ä»·å€¼ã€‚å¦‚ä½•åˆ©ç”¨ä¸Šè¿™äº›æ— æ ‡ç­¾çš„æ•°æ®æ¥æ”¹å–„ä»»åŠ¡çš„è¡¨çŽ°å˜æˆäº†ä¸€ä¸ªè¶Šæ¥è¶Šæ— æ³•è½»è§†çš„é—®é¢˜ã€‚ ä»Žå°‘é‡æ•°æ®å¤æ‚æ¨¡åž‹åˆ°å¤§é‡æ•°æ®ç®€å•æ¨¡åž‹ æ·±åº¦ç¥žç»ç½‘ç»œçš„æ‹Ÿåˆèƒ½åŠ›éžå¸¸çš„å¼ºå¤§ï¼Œä¸€ä¸ªç®€å•çš„ç¥žç»ç½‘ç»œæ¨¡åž‹å°±è¶³ä»¥æ‹Ÿåˆä»»ä½•å‡½æ•°ã€‚ä½†æ— å¥ˆä½¿ç”¨è¶Šç®€å•çš„ç½‘ç»œç»“æž„å®ŒæˆåŒä¸€ä¸ªä»»åŠ¡ï¼Œå¯¹æ•°æ®é‡çš„è¦æ±‚ä¹Ÿæ›´é«˜ã€‚æ•°æ®é‡è¶Šæ˜¯ä¸Šå‡ï¼Œæ•°æ®è´¨é‡è¶Šæ˜¯æé«˜ï¼Œå¾€å¾€å¯¹æ¨¡åž‹çš„è¦æ±‚å°±ä¼šè¶Šä¼šé™ä½Žã€‚æ•°æ®é‡è¶Šå¤§ï¼Œæ¨¡åž‹å°±è¶Šå®¹æ˜“æ•æ‰åˆ°ç¬¦åˆçœŸå®žä¸–ç•Œåˆ†å¸ƒçš„ç‰¹å¾ã€‚Word2Vecå°±æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œå®ƒæ‰€ä½¿ç”¨çš„ç›®æ ‡å‡½æ•°éžå¸¸çš„ç®€å•ï¼Œä½†æ˜¯ç”±äºŽä½¿ç”¨äº†å¤§é‡çš„æ–‡æœ¬ï¼ŒäºŽæ˜¯è®­ç»ƒå‡ºçš„è¯å‘é‡ä¸­å°±åŒ…å«äº†è®¸å¤šæœ‰è¶£çš„ç‰¹æ€§ã€‚ ä»Žä¸“ç”¨æ¨¡åž‹å‘é€šç”¨æ¨¡åž‹å‘å±• GPTã€BERTã€MT-DNNã€GPT-2éƒ½ä½¿ç”¨äº†ç»è¿‡é¢„è®­ç»ƒçš„é€šç”¨æ¨¡åž‹æ¥ç»§ç»­è¿›è¡Œä¸‹æ¸¸çš„æœºå™¨å­¦ä¹ ä»»åŠ¡ï¼Œå¹¶ä¸éœ€è¦å¯¹æ¨¡åž‹æœ¬èº«å†åšå¤ªå¤šçš„ä¿®æ”¹ã€‚å¦‚æžœä¸€ä¸ªæ¨¡åž‹çš„è¡¨è¾¾èƒ½åŠ›è¶³å¤Ÿçš„å¼ºï¼Œè®­ç»ƒæ—¶å€™ä½¿ç”¨çš„æ•°æ®é‡è¶³å¤Ÿçš„å¤§ï¼Œé‚£ä¹ˆæ¨¡åž‹çš„é€šç”¨æ€§å°±ä¼šæ›´å¼ºï¼Œå°±ä¸éœ€è¦é’ˆå¯¹ç‰¹å®šçš„ä»»åŠ¡åšå¤ªå¤šçš„ä¿®æ”¹ã€‚æœ€æžç«¯çš„æƒ…å†µå°±åƒæ˜¯GPT-2è¿™ä¸ªæ ·å­ï¼Œè®­ç»ƒæ—¶ç”šè‡³å®Œå…¨ä¸éœ€è¦çŸ¥é“åŽç»­çš„ä¸‹æ¸¸ä»»åŠ¡æ˜¯ä»€ä¹ˆï¼Œå°±èƒ½å¤Ÿè®­ç»ƒå‡ºä¸€ä¸ªé€šç”¨çš„å¤šä»»åŠ¡æ¨¡åž‹ã€‚ å¯¹æ•°æ®çš„è§„æ¨¡å’Œè´¨é‡æé«˜ GPTã€BERTã€MT-DNNã€GPT-2è™½ç„¶å…ˆåŽåˆ·æ¦œï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºæˆç»©çš„æå‡ä¸­ï¼Œæ•°æ®è§„æ¨¡çš„æå‡å æœ‰æ¯”ç»“æž„è°ƒæ•´æ›´å¤§çš„æ¯”é‡ã€‚éšç€æ¨¡åž‹çš„é€šç”¨åŒ–å’Œç®€å•åŒ–ï¼Œä¸ºæå‡æ¨¡åž‹çš„æ€§èƒ½ï¼Œä»ŠåŽæ›´å¤šçš„æ³¨æ„åŠ›å°†ä¼šä»Žå¦‚ä½•è®¾è®¡ä¸€ä¸ªå¤æ‚ã€ä¸“ç”¨çš„æ¨¡åž‹è½¬ç§»åˆ°å¦‚ä½•èŽ·å–ã€æ¸…æ´—ã€ç²¾åŒ–å‡ºè´¨é‡æ›´åŠ å‡ºä¼—çš„ã€å¤§é‡çš„æ•°æ®ä¸Šã€‚æ•°æ®çš„å¤„ç†æ–¹å¼è°ƒæ•´çš„ä½œç”¨å°†ä¼šå¤§äºŽæ¨¡åž‹ç»“æž„è°ƒæ•´çš„ä½œç”¨ã€‚ ç»¼ä¸Šæ‰€è¿°ï¼ŒDLç«žèµ›è¿Ÿæ—©è¦æˆä¸ºå¤§åŽ‚é—´æ‹¼èµ„æºã€æ‹¼ç®—åŠ›çš„è¾ƒé‡ã€‚å¯èƒ½å‡ å¹´å†…å°±ä¼šå‡ºçŽ°ä¸€ä¸ªæ–°çš„è¯¾é¢˜ï¼šç»¿è‰²AIï¼Œä½Žç¢³AIï¼Œå¯æŒç»­AIã€‚ã€‚ã€‚ ä»¥ä¸ŠðŸ˜‚ å‚è€ƒæ–‡çŒ®[1] Vaswani A, Shazeer N, Parmar N, et al. Attention is All you Need[J]. neural information processing systems, 2017: 5998-6008. [2] http://nlp.seas.harvard.edu/2018/04/03/attention.html [3] https://jalammar.github.io/illustrated-transformer/ [4] Radford, Alec, et al. â€œImproving language understanding by generative pre-training.â€ URL https://s3-us-west-2. amazonaws. com/openai-assets/research-covers/languageunsupervised/language understanding paper. pdf (2018). [5] Peters M E, Neumann M, Iyyer M, et al. DEEP CONTEXTUALIZED WORD REPRESENTATIONS[J]. north american chapter of the association for computational linguistics, 2018: 2227-2237. [6] Devlin J, Chang M, Lee K, et al. BERT: Pre-training of Deep Bidirectional Transformers for Language Understanding[J]. arXiv: Computation and Language, 2018. [7] Liu X, He P, Chen W, et al. Multi-Task Deep Neural Networks for Natural Language Understanding.[J]. arXiv: Computation and Language, 2019. [8] Radford A, Wu J, Child R, et al. Language models are unsupervised multitask learners[J]. OpenAI Blog, 2019, 1(8).]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Representation Learning</tag>
        <tag>NLP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[kick start 2018 Round A]]></title>
    <url>%2F2019%2F05%2F17%2Fkickstart2018A%2F</url>
    <content type="text"><![CDATA[Even Digits Lucky Dip Scrambled Words Even Digits ç»™ä¸€ä¸ªæ•°ï¼Œæ‰¾ç¦»ä»–æœ€è¿‘çš„ä¸åŒ…å«å¥‡æ•°ä½çš„æ•°ã€‚ æ€è·¯ï¼šä»Žå·¦åˆ°å³æ‰¾ç¬¬ä¸€ä¸ªå¥‡æ•°ï¼Œé¦–å…ˆåˆ¤æ–­æ˜¯è¦æ‰¾æ¯”ä»–å¤§çš„æ•°è¿˜æ˜¯æ¯”ä»–å°çš„æ•°ï¼ˆ+1è¿˜æ˜¯-1ï¼‰ã€‚è¿™å–å†³äºŽåŽé¢çš„æ•°ä»¥åŠè¿™ä½æ•°çš„æƒ…å†µã€‚ å¦‚æžœè¿™ä½æ•°ä½9ï¼Œä¸€å®šæ˜¯æ‰¾æ¯”ä»–å°çš„ï¼Œå› ä¸º+1å°†ä¼šé€ æˆè¿›ä½ï¼Œé«˜ä½ä¸ºäº†ä¿æŒå¶æ•°éœ€è¦è¿›ä¸¤ä½ï¼Œè‚¯å®šæ¯”-1è¦å¤§ã€‚ å¦‚æžœåŽé¢çš„æ•°å°äºŽ4444â€¦â€¦ï¼ˆå­—å…¸åºæ¯”è¾ƒä¸€ä¸‹ï¼‰ï¼Œåˆ™æ‰¾æ¯”ä»–å°çš„ï¼Œå¥‡æ•°ä½-1ï¼ŒåŽé¢æ”¹æˆ8888â€¦â€¦ å¦‚æžœåŽé¢çš„æ•°å¤§äºŽ4444â€¦â€¦ï¼Œåˆ™æ‰¾æ¯”ä»–å¤§çš„ï¼Œå¥‡æ•°ä½+1ï¼ˆä¸æ˜¯9ï¼Œä¸ä¼šè¿›ä½ï¼‰ï¼ŒåŽé¢æ”¹æˆ0000â€¦â€¦ æœ€åŽç›¸å‡èŽ·å¾—ç­”æ¡ˆ C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;vector&gt;#include &lt;stdio.h&gt;#include &lt;string.h&gt;using std::cin;using std::cout;using std::endl;using std::string;bool judge(char* ch, int pos, int len) &#123; for(int i = pos; i &lt; len; ++i) &#123; if(ch[i] &gt; '4') &#123; return true; &#125;else if(ch[i] &lt; '4') &#123; return false; &#125; &#125; return true;&#125;int main() &#123; int t; char num[20]; char new_num[20]; long long ans; int flag; while(cin &gt;&gt; t) &#123; for(int c = 1; c &lt;= t; ++c) &#123; getchar(); scanf("%s", num); flag = -1; for(int i = 0; i &lt; strlen(num); ++i) &#123; new_num[i] = num[i]; if((num[i] - '0') % 2 == 1) &#123; if(i == strlen(num) - 1) &#123; --new_num[i]; flag = 0; break; &#125;else if(!judge(num, i+1, strlen(num)) || (num[i] - '0') == 9)&#123; --new_num[i]; flag = 0; ++i; while(i &lt; strlen(num)) &#123; new_num[i] = '8'; ++i; &#125; break; &#125;else &#123; ++new_num[i]; flag = 1; ++i; while(i &lt; strlen(num)) &#123; new_num[i] = '0'; ++i; &#125; break; &#125; &#125; &#125; new_num[strlen(num)] = '\0'; int tui = 0; ans = 0; long long pos = 1; if(flag &lt; 0) &#123; printf("Case #%d: %lld\n", c, 0); &#125;else if(flag == 0)&#123; for(int i = strlen(num)-1; i &gt;= 0; --i) &#123; int tmp = num[i] - new_num[i] - tui; if(tmp &lt; 0) &#123; tui = 1; tmp += 10; &#125;else&#123; tui = 0; &#125; ans += tmp * pos; pos *= 10; &#125; printf("Case #%d: %lld\n", c, ans); &#125;else&#123; for(int i = strlen(num)-1; i &gt;= 0; --i) &#123; int tmp = new_num[i] - num[i] - tui; if(tmp &lt; 0) &#123; tui = 1; tmp += 10; &#125;else&#123; tui = 0; &#125; ans += tmp * pos; pos *= 10; &#125; printf("Case #%d: %lld\n", c, ans); &#125; &#125; &#125; return 0;&#125; Lucky Dip ç»™å®šä¸€å †æ•°ï¼Œé—®ç»™å®šæ”¾å›žæœºä¼šæ•°çš„æƒ…å†µä¸‹é‡‡å–æœ€ä¼˜ç­–ç•¥æŠ½å–çš„æ•°çš„æœŸæœ›æ˜¯å¤šå°‘ã€‚ æœ€ä¼˜ç­–ç•¥æ˜¯è‹¥å½“å‰æŠ½å‡ºçš„æ•°å°äºŽå½“å‰çš„æœŸæœ›ï¼Œæœ‰æœºä¼šæ”¾å›žåˆ™æ”¾å›žé‡æŠ½ã€‚æ‰€ä»¥æ¯å¤šä¸€æ¬¡æœºä¼šçš„æƒ…å†µå°±æ˜¯å°äºŽå½“å‰æœŸæœ›çš„æ‰€æœ‰æ•°çš„æœŸæœ›å˜æˆå½“å‰çš„æœŸæœ›ï¼Œç„¶åŽè®¡ç®—æ–°çš„æœŸæœ›ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;string&gt;#include &lt;algorithm&gt;using namespace std;int main() &#123; int t, n, k; scanf("%d", &amp;t); double sum; double tmp_e; for(int c = 1; c &lt;= t; ++c) &#123; scanf("%d%d", &amp;n, &amp;k); sum = 0; vector&lt;long long&gt; arr(n); vector&lt;long long&gt; suffix_sum(n); for(int i = 0; i &lt; n; ++i) &#123; scanf("%lld", &amp;arr[i]); sum += arr[i]; &#125; tmp_e = sum / n; sort(arr.begin(), arr.end()); suffix_sum[n-1] = arr[n-1]; for(int i = n-2; i &gt;= 0; --i) &#123; suffix_sum[i] = suffix_sum[i+1] + arr[i]; &#125; for(int i = 0; i &lt; k; ++i) &#123; int l = 0, r = n-1; while(l &lt;= r) &#123; int mid = (l + r) &gt;&gt; 1; if(arr[mid] &lt; tmp_e) &#123; l = mid + 1; &#125;else &#123; r = mid - 1; &#125; &#125; if(l == 0) &#123; tmp_e = arr[0]; break; &#125;else &#123; tmp_e = (l * tmp_e + suffix_sum[l]) / n; &#125; &#125; printf("Case #%d: %.6lf\n", c, tmp_e); &#125; return 0;&#125; Scrambled Words ç»™å®šä¸€æ®µæ–‡æœ¬çš„ç”Ÿæˆè§„åˆ™ï¼Œç”Ÿæˆæ–‡æœ¬åŽï¼Œç»™å®šä¸€ä¸ªå­—å…¸ï¼Œé—®æœ‰å¤šå°‘ä¸ªå­—å…¸ä¸­çš„è¯çš„ä¹±åºï¼ˆé™¤äº†é¦–ä½å­—æ¯ä¹‹å¤–ï¼Œå…¶ä»–å­—æ¯å¯ä»¥éšæ„æŽ’åˆ—ï¼‰åœ¨æ–‡æœ¬ä¸­å‡ºçŽ°ã€‚ ç”±äºŽå­—å…¸ä¸­è¯ä¸åŒçš„é•¿åº¦ç§ç±»ä¸ä¼šå¤ªå¤šï¼Œé¢˜ç›®ä¸­è¯´æ€»é•¿åº¦ä¸º1e5ï¼Œé‚£ä¹ˆé•¿åº¦æ•°X*(X+1) &lt;= 1e5 æ‰€ä»¥ç»Ÿè®¡ä¸åŒçš„é•¿åº¦ï¼Œä½¿ç”¨å­—ç¬¦ä¸²çš„é¦–å°¾å­—ç¬¦ä»¥åŠå­—ç¬¦çš„é¢‘æ•°æ¥ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²çš„keyå»ºç«‹hashè¡¨ã€‚ C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;string&gt;#include &lt;list&gt;#include &lt;unordered_map&gt;#include &lt;unordered_set&gt;#include &lt;algorithm&gt;#include &lt;array&gt;#include &lt;set&gt;#include &lt;stdio.h&gt;#define NUM_CHARACTER 26using namespace std;struct Key &#123; char first; char last; array&lt;int, NUM_CHARACTER&gt; freq; Key(string &amp;s) &#123; freq.fill(0); first = s[0]; last = s[s.size()-1]; for(int j = 0; j &lt; s.size(); ++j) &#123; ++freq[s[j] - 'a']; &#125; &#125; bool operator==(const Key &amp;k) const &#123; return (first == k.first &amp;&amp; last == k.last &amp;&amp; freq == k.freq); &#125;&#125;;namespace std &#123; template&lt;&gt; struct hash&lt;Key&gt; &#123; size_t operator()(const Key &amp;k) const &#123; size_t ret = 17, seed = 31; ret = ret * seed + k.first; ret = ret * seed + k.last; for(auto item: k.freq) &#123; ret = ret * seed + item; &#125; return ret; &#125; &#125;;&#125;int main() &#123; int t, l, n; long long a, b, c, d; char s1, s2; string tmp; string text; scanf("%d", &amp;t); unordered_map&lt;Key, int&gt; mp; unordered_set&lt;int&gt; len_set; vector&lt;int&gt; x; for(int ca = 1; ca &lt;= t; ++ca) &#123; mp.clear(); len_set.clear(); scanf("%d", &amp;l); for(int i = 0; i &lt; l; ++i) &#123; cin &gt;&gt; tmp; len_set.insert(tmp.size()); Key key(tmp); ++mp[key]; &#125; cin &gt;&gt; s1 &gt;&gt; s2; cin &gt;&gt; n &gt;&gt; a &gt;&gt; b &gt;&gt; c &gt;&gt; d; x.resize(n); text.resize(n); text[0] = s1; text[1] = s2; x[0] = text[0]; x[1] = text[1]; for(int i = 2; i &lt; n; ++i) &#123; x[i] = (a * x[i-1] + b * x[i-2] + c) % d; s1 = (97 + (x[i] % 26)); text[i] = s1; &#125; int ans = 0; for(int len: len_set) &#123; if(len &gt; n) &#123; continue; &#125; int l_pos = 0; int r_pos = len-1; string tmp_str = text.substr(l_pos, len); Key len_key(tmp_str); while(r_pos &lt; text.size()) &#123; auto iter = mp.find(len_key); if(iter != mp.end()) &#123; ans += iter-&gt;second; mp.erase(iter); &#125; --len_key.freq[text[l_pos] - 'a']; ++l_pos; ++r_pos; if(r_pos &lt; text.size()) &#123; ++len_key.freq[text[r_pos] - 'a']; len_key.first = text[l_pos]; len_key.last = text[r_pos]; &#125; &#125; &#125; printf("Case #%d: %d\n", ca, ans); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>kick start</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[kick start 2018 Round B]]></title>
    <url>%2F2019%2F05%2F17%2Fkickstart2018B%2F</url>
    <content type="text"><![CDATA[No Nine No Nine ç»™å®šä¸€ä¸ªåŒºé—´[x1, x2]ï¼Œç¡®å®šåŒºé—´å†…æœ‰å¤šå°‘ä¸ªä¸åŒ…å«9ä¸”ä¸è¢«9æ•´é™¤çš„æ•°ï¼Œç”±äºŽä¸¤ä¸ªç«¯ç‚¹éƒ½æ˜¯éž9æ•°ï¼Œå°±æ˜¯æ±‚[0, x1], [0, x2]çš„å·®+1ã€‚ å¦‚æžœåªæ‰¾ä¸åŒ…å«9çš„æ•°ã€‚å…¶å®žå°±æ˜¯æ‰¾å¦‚æžœæŠŠä¹è¿›åˆ¶æ•°å½“ä½œåè¿›åˆ¶æ¥çœ‹çš„è¯ï¼Œè½åœ¨è¿™ä¸ªåŒºé—´å†…çš„ä¹è¿›åˆ¶æ•°æœ‰å¤šå°‘ä¸ª0-8ï¼Œ10-18ï¼Œâ€¦â€¦ ä»Žåä½(ç¬¬1ä½)æ•°å¼€å§‹å¾€åŽï¼Œæ¯ä½ä¸‹é¢éƒ½åŒ…å«å®Œæ•´9^iä¸ªæ•° ç®—å‡ºæ¥æœ‰å¤šå°‘ä¸ªä¸åŒ…å«9çš„æ•°ä¹‹åŽï¼Œå°±è¦åŽ»æŽ‰9çš„å€æ•°ï¼Œæœ€åŽæ­£å¥½æ¯ç»„9ä¸ªæ•°ä¸­æœ‰1ä¸ªæ˜¯9çš„å€æ•° ä¾‹å¦‚12345ï¼Œå‰”é™¤åŒ…å«9çš„æ•°ä¹‹åŽå‰©ä¸‹9ä¸ªä¸€ç»„çš„00000-00008ï¼Œ00010-00018ï¼Œâ€¦â€¦ï¼Œ12330-12338ã€‚æ¯ä¸€ç»„å¿…å®šåªæœ‰ä¸€ä¸ª9çš„å€æ•°ï¼Œæ‰€ä»¥*8/9 æœ€åŽå†åŠ ä¸Š12340-12345ä¸­ä¸æ˜¯9çš„å€æ•°çš„æ•°å°±è¡Œã€‚ C++ Code 1234567891011121314151617181920212223242526272829303132333435363738#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;string&gt;using namespace std;long long solve(long long n) &#123; long long ans = 0; long long last_ans = 0; long long n_0 = n % 10; for(long long i = 0; i &lt;= n_0; ++i) &#123; if((n - i) % 9 != 0) &#123; ++last_ans; &#125; &#125; long long cnt = 9; n /= 10; while(n &gt; 0) &#123; long long pos = n % 10; ans += pos * cnt; n /= 10; cnt *= 9; &#125; ans = ans / 9 * 8; return last_ans + ans;&#125;int main() &#123; int t; cin &gt;&gt; t; long long f, l; for(int c = 1; c &lt;= t; ++c) &#123; cin &gt;&gt; f &gt;&gt; l; long long ans = solve(l) - solve(f) + 1; printf("Case #%d: %lld\n", c, ans); &#125; return 0;&#125; Sherlock and the Bit Strings ç»™å®šä¸€ä¸ª01å­—ç¬¦ä¸²çš„é•¿åº¦ä»¥åŠä¸€äº›é™åˆ¶(a, b, c)ï¼Œä¿è¯[a, b]åŒºé—´å†…çš„1çš„ä¸ªæ•°æ°å¥½ä¸ºcï¼ŒåŒæ—¶è¿”å›žæ»¡è¶³æ¡ä»¶çš„ç¬¬pä¸ªå­—å…¸åºè§£ã€‚ ç”¨åŠ¨æ€è§„åˆ’ï¼Œdp[i][j]ä»£è¡¨å‰iä¸ªbitç¡®å®šå¹¶ä¸”å‰iä¸ªä¸­æœ€åŽ15ä¸ªbitï¼ˆé¢˜ç›®ä¸­è¯´b-aä¸è¶…è¿‡15ï¼‰ä¸Žjçš„äºŒè¿›åˆ¶è¡¨ç¤ºç›¸åŒæ—¶è§£çš„ä¸ªæ•°ã€‚ç”¨ä¸€ä¸ªlimitsæ•°ç»„è®°å½•æ¯ä¸ªä½ç½®ä¸ºå³ç«¯ç‚¹bçš„æ—¶å€™é™åˆ¶çš„åŒºé—´é•¿åº¦ï¼ˆb-a+1ï¼‰å’Œé™åˆ¶æ•°cã€‚æ¯æ¬¡æ£€æŸ¥çš„æ—¶å€™éƒ½å°†é€è¿›æ¥çš„jçš„åŽb-a+1ä½ä¸Ž1ç„¶åŽè®¡ç®—ä¸ªæ•°ã€‚ åˆå§‹åŒ–ï¼šdp[n][j] = 1 if ä¸è¿èƒŒé™åˆ¶ else 0 é€’æŽ¨ï¼šdp[i][j] = dp[i+1][(j&lt;&lt;1)&amp;((1&lt;&lt;16) - 1)] + dp[i+1][(j&lt;&lt;1))&amp;((1&lt;&lt;16) - 1) + 1] if jä¸è¿èƒŒé™åˆ¶ else 0 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;vector&gt;#include &lt;string&gt;#include &lt;string.h&gt;#define N 100using namespace std;const long long max_p = 1e18;vector&lt;pair&lt;int, int&gt;&gt; limits[N+1];long long dp[N+1][1&lt;&lt;16];int cnt[1&lt;&lt;16];int shl[1&lt;&lt;16];bool check(int pos, int status) &#123; for(int i = 0; i &lt; limits[pos].size(); ++i) &#123; if(cnt[status &amp; ((1 &lt;&lt; limits[pos][i].first) - 1)] != limits[pos][i].second) &#123; return false; &#125; &#125; return true;&#125;int main() &#123; cnt[0] = 0; shl[0] = 0; for(int i = 1; i &lt; (1&lt;&lt;16); ++i) &#123; cnt[i] = cnt[i&gt;&gt;1] + (i &amp; 1); shl[i] = (i &lt;&lt; 1) &amp; ((1 &lt;&lt; 16) - 1); &#125; int t, n, k, a, b, c; long long p; scanf("%d", &amp;t); for(int ca = 1; ca &lt;= t; ++ca) &#123; scanf("%d%d%lld", &amp;n, &amp;k, &amp;p); for(int i = 1; i &lt;= n; ++i) &#123; limits[i].clear(); &#125; for(int i = 0; i &lt; k; ++i) &#123; scanf("%d%d%d", &amp;a, &amp;b, &amp;c); limits[b].push_back(make_pair(b-a+1, c)); &#125; memset(dp, 0, sizeof(dp)); for(int j = 0; j &lt; (1&lt;&lt;16); ++j) &#123; if(check(n, j)) &#123; dp[n][j] = 1; &#125; &#125; for(int i = n-1; i &gt;= 1; --i) &#123; for(int j = 0; j &lt; (1&lt;&lt;16); ++j) &#123; if(check(i, j)) &#123; dp[i][j] = dp[i+1][shl[j]] + dp[i+1][shl[j] ^ 1]; if(dp[i][j] &gt; max_p) &#123; dp[i][j] = max_p+1; &#125; &#125; &#125; &#125; printf("Case #%d: ", ca); for(int i = 1, j = 0; i &lt;= n; ++i, j = shl[j]) &#123; if(dp[i][j] &gt;= p) &#123; printf("0"); &#125;else &#123; p -= dp[i][j]; j ^= 1; printf("1"); &#125; &#125; printf("\n"); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>kick start</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 134 Gas Station]]></title>
    <url>%2F2019%2F05%2F16%2Fleetcode134%2F</url>
    <content type="text"><![CDATA[å…¶å®žå°±æ˜¯æ‰¾åˆ°åºåˆ—ä¸­æœ€å¤§å’Œåºåˆ—ï¼Œæ•°é‡ä¸ºgas[i] - cost[i]ï¼Œå¯»æ‰¾çš„æ–¹æ³•ä¸€æ ·ï¼Œç„¶åŽå°±æ˜¯ä»Žå…ˆèµ°è¿™ä¸ªæœ€å¤§åºåˆ—å’Œçš„åºåˆ—ï¼Œç„¶åŽå†èµ°ä¹‹å‰å’Œä¸ºè´Ÿçš„åºåˆ—ã€‚è¦è®¡ç®—å’Œä¸ºè´Ÿçš„ç´¯è®¡ã€‚ C++ Code 12345678910111213141516171819class Solution &#123;public: int canCompleteCircuit(vector&lt;int&gt;&amp; gas, vector&lt;int&gt;&amp; cost) &#123; int ans = 0, left = 0, accumulate = 0; for(int i = 0; i &lt; gas.size(); i++)&#123; left += gas[i] - cost[i]; if(left &lt; 0)&#123; ans = i+1; accumulate += left; left = 0; &#125; &#125; if(left + accumulate &gt;= 0)&#123; return ans; &#125;else&#123; return -1; &#125; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 240 Search a 2D Matrix II]]></title>
    <url>%2F2019%2F05%2F03%2Fleetcode240%2F</url>
    <content type="text"><![CDATA[å¯ä»¥ä»Žå³ä¸Šè§’æˆ–è€…å·¦ä¸‹è§’å¼€å§‹ã€‚ä»¥å³ä¸Šè§’ä¸ºä¾‹ï¼Œè‹¥è¿™ä¸ªæ•°æ¯”targetå¤§ï¼Œé‚£ä¹ˆè¿™ä¸€åˆ—éƒ½ä¸å¯èƒ½ï¼Œè‹¥æ¯”targetå°ï¼Œé‚£ä¹ˆè¿™ä¸€è¡Œéƒ½ä¸å¯èƒ½ã€‚è¿™æ ·é€æ¸æ”¶ç¼©éƒ½targetçš„ä½ç½®ã€‚å¦‚æžœåˆ°æœ€åŽéƒ½æ²¡æ‰¾åˆ°targetï¼Œè¿”å›žfalse C++ Code 123456789101112131415161718192021222324class Solution &#123;public: bool searchMatrix(vector&lt;vector&lt;int&gt;&gt;&amp; matrix, int target) &#123; int n = matrix.size(); if(n == 0) &#123; return false; &#125; int m = matrix[0].size(); if(m == 0) &#123; return false; &#125; int x = 0, y = m-1; while(x &lt; n &amp;&amp; y &gt;= 0) &#123; if(matrix[x][y] == target) &#123; return true; &#125;else if(matrix[x][y] &lt; target) &#123; ++x; &#125;else &#123; --y; &#125; &#125; return false; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 239 Sliding Window Maximum]]></title>
    <url>%2F2019%2F05%2F02%2Fleetcode239%2F</url>
    <content type="text"><![CDATA[å•è°ƒé˜Ÿåˆ— è®¾ç½®ä¸€ä¸ªåŒå‘é˜Ÿåˆ—ï¼ŒæŒ‰é¡ºåºå°†æ•°ç»„çš„ä¸‹æ ‡pushåˆ°é˜Ÿåˆ—å°¾ï¼Œä¿è¯ä¸‹æ ‡çš„å‡åºï¼Œæ¯æ¬¡éƒ½æ£€æŸ¥é˜Ÿåˆ—å¤´çš„ä¸‹æ ‡æ˜¯å¦è¶…å‡ºäº†çª—å£ï¼Œè¶…å‡ºåˆ™popé˜Ÿåˆ—å¤´ã€‚ å¦å¤–pushæ–°çš„ä¸‹æ ‡å‰ï¼Œè¦å°†ä¹‹å‰ä¸‹æ ‡ä¸­å­˜å‚¨çš„æ•°æ¯”è‡ªå·±å°çš„popæŽ‰ã€‚è¿™æ ·å°±èƒ½å¤Ÿä¿è¯æ‰€æœ‰ä¸‹æ ‡å¯¹åº”çš„æ•°æ˜¯é™åºçš„ã€‚æ¯æ¬¡è®ºé˜Ÿåˆ—å¤´å°±æ˜¯å½“å‰çª—å£ä¸­æœ€å¤§çš„æ•°ã€‚ C++ Code 12345678910111213141516171819class Solution(object): def majorityElement(self, nums): """ :type nums: List[int] :rtype: int """ n = len(nums) if n % 2 == 0: half = n // 2 else: half = n // 2 + 1 cnt = &#123;&#125; for i in range(n): if not cnt.has_key(nums[i]): cnt[nums[i]] = 1 else: cnt[nums[i]] += 1 if cnt[nums[i]] &gt;= half: return nums[i]]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç½‘ç»œè¡¨ç¤ºå­¦ä¹ (ä¸€)--DeepWalkã€LINEã€Node2Vecã€HARPã€GraphGAN]]></title>
    <url>%2F2019%2F04%2F30%2Fnetwork_struct%2F</url>
    <content type="text"><![CDATA[å›¾ç»“æž„æ•°æ®æ˜¯é™¤äº†å›¾ç‰‡ã€æ–‡æœ¬ã€è¯­éŸ³ä¹‹å¤–åˆä¸€å¸¸è§ä¸”é‡è¦çš„æ•°æ®ç±»åž‹ï¼Œä¾‹å¦‚ç¤¾äº¤ç½‘ç»œæ•°æ®ã€å¼•ç”¨ç½‘ç»œæ•°æ®ã€å’Œç”Ÿç‰©è›‹ç™½è´¨æ•°æ®ç­‰ç­‰ã€‚åœ¨é’ˆå¯¹å›¾åƒã€æ–‡æœ¬ç­‰æ•°æ®çš„æœºå™¨å­¦ä¹ ä»»åŠ¡ä¸­ï¼Œéƒ½æœ‰ç›¸å¯¹åº”çš„æ–¹æ³•ï¼Œå°†è¿™äº›æ•°æ®ä¸­çš„ç‰¹å¾ç”¨ä¸€ä¸ªç¨ å¯†å‘é‡è¿›è¡Œè¡¨ç¤ºï¼Œç„¶åŽå†è¿ç”¨äºŽå„ç§å„æ ·çš„ä»»åŠ¡ä¸­åŽ»ã€‚ç½‘ç»œè¡¨ç¤ºå­¦ä¹ å°±æ˜¯å°†ç½‘ç»œä¸­ç»“ç‚¹çš„ç‰¹å¾ï¼ŒåµŒå…¥(Embedding)è‡³ä½Žä½å‘é‡ä¸­çš„æ–¹æ³•ã€‚å­¦ä¹ åˆ°çš„è¿™äº›å‘é‡å°†ä¼šä¿ç•™å›¾ç»“æž„æ•°æ®ç»“ç‚¹çš„ç›¸ä¼¼æ€§ï¼Œä½¿å¾—ä¸€äº›ä¸‹æ¸¸æœºå™¨å­¦ä¹ ä»»åŠ¡ï¼Œä¾‹å¦‚ç»“ç‚¹åˆ†ç±»ã€ç»“ç‚¹èšç±»ã€è¿žæŽ¥é¢„æµ‹ã€å¯è§†åŒ–ç­‰ç­‰çš„æ¨¡åž‹æ³›åŒ–æ€§èƒ½å¾—åˆ°å¢žå¼ºã€‚ æœ¬æ–‡é¦–å…ˆå°†ä¼šä»‹ç»ç½‘ç»œè¡¨ç¤ºå­¦ä¹ æœ€ä¸ºè‘—åçš„å››ä»½å·¥ä½œï¼šDeepWalkã€LINEã€Node2Vecå’ŒSDNEã€‚ ç„¶åŽå°†ä¼šä»‹ç»ä¸¤ç¯‡åœ¨AAAI18ä¸Šçš„ä¸¤ç¯‡ç½‘ç»œç»“æž„è¡¨ç¤ºå­¦ä¹ çš„æ–°å·¥ä½œHARPã€GraphGAN æœ¬æ–‡é¦–å‘äºŽçŸ¥ä¹Žä¸“æ ï¼šSoftWiser ä¸€ã€DeepWalk: Online Learning of Social RepresentationsDeepWalkå¯ä»¥ç§°å¾—ä¸Šæ˜¯è¿™ä¸ªæ–¹å‘ä¸Šæœ€è‘—åçš„å·¥ä½œäº†ï¼Œå‡ ä¹Žæ‰€æœ‰ç½‘ç»œè¡¨ç¤ºå­¦ä¹ ç›¸å…³çš„è®ºæ–‡ï¼Œéƒ½ä¼šå¼•ç”¨DeepWalkä½œä¸ºBaselineä¹‹ä¸€ï¼ŒåŒæ—¶DeepWalkä¹Ÿæ˜¯å¾ˆå¤šç›¸å…³å·¥ä½œæ‰€ä½¿ç”¨çš„åº•å±‚æ–¹æ³•ä¹‹ä¸€ã€‚å¯è§è¿™ä»½å·¥ä½œåœ¨ç½‘ç»œè¡¨ç¤ºå­¦ä¹ é¢†åŸŸçš„åœ°ä½ã€‚ Method DeepWalkæœ€ä¸»è¦çš„è´¡çŒ®å°±æ˜¯ä»–å°†Network Embeddingä¸Žè‡ªç„¶è¯­è¨€å¤„ç†ä¸­é‡è¦çš„Word Embeddingæ–¹æ³•Word2Vecè”ç³»äº†èµ·æ¥ï¼Œä½¿å¾—Network Embeddingé—®é¢˜è½¬åŒ–ä¸ºäº†ä¸€ä¸ªWord Embeddingé—®é¢˜ã€‚ è½¬åŒ–æ–¹æ³•å…¶å®žå¾ˆç®€å•ï¼Œå°±æ˜¯éšæœºæ¸¸èµ°ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒDeepWalké€šè¿‡ä»Žæ¯ä¸ªç»“ç‚¹å‡ºå‘n_walksæ¬¡ï¼Œæ¯ä¸€æ­¥éƒ½é‡‡å–å‡åŒ€é‡‡æ ·çš„æ–¹å¼é€‰æ‹©å½“å‰ç»“ç‚¹çš„é‚»æŽ¥ç»“ç‚¹ä½œä¸ºä¸‹ä¸€æ­¥çš„ç»“ç‚¹éšæœºæ¸¸èµ°ã€‚å½“æ¸¸èµ°çš„è·¯å¾„é•¿åº¦è¾¾åˆ°walk_lengthåŽï¼Œåœæ­¢ä¸€æ¬¡æ¸¸èµ°ã€‚è¿™æ ·å°±ç”Ÿæˆäº†ä¸€ä¸ªä¸ªæ¸¸èµ°çš„åºåˆ—ï¼Œæ¯ä¸ªåºåˆ—éƒ½ç§°ä¸ºä¸€ä¸ªwalkã€‚æ¯ä¸ªwalkéƒ½è¢«å½“æˆWord2Vecä¸­çš„ä¸€ä¸ªå¥å­ï¼Œè€Œæ¯ä¸ªç»“ç‚¹éƒ½æ˜¯Word2Vecä¸­çš„ä¸€ä¸ªè¯ã€‚ ä¹‹åŽçš„ç®—æ³•å‡ ä¹Žå’ŒWord2Vecçš„Skipgramç‰ˆæœ¬å®Œå…¨ä¸€æ ·ã€‚ä½¿ç”¨ä¸€ä¸ªå¤§å°ä¸ºwindow_sizeçš„æ»‘åŠ¨çª—å£ä½œä¸ºä¸€æ¡walkçš„contextï¼Œä½¿ç”¨ä¸€ä¸ªcontextä¸­çš„ä¸­å¿ƒè¯åŽ»æŽ¨æµ‹æ‰€æœ‰contextä¸­çš„å…¶ä»–è¯ï¼Œä½¿ç”¨çš„ç›®æ ‡å‡½æ•°ä¹Ÿä¸ŽWord2Vecä¸€è‡´ã€‚ Experiments DeepWalké€‰æ‹©Multi-Label Classificationä½œä¸ºè¯„ä»·ç®—æ³•Performanceçš„æŒ‡æ ‡ã€‚è¯„ä»·ä¸­å°†é€šè¿‡DeepWalkå­¦ä¹ èŽ·å¾—çš„EmbeddingæŒ‰ç…§ä¸åŒçš„æ¯”ä¾‹åˆ’åˆ†ä¸ºè®­ç»ƒé›†ä¸Žæµ‹è¯•é›†ã€‚è®­ç»ƒé›†ä½œä¸ºNä¸ªone-vs-restå¯¹çŽ‡å›žå½’åˆ†ç±»å™¨çš„è®­ç»ƒæ•°æ®ï¼Œå°†å…¶ä¸­ç½®ä¿¡åº¦æœ€é«˜çš„kä¸ªç±»åˆ«ä½œä¸ºç»“ç‚¹çš„é¢„æµ‹ç±»åˆ«ã€‚å…¶ä¸­Nä¸ºç±»åˆ«çš„ä¸ªæ•°ï¼Œkä¸ºç»“ç‚¹çš„æ ‡ç­¾æ•°ã€‚ å®žéªŒç»“æžœå¦‚ä¸‹æ‰€ç¤ºï¼š äºŒã€LINE: Large-scale Information Network Embeddingè™½ç„¶DeepWalké€šè¿‡éšæœºæ¸¸èµ°çš„æ–¹å¼ï¼Œå°†å›¾ç»“æž„æ•°æ®è½¬åŒ–ä¸ºäº†è‡ªç„¶è¯­è¨€å¤„ç†çš„ä»»åŠ¡æ¥å®Œæˆã€‚ä½†æ˜¯ï¼Œå›¾ç»“æž„ä¸­èŠ‚ç‚¹çš„å…³ç³»å¾€å¾€æ¯”è¯ä¸Šä¸‹æ–‡å…³ç³»æ›´åŠ çš„å¤æ‚ã€‚é€šå¸¸éƒ¨åˆ†çš„å›¾ç»“æž„æ•°æ®ä¸­è¾¹å…·æœ‰æƒé‡ï¼Œä½¿ç”¨çŽ°æœ‰çš„Word2Vecæ–¹æ³•æ— æ³•å¾ˆå¥½çš„åº”å¯¹è¿™ä¸ªé—®é¢˜ã€‚æ­¤å¤–ï¼Œåœ¨çŽ°å®žä¸–ç•Œæ•°æ®ä¸­ï¼Œå›¾çš„è§„æ¨¡å¾€å¾€è¿‡äºŽåºžå¤§ï¼Œä»¥è‡³äºŽå­˜ä¸‹æ‰€æœ‰çš„walkçš„å¼€é”€å°†ååˆ†æƒŠäººã€‚ Method LINEä¸å†é‡‡ç”¨éšæœºæ¸¸èµ°çš„æ–¹æ³•ã€‚ç›¸åï¼Œä»–åœ¨å›¾ä¸Šå®šä¹‰äº†ä¸¤ç§ç›¸ä¼¼åº¦â€”â€”ä¸€é˜¶ç›¸ä¼¼åº¦ä¸ŽäºŒé˜¶ç›¸ä¼¼åº¦ã€‚ ä¸€é˜¶ç›¸ä¼¼åº¦ï¼šä¸€é˜¶ç›¸ä¼¼åº¦å°±æ˜¯è¦ä¿è¯ä½Žç»´çš„åµŒå…¥ä¸­è¦ä¿ç•™ä¸¤ä¸ªç»“ç‚¹ä¹‹é—´çš„ç›´æŽ¥è”ç³»çš„ç´§å¯†ç¨‹åº¦ï¼Œæ¢å¥è¯è¯´å°±æ˜¯ä¿ç•™ç»“ç‚¹ä¹‹é—´çš„è¾¹æƒï¼Œè‹¥ä¸¤ä¸ªç»“ç‚¹ä¹‹é—´ä¸å­˜åœ¨è¾¹ï¼Œé‚£ä¹ˆä»–ä»¬ä¹‹é—´çš„ä¸€é˜¶ç›¸ä¼¼åº¦ä¸º0ã€‚ä¾‹å¦‚ä¸‹å›¾ä¸­çš„6ã€7ä¸¤ä¸ªç»“ç‚¹å°±æ‹¥æœ‰å¾ˆé«˜çš„ä¸€é˜¶ç›¸ä¼¼åº¦ã€‚ äºŒé˜¶ç›¸ä¼¼åº¦ï¼šäºŒé˜¶ç›¸ä¼¼åº¦ç”¨ä¸€å¥ä¿—è¯æ¥æ¦‚æ‹¬å°±æ˜¯â€œæˆ‘æœ‹å‹çš„æœ‹å‹ä¹Ÿå¯èƒ½æ˜¯æˆ‘çš„æœ‹å‹â€ã€‚ä»–æ‰€æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªç»“ç‚¹é‚»å±…çš„ç›¸ä¼¼ç¨‹åº¦ã€‚è‹¥ä¸¤ä¸ªç»“ç‚¹æ‹¥æœ‰ç›¸åŒçš„é‚»å±…ï¼Œä»–ä»¬ä¹Ÿæ›´åŠ çš„ç›¸ä¼¼ã€‚å¦‚æžœå°†é‚»å±…çœ‹ä½œcontextï¼Œé‚£ä¹ˆä¸¤ä¸ªäºŒé˜¶ç›¸ä¼¼åº¦é«˜çš„ç»“ç‚¹ä¹‹é—´æ‹¥æœ‰ç›¸ä¼¼çš„contextã€‚è¿™ä¸€ç‚¹ä¸ŽDeepWalkçš„ç›®æ ‡ä¸€è‡´ã€‚ä¾‹å¦‚ä¸‹å›¾ä¸­çš„5ã€6ä¸¤ç‚¹æ‹¥æœ‰å¾ˆé«˜çš„äºŒé˜¶ç›¸ä¼¼åº¦ã€‚ LINEçš„ç›®æ ‡å°±æ˜¯ä¿ç•™è¿™ä¸¤ç§ç›¸ä¼¼åº¦ã€‚ LINEçš„ä¸€é˜¶ç›¸ä¼¼åº¦ ä¸¤ä¸ªç»“ç‚¹å®žé™…çš„ä¸€é˜¶ç›¸ä¼¼åº¦è¡¨è¾¾å¦‚ä¸‹ï¼š å…¶ä¸­Wæ˜¯æ‰€æœ‰è¾¹æƒé‡ä¹‹å’Œã€‚è€Œä¸¤ä¸ªç»“ç‚¹embeddingä¹‹é—´çš„ç›¸ä¼¼åº¦ä¸ºï¼š å…¶ä¸­uæ˜¯ç»“ç‚¹çš„embeddingã€‚å³ä¸¤ä¸ªç»“ç‚¹è¡¨ç¤ºçš„å†…ç§¯å¥—ä¸Šä¸€ä¸ª å¯¹çŽ‡å‡½æ•°çš„ç»“æžœã€‚è¿™æ ·ä¸€æ¥ç›®æ ‡å‡½æ•°è®¾ä¸ºå®žé™…ç›¸ä¼¼åº¦ä¸Žè¡¨ç¤ºç›¸ä¼¼åº¦ä¹‹é—´çš„KLæ•£åº¦å°±å¯ä»¥äº†ï¼Œè¿™æ ·ä¸€æ¥ï¼Œåªè¦æœ€å°åŒ–KLæ•£åº¦(ä¸‹å¼ä¸­çº¦åŽ»äº†ä¸€äº›å¸¸æ•°)ï¼Œå°±èƒ½ä¿è¯è¡¨ç¤ºç›¸ä¼¼åº¦å°½é‡æŽ¥è¿‘å®žé™…ç›¸ä¼¼åº¦ã€‚ LINEçš„äºŒé˜¶ç›¸ä¼¼åº¦ ä¸¤ä¸ªç»“ç‚¹å®žé™…çš„äºŒé˜¶ç›¸ä¼¼åº¦è¡¨è¾¾å¼å¦‚ä¸‹ï¼š å…¶ä¸­wijæ˜¯è¾¹ijçš„æƒé‡ï¼Œdiæ˜¯ç»“ç‚¹içš„å‡ºåº¦ã€‚ä¸¤ä¸ªç»“ç‚¹embeddingçš„ç›¸ä¼¼åº¦ä¸ºï¼š å…¶ä¸­Vä¸ºç»“ç‚¹içš„æ‰€æœ‰é‚»å±…ï¼Œè¿™é‡Œä¸Žä¸€é˜¶ç›¸ä¼¼åº¦ä¸åŒçš„åœ°æ–¹æ˜¯ï¼Œå¯¹äºŽé‚»å±…ç»“ç‚¹ï¼Œä½¿ç”¨äº†å¦ä¸€ç»„çš„embeddingï¼Œç§°ä½œcontextã€‚ç›®æ ‡å‡½æ•°ä¾æ—§æ˜¯KLæ•£åº¦ï¼Œä¹Ÿå°±æ˜¯æœ€ç»ˆï¼Œæ‹¥æœ‰ç›¸ä¼¼é‚»å±…çš„ç»“ç‚¹ï¼Œå°†ä¼šæ‹¥æœ‰ç›¸è¿‘çš„embeddingã€‚ æœ€ç»ˆè¦èŽ·å¾—åŒæ—¶åŒ…å«æœ‰ä¸€é˜¶ç›¸ä¼¼åº¦å’ŒäºŒé˜¶ç›¸ä¼¼åº¦çš„embeddingï¼Œåªéœ€è¦å°†é€šè¿‡ä¸€é˜¶ç›¸ä¼¼åº¦èŽ·å¾—çš„embeddingä¸Žé€šè¿‡äºŒé˜¶ç›¸ä¼¼åº¦èŽ·å¾—çš„embeddingæ‹¼æŽ¥å³å¯ã€‚ Experiments åŒæ ·ä¹Ÿæ¥çœ‹ä¸€ä¸‹LINEåœ¨ç»“ç‚¹åˆ†ç±»ä»»åŠ¡ä¸­çš„è¡¨çŽ°ï¼š å¯ä»¥çœ‹åˆ°ï¼Œå½“è€ƒè™‘åˆ°ä¸€é˜¶ç›¸ä¼¼åº¦ä¹‹åŽï¼Œä¹Ÿå°±æ˜¯è¾¹çš„æƒé‡åŽï¼ŒLINEçš„è¡¨çŽ°æ•ˆæžœè¦ç•¥å¥½äºŽDeepWalkã€‚ ä¸‰ã€Node2Vec: Scalable Feature Learning for NetworksNode2Vecæ˜¯ä¸€ä»½åŸºäºŽDeepWalkçš„å»¶ä¼¸å·¥ä½œï¼Œå®ƒæ”¹è¿›äº†DeepWalkéšæœºæ¸¸èµ°çš„ç­–ç•¥ã€‚ Method Node2Vecè®¤ä¸ºï¼ŒçŽ°æœ‰çš„æ–¹æ³•æ— æ³•å¾ˆå¥½çš„ä¿ç•™ç½‘ç»œçš„ç»“æž„ä¿¡æ¯ï¼Œä¾‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæœ‰ä¸€äº›ç‚¹ä¹‹é—´çš„è¿žæŽ¥éžå¸¸ç´§å¯†(æ¯”å¦‚u, s1, s2, s3, s4)ï¼Œä»–ä»¬ä¹‹é—´å°±ç»„æˆäº†ä¸€ä¸ªç¤¾åŒº(community)ã€‚ç½‘ç»œä¸­å¯èƒ½å­˜åœ¨ç€å„ç§å„æ ·çš„ç¤¾åŒºï¼Œè€Œæœ‰çš„ç»“ç‚¹åœ¨ç¤¾åŒºä¸­å¯èƒ½åˆæ‰®æ¼”ç€ç›¸ä¼¼çš„è§’è‰²(æ¯”å¦‚uä¸Žs6)ã€‚ Node2Vecçš„ä¼˜åŒ–ç›®æ ‡ä¸ºä»¥ä¸‹ä¸¤ä¸ªï¼š è®©åŒä¸€ä¸ªç¤¾åŒºå†…çš„ç»“ç‚¹è¡¨ç¤ºèƒ½å¤Ÿç›¸äº’æŽ¥è¿‘ï¼Œæˆ– åœ¨ä¸åŒç¤¾åŒºå†…æ‰®æ¼”ç›¸ä¼¼è§’è‰²çš„ç»“ç‚¹è¡¨ç¤ºä¹Ÿè¦ç›¸äº’æŽ¥è¿‘ã€‚ ä¸ºæ­¤ï¼ŒNode2Vecå°±è¦åœ¨DeepWalkçŽ°æœ‰çš„åŸºç¡€ä¸Šï¼Œå¯¹éšæœºæ¸¸èµ°çš„ç­–ç•¥è¿›è¡Œä¼˜åŒ–ã€‚Node2Vecæå‡ºäº†ä¸¤ç§æ¸¸èµ°ç­–ç•¥ï¼š å¹¿åº¦ä¼˜å…ˆç­–ç•¥ æ·±åº¦ä¼˜å…ˆç­–ç•¥ å°±å¦‚ä¸Šå›¾çš„æ ‡æ³¨æ‰€ç¤ºï¼Œæ·±åº¦ä¼˜å…ˆæ¸¸èµ°ç­–ç•¥å°†ä¼šé™åˆ¶æ¸¸èµ°åºåˆ—ä¸­å‡ºçŽ°é‡å¤çš„ç»“ç‚¹ï¼Œé˜²æ­¢æ¸¸èµ°æŽ‰å¤´ï¼Œä¿ƒè¿›æ¸¸èµ°å‘æ›´è¿œçš„åœ°æ–¹è¿›è¡Œã€‚è€Œå¹¿åº¦ä¼˜å…ˆæ¸¸èµ°ç­–ç•¥ç›¸åå°†ä¼šä¿ƒè¿›æ¸¸èµ°ä¸æ–­çš„å›žå¤´ï¼ŒåŽ»è®¿é—®ä¸Šä¸€æ­¥ç»“ç‚¹çš„å…¶ä»–é‚»å±…ç»“ç‚¹ã€‚ è¿™æ ·ä¸€æ¥ï¼Œå½“ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆç­–ç•¥æ—¶ï¼Œæ¸¸èµ°å°†ä¼šåœ¨ä¸€ä¸ªç¤¾åŒºå†…é•¿æ—¶é—´åœç•™ï¼Œä½¿å¾—ä¸€ä¸ªç¤¾åŒºå†…çš„ç»“ç‚¹äº’ç›¸æˆä¸ºcontextï¼Œè¿™ä¹Ÿå°±è¾¾åˆ°äº†ç¬¬ä¸€æ¡ä¼˜åŒ–ç›®æ ‡ã€‚ç›¸åï¼Œå½“ä½¿ç”¨æ·±åº¦ä¼˜å…ˆçš„ç­–ç•¥çš„æ—¶å€™ï¼Œæ¸¸èµ°å¾ˆéš¾åœ¨åŒä¸€ä¸ªç¤¾åŒºå†…åœç•™ï¼Œä¹Ÿå°±è¾¾åˆ°äº†ç¬¬äºŒæ¡ä¼˜åŒ–ç›®æ ‡ã€‚ é‚£ä¹ˆå¦‚ä½•è¾¾åˆ°è¿™æ ·çš„ä¸¤ç§éšæœºæ¸¸èµ°ç­–ç•¥å‘¢ï¼Œè¿™é‡Œéœ€è¦ç”¨åˆ°ä¸¤ä¸ªè¶…å‚æ•°på’Œqç”¨æ¥æŽ§åˆ¶æ·±åº¦ä¼˜å…ˆç­–ç•¥å’Œå¹¿åº¦ä¼˜å…ˆç­–ç•¥çš„æ¯”é‡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ å‡è®¾çŽ°åœ¨æ¸¸èµ°åºåˆ—ä»Žtèµ°åˆ°vï¼Œè¿™æ—¶å€™éœ€è¦ç®—å‡ºä¸‰ä¸ªç³»æ•°ï¼Œåˆ†åˆ«ä½œä¸ºæŽ§åˆ¶ä¸‹ä¸€æ­¥èµ°å‘æ–¹å‘çš„åç½®Î± å…¶ä¸­d(t, x)ä»£è¡¨tç»“ç‚¹åˆ°ä¸‹ä¸€æ­¥ç»“ç‚¹xçš„æœ€çŸ­è·¯ï¼Œæœ€å¤šä¸º2ã€‚ å½“d(t, x)=0æ—¶ï¼Œè¡¨ç¤ºä¸‹ä¸€æ­¥æ¸¸èµ°æ˜¯å›žåˆ°ä¸Šä¸€æ­¥çš„ç»“ç‚¹ï¼› å½“d(t, x)=1æ—¶ï¼Œè¡¨ç¤ºä¸‹ä¸€æ­¥æ¸¸èµ°è·³å‘tçš„å¦å¤–ä¸€ä¸ªé‚»å±…ç»“ç‚¹ï¼› å½“d(t, x)=2æ—¶ï¼Œè¡¨ç¤ºä¸‹ä¸€æ­¥æ¸¸èµ°å‘æ›´è¿œçš„ç»“ç‚¹ç§»åŠ¨ã€‚ è€ŒNode2VecåŒæ—¶è¿˜è€ƒè™‘äº†è¾¹æƒwçš„å½±å“ï¼Œæ‰€ä»¥æœ€ç»ˆçš„åç½®ç³»æ•°ä»¥åŠæ¸¸èµ°ç­–ç•¥ä¸º è¿™æ ·ä¸€æ¥ï¼Œå°±å¯ä»¥çœ‹å‡ºï¼Œè¶…å‚æ•°pæŽ§åˆ¶çš„æ˜¯é‡æ–°è®¿é—®åŽŸæ¥ç»“ç‚¹çš„æ¦‚çŽ‡ï¼Œä¹Ÿå°±æ˜¯ä¿å®ˆæŽ¢ç´¢ç³»æ•°ï¼Œè€Œè¶…å‚æ•°qæŽ§åˆ¶çš„æ˜¯æ¸¸èµ°å‘æ›´è¿œæ–¹å‘çš„æ¦‚çŽ‡ï¼Œä¹Ÿå°±æ˜¯æ¿€è¿›æŽ¢ç´¢ç³»æ•°ã€‚å¦‚æžœqè¾ƒå¤§ï¼Œé‚£ä¹ˆæ¸¸èµ°ç­–ç•¥åˆ™æ›´åå‘äºŽå¹¿åº¦ä¼˜å…ˆç­–ç•¥ï¼Œè‹¥qè¾ƒå°ï¼Œåˆ™åå‘äºŽæ·±åº¦ä¼˜å…ˆç­–ç•¥ã€‚ Experiments å¤šæ ‡ç­¾åˆ†ç±»ä»»åŠ¡ä¸­å¯ä»¥çœ‹å‡ºï¼Œå½“è°ƒæ•´å¥½é€‚å½“çš„pã€qå€¼ä¹‹åŽï¼ŒNode2Vecçš„æ•ˆæžœè¦ç•¥å¥½äºŽDeepWalk å››ã€SDNE: Structural Deep Network EmbeddingLINEä¸­æåˆ°äº†ä¸€é˜¶ç›¸ä¼¼åº¦ä»¥åŠäºŒé˜¶ç›¸ä¼¼åº¦çš„æ¦‚å¿µï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä»€ä¹ˆåŠžæ³•ï¼Œé€šè¿‡æ·±åº¦å­¦ä¹ ï¼Œç›´æŽ¥å°†è¿™ä¸¤ç§ç›¸ä¼¼åº¦ä¿ç•™åœ¨Embeddingä¸­çš„æ–¹æ³•å‘¢ï¼Ÿ SDNEæå‡ºäº†è¿™æ ·ä¸€ä¸ªæ¡†æž¶ï¼Œèƒ½å¤Ÿä½¿ç”¨æ·±åº¦è‡ªç¼–ç å™¨ï¼Œåœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­ï¼ŒåŒæ—¶èŽ·å¾—èŠ‚ç‚¹çš„ä¸€é˜¶ç›¸ä¼¼åº¦å’ŒäºŒé˜¶ç›¸ä¼¼åº¦ã€‚é¦–å…ˆï¼Œä¸Šé¢æåˆ°äº†äºŒé˜¶ç›¸ä¼¼åº¦å…¶å®žæ˜¯èŠ‚ç‚¹é‚»åŸŸçš„ç›¸ä¼¼ç¨‹åº¦ã€‚æ¢å¥è¯è¯´ï¼Œè¿™æ ·çš„ç›¸ä¼¼åº¦ï¼Œå…¶å®žå°±ç›´æŽ¥åŒ…å«åœ¨é‚»æŽ¥çŸ©é˜µSçš„æ¯ä¸€è¡Œä¸­ã€‚æ‰€ä»¥SDNEç›´æŽ¥ä½¿ç”¨ä¸€ä¸ªæ·±åº¦è‡ªç¼–ç å™¨ï¼Œå­¦ä¹ ç½‘ç»œé‚»æŽ¥çŸ©é˜µçš„ç¼–ç ä¸Žé‡æž„ï¼Œè¿™æ ·ä¸€æ¥ï¼ŒäºŒé˜¶ç›¸ä¼¼åº¦å°±è¢«ä¿ç•™åœ¨äº†Embeddingä¸­ï¼Œè®­ç»ƒç›¸å¯¹åº”çš„æŸå¤±å‡½æ•°ä¸º å…¶ä¸­xä¸ºé‚»æŽ¥çŸ©é˜µçš„æ¯ä¸€è¡Œè€Œhat{x}åˆ™ä»£è¡¨äº†è‡ªç¼–ç å™¨é‡æž„ä»¥åŽçš„é‚»æŽ¥çŸ©é˜µã€‚B=1-Sï¼Œå³åªé’ˆå¯¹ä¸ç›´æŽ¥ç›¸é‚»çš„èŠ‚ç‚¹å¯¹è¿›è¡Œè®­ç»ƒã€‚ æŽ¥ä¸‹æ¥å°±æ˜¯é’ˆå¯¹ä¸€é˜¶ç›¸ä¼¼åº¦çš„æŸå¤±å‡½æ•°äº†ï¼Œå…¶å®žå¾ˆç›´æŽ¥ï¼Œå› ä¸ºæˆ‘ä»¬æœ€ç»ˆæ˜¯å°†è‡ªç¼–ç å™¨çš„éšå±‚å½“ä½œæœ€ç»ˆçš„èŠ‚ç‚¹Embeddingï¼Œæ‰€ä»¥å¯ä»¥ç›´æŽ¥åƒLINEé‡Œä¸€æ ·ï¼Œç›´æŽ¥ä½¿å­˜åœ¨è¾¹çš„ä¸¤ä¸ªèŠ‚ç‚¹çš„Embeddingç›¸äº’æŽ¥è¿‘å°±è¡Œäº†ï¼Œå…·ä½“çš„æŸå¤±å‡½æ•°å¦‚ä¸‹ yä¹Ÿå°±æ˜¯æˆ‘ä»¬èŽ·å¾—çš„è‡ªç¼–ç å™¨çš„éšå±‚ã€‚ æ‰€ä»¥æ€»ä½“çš„ç»“æž„å¦‚ä¸‹æ‰€ç¤º äº”ã€HARP: Hierarchical Representation Learning for Networksä¸Šé¢ä»‹ç»äº†DeepWalkã€LINEã€Node2Vecä¸‰ä¸ªç½‘ç»œè¡¨ç¤ºå­¦ä¹ ä¸­æœ€ä¸ºè‘—åçš„ä¸‰ç§ç®—æ³•ã€‚ä½†æ˜¯ï¼Œè¿™ä¸‰ä¸ªç®—æ³•éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„å¼±ç‚¹ï¼Œé‚£å°±æ˜¯ä»–ä»¬æ‰€æ•æ‰çš„ç½‘ç»œç»“ç‚¹å…³ç³»è¿‡è¿‘ï¼Œéƒ½æ˜¯å±€éƒ¨é‚»å±…ã€‚LINEä»…ä»…åªè€ƒè™‘åˆ°äº†ä¸€é˜¶é‚»å±…ä¸ŽäºŒé˜¶é‚»å±…ä¹‹é—´çš„ç›¸ä¼¼åº¦å…³ç³»ã€‚DeepWalkä¸ŽNode2Vecè™½ç„¶å¯ä»¥é€šè¿‡éšæœºæ¸¸èµ°ï¼ŒèŽ·å¾—è¾ƒé•¿çš„æ¸¸èµ°åºåˆ—ï¼Œä½†æ˜¯æ¸¸èµ°çš„é•¿åº¦æ¯”èµ·çŽ°åœ¨å›¾æ•°æ®çš„è§„æ¨¡ï¼Œéšæœºæ¸¸èµ°çš„é•¿åº¦è¿˜æ˜¯å¤ªçŸ­äº†ã€‚æ‰€ä»¥å°±éœ€è¦æƒ³ä¸€ç§æ–¹æ³•æ•æ‰å…¨å±€çš„ç›¸ä¼¼åº¦ã€‚ Method HARPé‡‡å–çš„æ–¹å¼å°±æ˜¯é€šè¿‡å¤šæ¬¡æŠ˜å ï¼Œå°†åŽŸæ¥çš„å¤§å›¾å±‚å±‚æ”¶ç¼©ä¸ºè¾ƒå°çš„å›¾ï¼Œä½¿å¾—é€šè¿‡è¾ƒçŸ­çš„éšæœºæ¸¸èµ°è·ç¦»ï¼Œå°±èƒ½å¤Ÿè¦†ç›–æ‰€æœ‰çš„ç½‘ç»œç»“ç‚¹ï¼Œç„¶åŽå°†å°å›¾ä½œä¸ºDeepWalkã€LINEæˆ–Node2Vecçš„è¾“å…¥ï¼Œå­¦ä¹ Embeddingã€‚æœ€åŽå°†åœ¨æ”¶ç¼©åŽçš„å°å›¾ä¸­å­¦ä¹ åˆ°çš„Embeddingä½œä¸ºæŠ˜å å‰çš„çš„å›¾çš„Embeddingçš„åˆå§‹åŒ–ï¼Œç»§ç»­å­¦ä¹ æŠ˜å å‰çš„å›¾çš„Embeddingã€‚ä»¥æ­¤ç±»æŽ¨å±‚å±‚å­¦å¾—åŽŸæ¥å¤§å›¾çš„Embeddingã€‚HARPçš„ç®—æ³•æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ å›¾æŠ˜å ç®—æ³• é‚£ä¹ˆè¦ç†è§£HARPè¿™ä¸ªç®—æ³•çš„å…³é”®ï¼Œå°±åœ¨äºŽå›¾æŠ˜å ç®—æ³•ã€‚HARPçš„å›¾æŠ˜å ç®—æ³•ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ³• è¾¹æŠ˜å  (Edge Collapsing) è¾¹æŠ˜å ç®—æ³•é€‰æ‹©å°½å¯èƒ½å¤šçš„è¾¹ï¼Œè¿™äº›è¾¹æ²¡æœ‰å…±åŒçš„é¡¶ç‚¹ï¼Œå³æ¯ä¸ªé¡¶ç‚¹åªæœ‰ä¸€æ¡ä¸Žä¹‹è¿žæŽ¥çš„è¾¹è¢«é€‰ä¸­ã€‚ç„¶åŽï¼Œå¦‚ä¸‹å›¾(a)æ‰€ç¤ºï¼Œè¿™äº›è¾¹è¢«æŠ˜å æˆä¸ºä¸€ä¸ªç»“ç‚¹ï¼Œæˆä¸ºäº†æŠ˜å åŽçš„æ–°ç»“ç‚¹ã€‚ æ˜ŸæŠ˜å  (Star Collapsing) è™½ç„¶è¾¹æŠ˜å åœ¨æœ€å¥½çš„æƒ…å†µä¸‹æ¯ä¸€è½®æŠ˜å å¯ä»¥å°†ç»“ç‚¹çš„æ•°é‡ç¼©å‡ä¸€åŠï¼Œè¿™æ ·ä¸€æ¥å›¾æŠ˜å ç®—æ³•çš„æ€»æ¬¡æ•°ä¸ºO(logk)ã€‚ä½†åœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹å´ä¸èƒ½å¾ˆå¥½çš„å‘æŒ¥ä½œç”¨ã€‚å¦‚ä¸‹å›¾(b)æ‰€ç¤ºï¼Œæ˜Ÿå½¢ç»“æž„æ˜¯ç½‘ç»œä¸­æœ€å¸¸è§ç»“æž„ä¹‹ä¸€ï¼Œåœ¨è¿™ç§ç»“æž„ä¸­ï¼Œå¦‚æžœä½¿ç”¨è¾¹æŠ˜å ç®—æ³•ï¼Œé‚£ä¹ˆå°±è‡³å¤šåªèƒ½æŠ˜å ä¸€æ¡è¾¹ï¼Œç®—æ³•è¦æ‰§è¡Œçš„æ€»æ¬¡æ•°åˆ™ä¼šé€€åŒ–ä¸ºO(k)ã€‚æ‰€ä»¥ï¼ŒHARPé‡‡ç”¨äº†å¦å¤–ä¸€ç§æŠ˜å ç­–ç•¥ï¼Œå°±æ˜¯æ˜ŸæŠ˜å ã€‚å¦‚ä¸‹å›¾(c)æ‰€ç¤ºï¼Œæ˜ŸçŠ¶ç½‘ç»œä¸­æœ‰ä¸¤ç§ç»“ç‚¹ï¼Œä¸­å¿ƒç»“ç‚¹å’Œå‘¨å›´èŠ‚ç‚¹ï¼Œæ˜ŸæŠ˜å æ–¹æ³•å°±æ˜¯å°†åŒä¸€ä¸ªä¸­å¿ƒç»“ç‚¹çš„å‘¨å›´ç»“ç‚¹ä¸¤ä¸¤é…å¯¹ï¼ŒæŠ˜å æˆä¸€ä¸ªç»“ç‚¹ï¼Œæ¥å°½é‡å‡å°‘æ˜ŸçŠ¶ç»“æž„çš„å‘¨å›´ç»“ç‚¹ï¼Œä»¥å¢žå¼ºè¾¹æŠ˜å çš„æ•ˆçŽ‡ã€‚ HARPåœ¨æ¯æ¬¡æŠ˜å çš„æ—¶å€™ï¼Œå…ˆæ˜¯ä½¿ç”¨æ˜ŸæŠ˜å å‡å°‘æ˜Ÿå½¢ç»“æž„ï¼Œç„¶åŽå†æ‰§è¡Œä¸€æ¬¡è¾¹æŠ˜å ã€‚å…·ä½“çš„å›¾æŠ˜å ç®—æ³•æµç¨‹å¦‚ä¸‹é¢çš„ä¼ªä»£ç æ‰€ç¤ºã€‚ Experiment é€šè¿‡HARPçš„å¤šæ ‡ç­¾åˆ†ç±»ç»“æžœå¯ä»¥çœ‹å‡ºï¼Œä½¿ç”¨HARPçš„å›¾æŠ˜å å’Œå±‚çº§è®­ç»ƒçš„æ‰‹æ®µåŽï¼Œç›¸è¾ƒäºŽå…¶ç›¸åº”çš„åº•å±‚ç®—æ³•ï¼Œéƒ½æœ‰ä¸€å®šçš„æå‡ã€‚å®žé™…ä¸Šï¼Œç»è¿‡æˆ‘æœ¬äººçš„å®žéªŒï¼Œåœ¨æ›´å¤§è§„æ¨¡çš„å›¾ä¸Š(ç»“ç‚¹æ•°é‡è¾¾åˆ°æ•°åä¸‡ç”šè‡³ä¸Šç™¾ä¸‡æ—¶)ï¼Œè¿™æ ·çš„æå‡å°†ä¼šæ›´åŠ æ˜Žæ˜¾ã€‚ å…­ã€GraphGAN: Graph Representation Learning with Generative Adversarial NetsGraphGANè¿™ä»½å·¥ä½œï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å°è¯•ä½¿ç”¨ç”Ÿæˆå¯¹æŠ—ç½‘ç»œ(Generative Adversarial Nets, GAN)æ¥å¢žå¼ºç½‘ç»œè¡¨ç¤ºå­¦ä¹ çš„è¡¨çŽ°ã€‚ Method è¦æ˜¯ç†è§£GANï¼Œé‚£ä¹ˆGraphGANçš„å¤§é¢˜æ¨¡å—åŠå…¶ä½œç”¨åº”è¯¥å°±èƒ½å¤Ÿå¾ˆå®¹æ˜“åœ°æƒ³åˆ°ã€‚GraphGANä¸€å…±åŒ…å«ä¸¤ä¸ªä¸»è¦çš„æ¨¡å—ï¼š åˆ¤åˆ«å™¨ ç”±äºŽNetwork Embeddingä»»åŠ¡å¤§å¤šæ˜¯æ— ç›‘ç£ï¼Œç»“ç‚¹æœ¬èº«ä¸å¸¦æœ‰ä»»ä½•æ ‡ç­¾ï¼Œæ‰€ä»¥åˆ¤åˆ«å™¨è¦åˆ¤åˆ«çš„å°±æ˜¯ç½‘ç»œè‡ªèº«å¸¦æœ‰çš„ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯è¿žæŽ¥ä¿¡æ¯ã€‚GraphGANä¸­çš„åˆ¤åˆ«å™¨å®žé™…ä¸Šå°±æ˜¯ä¸€ä¸ªè¿žæŽ¥é¢„æµ‹å™¨ï¼Œé€šè¿‡è¾“å…¥ä¸¤ä¸ªç»“ç‚¹çš„Embeddingæ¥åˆ¤å®šä¸¤ä¸ªç»“ç‚¹ä¹‹é—´æ˜¯å¦å­˜åœ¨ä¸€æ¡è¾¹ã€‚ ç”Ÿæˆå™¨ ç”Ÿæˆå™¨çš„ä½œç”¨å°±æ˜¯é€šè¿‡åˆç†çš„æ–¹å¼ç”Ÿæˆä¸€äº›ç‚¹å¯¹ï¼Œç„¶åŽå°†è¿™äº›ç‚¹å¯¹è¾“å…¥åˆ°åˆ¤åˆ«å™¨ä¸­ï¼Œå°½é‡è®©åˆ¤åˆ«å™¨å°†è¿™ä¸¤ä¸ªç‚¹å¯¹è¯¯è®¤ä¸ºæ˜¯åœ¨å›¾ä¸Šå­˜åœ¨è¾¹çš„ä¸¤ä¸ªç»“ç‚¹çš„Embeddingã€‚ ä¹‹åŽçš„è®­ç»ƒè¿‡ç¨‹å°±æ˜¯ç”Ÿæˆå™¨ä¸Žåˆ¤åˆ«å™¨è¾ƒé‡çš„è¿‡ç¨‹ã€‚ç”Ÿæˆå™¨ä¸æ–­è°ƒæ•´æ¯ä¸ªç»“ç‚¹çš„Embeddingä»¥åŠè‡ªå·±çš„å‚æ•°ï¼Œä½¿å¾—æŒ‰ç…§è‡ªå·±çš„è§„åˆ™ç”Ÿæˆå‡ºæ¥çš„ä¸¤ä¸ªå°±èŠ‚ç‚¹å¯¹èƒ½å¤Ÿè¢«åˆ¤åˆ«å™¨åˆ¤åˆ«æˆä¸ºå­˜åœ¨è¿žæŽ¥ã€‚è€Œåˆ¤åˆ«å™¨åˆ™é€šè¿‡è°ƒæ•´è‡ªèº«çš„å‚æ•°ï¼Œä½¿è‡ªå·±èƒ½å¤Ÿå‡†ç¡®çš„å°†å›¾ä¸­å®žé™…å­˜åœ¨è¾¹çš„ç»“ç‚¹å¯¹åˆ¤å®šä¸ºtrueè€Œå°†ç”Ÿæˆå™¨ç”Ÿæˆçš„ç»“ç‚¹å¯¹åˆ¤å®šä¸ºfalseã€‚ä»–ä»¬ä¸¤ä¸ªå…±åŒç»„æˆGraphGANçš„ç›®æ ‡å‡½æ•°ï¼š Implemention é‚£ä¹ˆGraphGANä¸­çš„åˆ¤åˆ«å™¨ä¸Žç”Ÿæˆå™¨å…·ä½“æ˜¯æ€Žä¹ˆå®žçŽ°çš„å‘¢ï¼Ÿ å‰é¢ä»‹ç»çš„DeepWalkã€LINEã€Node2Vecç­‰æ–¹æ³•éƒ½æ˜¯å…ˆèŽ·å¾—ä¸€äº›contextï¼Œç„¶åŽé€šè¿‡è®­ç»ƒä½¿å¾—è¿™äº›ç»“ç‚¹çš„Embeddingç›¸äº’æŽ¥è¿‘ï¼Œç„¶åŽé€šè¿‡éšæœºçš„è´Ÿé‡‡æ ·å¾—åˆ°ä¸€äº›è´Ÿæ ·æœ¬ï¼Œè®©è¿™äº›è´Ÿæ ·æœ¬çš„ç»“ç‚¹ä¹‹é—´çš„Embeddingç›¸äº’è¿œç¦»ã€‚äº‹å®žä¸ŠGraphGANçš„åˆ¤åˆ«å™¨ä¸Žå‰é¢å·¥ä½œçš„contextè®­ç»ƒéžå¸¸ç›¸ä¼¼ï¼Œä¹Ÿæ˜¯è®©ground truthçš„Embeddingç›¸äº’æŽ¥è¿‘ï¼Œè®©ç”Ÿæˆå™¨ç”Ÿæˆçš„èŠ‚ç‚¹å¯¹çš„Embeddingç›¸äº’è¿œç¦»ã€‚ è¿™æ ·ä¸€æ¥ç”Ÿæˆå™¨çœ‹ä¼¼æ˜¯ä»£æ›¿äº†åŽŸæ¥è´Ÿé‡‡æ ·çš„è¿‡ç¨‹ï¼Œç„¶è€Œç”Ÿæˆå™¨å´éœ€è¦èƒ½å¤Ÿç”Ÿæˆä¸Žground truthå°½é‡ç›¸ä¼¼çš„æ•°æ®ï¼Œè¿™å°±ä¸ŽåŽŸæ¥çš„è´Ÿé‡‡æ ·ä¸å¤ªä¸€è‡´ã€‚é‚£ä¹ˆè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ äº§ç”Ÿè¿™æ ·ç–‘æƒ‘çš„åŽŸå› æ˜¯æˆ‘ä»¬ä»Žä»¥åˆ¤åˆ«å™¨ä¸ºä¸»çš„è§’åº¦æ¥çœ‹å¾…è¿™ä¸ªæ¨¡åž‹ã€‚å¦‚æžœæˆ‘ä»¬ä»Žç”Ÿæˆå™¨çš„è§’åº¦æ¥ç†è§£è¿™ä¸ªæ¨¡åž‹çš„æ—¶å€™ï¼Œè¿™äº›ç–‘æƒ‘å°±ä¼šå¾—åˆ°è§£é‡Šã€‚åˆ¤åˆ«å™¨ä»…ä»…åªæ˜¯ä½œä¸ºè®­ç»ƒæ—¶çš„ç›®æ ‡å‡½æ•°çš„å®žçŽ°ï¼Œå®ƒèµ·åˆ°çš„ä½œç”¨æœ‰ä¸¤ä¸ªï¼Œä¸€æ˜¯è®©ground truthç›¸äº’æŽ¥è¿‘ï¼Œå¦å¤–ä¸€ä¸ªå°±æ˜¯ç»™ç”Ÿæˆå™¨æä¾›æŸå¤±å‡½æ•°ã€‚è€Œä¸€ä¸ªç»è¿‡ç²¾å¿ƒè®¾è®¡çš„ç”Ÿæˆå™¨ï¼Œå°±å¯ä»¥åˆ©ç”¨è¿™æ ·çš„æŸå¤±å‡½æ•°ï¼Œè®­ç»ƒå‡ºæˆ‘ä»¬éœ€è¦çš„Embeddingã€‚ ä¸‹é¢å°±æ¥ä»‹ç»ä¸€ä¸‹GraphGANçš„ç”Ÿæˆå™¨æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ é¦–å…ˆï¼Œç”Ÿæˆå™¨è¦éµå®ˆä»¥ä¸‹ä¸‰ä¸ªåŽŸåˆ™ï¼š Normalizedï¼Œå³æ‰€æœ‰ç»“ç‚¹è¢«å½“ä½œè´Ÿæ ·æœ¬çš„æ¦‚çŽ‡ä¹‹å’Œä¸º1ï¼› Graph-structure-awareï¼Œç»“ç‚¹è¢«é€‰ä¸­è´Ÿæ ·æœ¬çš„æ¦‚çŽ‡éšç€æ®ä¸­å¿ƒç»“ç‚¹çš„æœ€çŸ­è·¯å¢žå¤§è€Œå‡å°ï¼› Computational efficientï¼Œä¸èƒ½é’ˆå¯¹æ‰€æœ‰ç»“ç‚¹æ¥è®¡ç®—softmaxï¼Œåªèƒ½å…³è”åˆ°ä¸€ä¸ªç»“ç‚¹çš„å°å­é›†ã€‚ ç®—æ³•å¼€å§‹å‰ï¼Œéœ€è¦ç”Ÿæˆæ¯ä¸ªç»“ç‚¹çš„BFSæ ‘ï¼Œç„¶åŽä¸ºäº†é€‰å–æŸä¸€ä¸ªç»“ç‚¹çš„è´Ÿé‡‡æ ·ï¼Œéœ€è¦æ²¿ç€è¯¥ç»“ç‚¹çš„BFSæ ‘å‘ä¸‹æˆ–å‘ä¸ŠéåŽ†ã€‚ä»ŽæŸä¸ªçˆ¶èŠ‚ç‚¹è½¬ç§»åˆ°å®ƒçš„å­èŠ‚ç‚¹æˆ–çˆ¶èŠ‚ç‚¹çš„æ¦‚çŽ‡ä¸ºï¼š ç„¶åŽï¼Œä¸€ä¸ªç»“ç‚¹æœ€ç»ˆè¢«é€‰å–ä¸ºèµ·å§‹ç»“ç‚¹çš„è´Ÿæ ·æœ¬çš„æ¦‚çŽ‡ä¸ºï¼š ä»¥ä¸‹å›¾ä¸ºä¾‹å­ï¼Œç»™å®šä¸€ä¸ªå›¾ï¼ŒçŽ°åœ¨è¦ä»Žvcè¿™ä¸ªç‚¹å¼€å§‹è´Ÿé‡‡æ ·ï¼Œé‚£ä¹ˆå…ˆä»¥vcä¸ºæ ¹ç”ŸæˆBFSæ ‘ã€‚ç„¶åŽå†ç®—å‡ºæ¯ä¸ªç»“ç‚¹ä¸Žå…¶å­ç»“ç‚¹çš„è½¬ç§»æ¦‚çŽ‡ï¼Œé€šè¿‡è¿™ä¸ªæ¦‚çŽ‡é‡‡æ ·å­èŠ‚ç‚¹ï¼Œç›´åˆ°å“ªä¸ªç»“ç‚¹è¢«éåŽ†äº†ä¸¤æ¬¡ï¼Œç»“æŸã€‚è¾“å‡ºè¿™ä¸ªé‡å¤éåŽ†çš„ç»“ç‚¹ä½œä¸ºè´Ÿæ ·æœ¬ã€‚è¿™ä¸ªéåŽ†è¿‡ç¨‹ä¸­æ¶‰åŠåˆ°çš„æ‰€æœ‰å…¶ä»–ç»“ç‚¹(ç»¿è‰²ç»“ç‚¹)éƒ½è¦åœ¨è®­ç»ƒä¸­è®­ç»ƒåˆ°ã€‚ è¿™æ ·çš„ä½œæ³•å¤åˆä¸Šé¢æå‡ºçš„ä¸‰ç§åŽŸåˆ™ï¼Œè®ºæ–‡ä¸­ç»™å‡ºäº†è¯¦ç»†çš„è¯æ˜Žã€‚ Experiment åŒæ ·æ¥çœ‹çœ‹GraphGANçš„å¤šæ ‡ç­¾åˆ†ç±»çš„å®žéªŒç»“æžœ ä¸ƒã€æ€»ç»“æœ¬æ–‡ä»‹ç»äº†å‡ ç§é’ˆå¯¹ç½‘ç»œç»“æž„è¿›è¡Œè¡¨ç¤ºå­¦ä¹ çš„æ–¹æ³•ï¼Œé¦–å…ˆæ˜¯DeepWalkã€LINEã€Node2Vecä¸‰ä¸ªæœ€ä¸ºè‘—åçš„å·¥ä½œã€‚ä¹‹åŽä»‹ç»äº†è¿‘ä¸¤å¹´çš„ä¸€äº›é’ˆå¯¹ç½‘ç»œç»“æž„çš„ç½‘ç»œè¡¨ç¤ºæ–¹æ³•HARPå’ŒGraphGANï¼Œäº†è§£è¿‘äº›å¹´é’ˆå¯¹ç»“æž„çš„ç½‘ç»œè¡¨ç¤ºå­¦ä¹ çš„ä¸€äº›æ–°æ€è·¯ã€‚ä½†æ˜¯ï¼ŒçŽ°å®žä¸­çš„ç½‘ç»œä¸­çš„å†…å®¹è¿œè¿œä¸æ­¢ç»“æž„è¿™ä¹ˆç®€å•ã€‚ç½‘ç»œä¸­çš„ç»“ç‚¹å¯èƒ½æœ‰ä¸åŒçš„ç±»åˆ«ï¼Œæ¯ç§ç»“ç‚¹åˆå¯èƒ½æœ‰ä¸åŒçš„å±žæ€§ã€‚æ‰€ä»¥ï¼Œè¿˜éœ€è¦æœ‰é’ˆå¯¹åˆ©ç”¨ç½‘ç»œä¸­å…¶ä»–ä¿¡æ¯çš„ç›¸å…³ç ”ç©¶ã€‚ å…«ã€å‚è€ƒæ–‡çŒ®[1] Perozzi B, Al-Rfou R, Skiena S. Deepwalk: Online learning of social representations[C]//Proceedings of the 20th ACM SIGKDD international conference on Knowledge discovery and data mining. ACM, 2014: 701-710. [2] Tang J, Qu M, Wang M, et al. Line: Large-scale information network embedding[C]//Proceedings of the 24th international conference on world wide web. International World Wide Web Conferences Steering Committee, 2015: 1067-1077. [3] Grover A, Leskovec J. node2vec: Scalable feature learning for networks[C]//Proceedings of the 22nd ACM SIGKDD international conference on Knowledge discovery and data mining. ACM, 2016: 855-864. [4] Wang D, Cui P, Zhu W, et al. Structural Deep Network Embedding[C]. knowledge discovery and data mining, 2016: 1225-1234. [5] Chen H, Perozzi B, Hu Y, et al. Harp: Hierarchical representation learning for networks[C]//Thirty-Second AAAI Conference on Artificial Intelligence. 2018. [6] Wang H, Wang J, Wang J, et al. Graphgan: Graph representation learning with generative adversarial nets[C]//Thirty-Second AAAI Conference on Artificial Intelligence. 2018.]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Representation Learning</tag>
        <tag>Network Embedding</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ·±åº¦å­¦ä¹ ä¸­çš„ä¼˜åŒ–ç®—æ³•ï¼ˆOptimizerï¼‰ç†è§£ä¸Žpythonå®žçŽ°]]></title>
    <url>%2F2019%2F04%2F27%2Foptimizer_nesterov%2F</url>
    <content type="text"><![CDATA[æœ¬ç¯‡ç¬”è®°ä»‹ç»æ·±åº¦å­¦ä¹ ä¸­æœ€ç®€å•çš„ä¸‰ç§ä¼˜åŒ–ç®—æ³•ï¼ŒSGDï¼ŒMomentumï¼ŒNestrovçš„ç†è§£ä¸Žå®žçŽ° ä¸€ã€SGDéšæœºæ¢¯åº¦ä¸‹é™æ³•ä¸ç”¨å¤šè¯´ï¼Œæ¯ä¸€ä¸ªå‚æ•°æŒ‰ç…§æ¢¯åº¦çš„æ–¹å‘æ¥å‡å°ä»¥è¿½æ±‚æœ€å°åŒ–æŸå¤±å‡½æ•° æ›´æ–°æ–¹å¼ Pythonå®žçŽ° 1234567class SGD: def __init__(self, lr=0.01): self.lr = lr def update(self, params, grads): for key in params.keys(): params[key] -= self.lr * grads[key] äºŒ ã€Momentumåœ¨æ¢¯åº¦ä¸‹é™çš„åŸºç¡€ä¸ŠåŠ å…¥äº†åŠ¨é‡ï¼Œå³å‰é¢çš„æ¢¯åº¦å°†ä¼šå½±å“æœ¬è½®çš„æ¢¯åº¦æ–¹å‘ æ›´æ–°æ–¹å¼ Pythonå®žçŽ° 123456789101112131415class Momentum: def __init__(self, lr=0.01, momemtum=0.9): self.lr = lr self.momemtum = momemtum self.v = None def update(self, params, grads): if self.v is None: self.v = &#123;&#125; for key, val in params.items(): self.v[key] = np.zeros_like(val) for key in params.keys(): self.v[key] = self.momemtum * self.v[key] - self.lr * grads[key] params[key] += self.v[key] ä¸‰ã€NestrovNestrovä¹Ÿæ˜¯ä¸€ç§åŠ¨é‡æ›´æ–°çš„æ–¹å¼ï¼Œä½†æ˜¯ä¸Žæ™®é€šåŠ¨é‡æ–¹å¼ä¸åŒçš„æ˜¯ï¼ŒNestrovä¸ºäº†åŠ é€Ÿæ”¶æ•›ï¼Œæå‰æŒ‰ç…§ä¹‹å‰çš„åŠ¨é‡èµ°äº†ä¸€æ­¥ï¼Œç„¶åŽæ±‚å¯¼åŽæŒ‰ç€æ¢¯åº¦å†èµ°ä¸€æ­¥ æ›´æ–°æ–¹å¼ ä½†æ˜¯è¿™æ ·ä¸€æ¥ï¼Œå°±ç»™å®žçŽ°å¸¦æ¥äº†å¾ˆå¤§çš„éº»çƒ¦ï¼Œå› ä¸ºæˆ‘ä»¬å½“å‰æ˜¯åœ¨Wçš„ä½ç½®ä¸Šï¼Œæ— æ³•æ±‚å¾—W+Î±vå¤„çš„æ¢¯åº¦ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è¿›è¡Œä¸€å®šæ”¹å˜ã€‚ç”±äºŽWä¸ŽW+Î±vå¯¹å‚æ•°æ¥è¯´æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å‡è®¾å½“å‰çš„å‚æ•°å°±æ˜¯W+Î±vã€‚å°±åƒä¸‹å›¾ï¼ŒæŒ‰ç…§Nestrovçš„æœ¬æ„ï¼Œåœ¨0å¤„åº”è¯¥å…ˆæŒ‰ç…§æ£•è‰²çš„ç®­å¤´èµ°Î±våˆ°1ï¼Œç„¶åŽæ±‚å¾—1å¤„çš„æ¢¯åº¦ï¼ŒæŒ‰ç…§æ¢¯åº¦èµ°ä¸€æ­¥åˆ°2ã€‚ çŽ°åœ¨ï¼Œæˆ‘ä»¬å‡è®¾å½“å‰çš„Wå°±æ˜¯1å¤„çš„å‚æ•°ï¼Œä½†æ˜¯ï¼Œå½“å‰çš„åŠ¨é‡vä»ç„¶æ˜¯0å¤„çš„åŠ¨é‡ï¼Œé‚£ä¹ˆæ›´æ–°æ–¹å¼å°±å¯ä»¥å†™ä½œ è¿™æ ·ä¸€æ¥ï¼ŒåŠ¨é‡vå°±æ›´æ–°åˆ°äº†ä¸‹ä¸€æ­¥çš„2å¤„çš„åŠ¨é‡ã€‚ä½†æ˜¯ä¸‹ä¸€è½®çš„Wç›¸åº”çš„åº”è¯¥åœ¨3å¤„ï¼Œæ‰€ä»¥Wè¿˜è¦å†èµ°ä¸€æ­¥Î±vï¼Œå³å®Œæ•´çš„æ›´æ–°è¿‡ç¨‹åº”è¯¥å¦‚ä¸‹æ‰€ç¤ºï¼š ç¬¬äºŒè¡Œçš„væ˜¯ç¬¬ä¸€è¡Œæ›´æ–°çš„ç»“æžœï¼Œä¸ºäº†ç»Ÿä¸€vçš„è¡¨ç¤ºï¼Œæ›´æ–°è¿‡ç¨‹è¿˜å¯ä»¥å†™ä½œï¼š Pythonå®žçŽ° 123456789101112131415class Nestrov: def __init__(self, lr=0.01, momentum=0.9): self.lr = lr self.momentum = momentum self.v = None def update(self, params, grads): if self.v is None: self.v = &#123;&#125; for key, val in params.items(): self.v[key] = np.zeros_like(val) for key in params.keys(): self.v[key] = self.momentum * self.v[key] - self.lr * grads[key] params[key] += self.momentum * self.v[key] - self.lr * grads[key] ä½†æ˜¯æ ¹æ®æˆ‘çœ‹åˆ°çš„å„ä¸ªæ¡†æž¶çš„ä»£ç ï¼Œå®ƒä»¬å¥½åƒéƒ½æŠŠåŠ¨é‡å»¶è¿Ÿæ›´æ–°äº†ä¸€æ­¥ï¼Œæ‰€ä»¥å®žçŽ°èµ·æ¥æœ‰ç‚¹ä¸ä¸€æ ·ï¼ˆæˆ–è€…è¯´æ˜¯ä¸Šä¸‹ä¸¤ä¸ªå¼å­çš„é¡ºåºè¿›è¡Œäº†é¢ å€’ï¼‰ï¼Œæˆ‘ä¹Ÿæ‰¾ä¸åˆ°å¥½çš„è§£é‡Šï¼Œä½†æ˜¯å†MNISTæ•°æ®é›†ä¸Šæœ€ç»ˆçš„ç»“æžœè¦å¥½äºŽåŽŸæ¥çš„å®žçŽ°ã€‚ Pythonå®žçŽ° 1234567891011121314151617class Nestrov: def __init__(self, lr=0.01, momentum=0.9): self.lr = lr self.momentum = momentum self.v = None def update(self, params, grads): if self.v is None: self.v = &#123;&#125; for key, val in params.items(): self.v[key] = np.zeros_like(val) for key in params.keys(): self.v[key] *= self.momentum self.v[key] -= self.lr * grads[key] params[key] += self.momentum * self.momentum * self.v[key] params[key] -= (1 + self.momentum) * self.lr * grads[key] å››ã€AdaGradå‰é¢ä»‹ç»äº†å‡ ç§åŠ¨é‡æ³•ï¼ŒåŠ¨é‡æ³•æ—¨åœ¨é€šè¿‡æ¯ä¸ªå‚æ•°åœ¨ä¹‹å‰çš„è¿­ä»£ä¸­çš„æ¢¯åº¦ï¼Œæ¥æ”¹å˜å½“å‰ä½ç½®å‚æ•°çš„æ¢¯åº¦ï¼Œåœ¨æ¢¯åº¦ç¨³å®šçš„åœ°æ–¹èƒ½å¤ŸåŠ é€Ÿæ›´æ–°çš„é€Ÿåº¦ï¼Œåœ¨æ¢¯åº¦ä¸ç¨³å®šçš„åœ°æ–¹èƒ½å¤Ÿç¨³å®šæ¢¯åº¦ã€‚ è€ŒAdaGradåˆ™æ˜¯ä¸€ç§å®Œå…¨ä¸åŒçš„æ€è·¯ï¼Œå®ƒæ˜¯ä¸€ç§è‡ªé€‚åº”ä¼˜åŒ–ç®—æ³•ã€‚å®ƒé€šè¿‡æ¯ä¸ªå‚æ•°çš„åŽ†å²æ¢¯åº¦ï¼ŒåŠ¨æ€æ›´æ–°æ¯ä¸€ä¸ªå‚æ•°çš„å­¦ä¹ çŽ‡ï¼Œä½¿å¾—æ¯ä¸ªå‚æ•°çš„æ›´æ–°çŽ‡éƒ½èƒ½å¤Ÿé€æ¸å‡å°ã€‚å‰æœŸæ¢¯åº¦åŠ å¤§çš„ï¼Œå­¦ä¹ çŽ‡å‡å°å¾—æ›´å¿«ï¼Œæ¢¯åº¦å°çš„ï¼Œå­¦ä¹ çŽ‡å‡å°å¾—æ›´æ…¢äº›ã€‚ æ›´æ–°è¿‡ç¨‹ä¸º å…¶ä¸­Î´ç”¨äºŽé˜²æ­¢é™¤é›¶é”™ Pythonå®žçŽ° 1234567891011121314class AdaGrad: def __init__(self, lr=0.01): self.lr = lr self.h = None def update(self, params, grads): if self.h is None: self.h = &#123;&#125; for key, val in params.items(): self.h[key] = np.zeros_like(val) for key in params.keys(): self.h[key] += grads[key] * grads[key] params[key] -= self.lr * grads[key] / (np.sqrt(self.h[key]) + 1e-7) äº”ã€RMSpropAdaGradæœ‰ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯å­¦ä¹ çŽ‡ä¼šä¸æ–­åœ°è¡°é€€ã€‚è¿™æ ·å°±ä¼šä½¿å¾—å¾ˆå¤šä»»åŠ¡åœ¨è¾¾åˆ°æœ€ä¼˜è§£ä¹‹å‰å­¦ä¹ çŽ‡å°±å·²ç»è¿‡é‡å‡å°ï¼Œæ‰€ä»¥RMSpropé‡‡ç”¨äº†ä½¿ç”¨æŒ‡æ•°è¡°å‡å¹³å‡æ¥æ…¢æ…¢ä¸¢å¼ƒå…ˆå‰å¾—æ¢¯åº¦åŽ†å²ã€‚è¿™æ ·ä¸€æ¥å°±èƒ½å¤Ÿé˜²æ­¢å­¦ä¹ çŽ‡è¿‡æ—©åœ°å‡å°ã€‚ æ›´æ–°è¿‡ç¨‹å¦‚ä¸‹ï¼š Pythonå®žçŽ° 12345678910111213141516class RMSprop: def __init__(self, lr=0.01, decay_rate=0.99): self.lr = lr self.decay_rate = decay_rate self.h = None def update(self, params, grads): if self.h is None: self.h = &#123;&#125; for key, val in params.items(): self.h[key] = np.zeros_like(val) for key in params.keys(): self.h[key] *= self.decay_rate self.h[key] += (1 - self.decay_rate) * grads[key] * grads[key] params[key] -= self.lr * grads[key] / (np.sqrt(self.h[key]) + 1e-7) å…­ã€AdamAdamæ–¹æ³•ç»“åˆäº†ä¸Šè¿°çš„åŠ¨é‡ï¼ˆMomentumï¼‰å’Œè‡ªé€‚åº”ï¼ˆAdaptiveï¼‰ï¼ŒåŒæ—¶å¯¹æ¢¯åº¦å’Œå­¦ä¹ çŽ‡è¿›è¡ŒåŠ¨æ€è°ƒæ•´ã€‚å¦‚æžœè¯´åŠ¨é‡ç›¸å½“äºŽç»™ä¼˜åŒ–è¿‡ç¨‹å¢žåŠ äº†æƒ¯æ€§ï¼Œé‚£ä¹ˆè‡ªé€‚åº”è¿‡ç¨‹å°±åƒæ˜¯ç»™ä¼˜åŒ–è¿‡ç¨‹åŠ å…¥äº†é˜»åŠ›ã€‚é€Ÿåº¦è¶Šå¿«ï¼Œé˜»åŠ›ä¹Ÿä¼šè¶Šå¤§ã€‚ Adamé¦–å…ˆè®¡ç®—äº†æ¢¯åº¦çš„ä¸€é˜¶çŸ©ä¼°è®¡å’ŒäºŒé˜¶çŸ©ä¼°è®¡ï¼Œåˆ†åˆ«ä»£è¡¨äº†åŽŸæ¥çš„åŠ¨é‡å’Œè‡ªé€‚åº”éƒ¨åˆ† Î²_1 ä¸Ž Î²_2 æ˜¯ä¸¤ä¸ªç‰¹æœ‰çš„è¶…å‚æ•°ï¼Œä¸€èˆ¬è®¾ä¸º0.9å’Œ0.999 ä½†æ˜¯ï¼ŒAdamè¿˜éœ€è¦å¯¹è®¡ç®—å‡ºçš„çŸ©ä¼°è®¡è¿›è¡Œä¿®æ­£ å…¶ä¸­tæ˜¯è¿­ä»£çš„æ¬¡æ•°ï¼Œä¿®æ­£çš„åŽŸå› åœ¨Why is it important to include a bias correction term for the Adam optimizer for Deep Learning? è¿™ä¸ªé—®é¢˜ä¸­æœ‰éžå¸¸è¯¦ç»†çš„è§£é‡Šã€‚ ç®€å•æ¥è¯´å°±æ˜¯ç”±äºŽmå’Œvçš„åˆå§‹æŒ‡ä¸º0ï¼Œæ‰€ä»¥ç¬¬ä¸€è½®çš„æ—¶å€™ä¼šéžå¸¸åå‘ç¬¬äºŒé¡¹ï¼Œé‚£ä¹ˆåœ¨åŽé¢è®¡ç®—æ›´æ–°å€¼å¾—æ—¶å€™æ ¹æ®Î²_1 ä¸Ž Î²_2çš„åˆå§‹å€¼æ¥çœ‹å°±ä¼šéžå¸¸çš„å¤§ï¼Œéœ€è¦å°†å…¶ä¿®æ­£å›žæ¥ã€‚è€Œä¸”ç”±äºŽÎ²_1 ä¸Ž Î²_2å¾ˆæŽ¥è¿‘äºŽ1ï¼Œæ‰€ä»¥å¦‚æžœä¸ä¿®æ­£ï¼Œå¯¹äºŽæœ€åˆçš„å‡ è½®è¿­ä»£ä¼šæœ‰å¾ˆä¸¥é‡çš„å½±å“ã€‚ æœ€åŽå°±æ˜¯æ›´æ–°å‚æ•°å€¼ï¼Œå’ŒAdaGradå‡ ä¹Žä¸€æ ·ï¼Œåªä¸è¿‡æ˜¯ç”¨ä¸Šäº†ä¸Šé¢è®¡ç®—è¿‡çš„ä¿®æ­£çš„çŸ©ä¼°è®¡ pythonå®žçŽ° 123456789101112131415161718192021222324class Adam: def __init__(self, lr=0.001, beta1=0.9, beta2=0.999): self.lr = lr self.beta1 = beta1 self.beta2 = beta2 self.iter = 0 self.m = None self.v = None def update(self, params, grads): if self.m is None: self.m, self.v = &#123;&#125;, &#123;&#125; for key, val in params.items(): self.m[key] = np.zeros_like(val) self.v[key] = np.zeros_like(val) self.iter += 1 lr_t = self.lr * np.sqrt(1.0 - self.beta2**self.iter) / (1.0 - self.beta1**self.iter) for key in params.keys(): self.m[key] += (1 - self.beta1) * (grads[key] - self.m[key]) self.v[key] += (1 - self.beta2) * (grads[key]**2 - self.v[key]) params[key] -= lr_t * self.m[key] / (np.sqrt(self.v[key]) + 1e-7) ä¸ƒã€å‚è€ƒã€ŠDeep Learningã€‹èŠ±ä¹¦ ã€Šæ·±åº¦å­¦ä¹ å…¥é—¨â€”â€”åŸºäºŽpythonçš„ç†è®ºä¸Žå®žçŽ°ã€‹]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Machine Learning</tag>
        <tag>Deep Learning</tag>
        <tag>Optimizer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 137 Single Number II]]></title>
    <url>%2F2019%2F04%2F03%2Fleetcode137%2F</url>
    <content type="text"><![CDATA[è¿™é¢˜æ¯”èµ·å…¶ä»–éƒ½æ˜¯ä¸¤ä¸ªä½†æœ‰ä¸€ä¸ªåªå‡ºçŽ°ä¸€æ¬¡è¦å¤æ‚ä¸€äº›ï¼ŒåŽŸæ¥åªéœ€è¦ç»Ÿè®¡ï¼ˆæ¨¡2ï¼‰å‡ºçŽ°0æ¬¡ï¼Œ1æ¬¡çš„æƒ…å†µï¼ŒçŽ°åœ¨éœ€è¦ç»Ÿè®¡æ¯ä¸€ä½å‡ºçŽ°äº†0æ¬¡ï¼Œ1æ¬¡å’Œ2æ¬¡ï¼ˆæ¨¡3ï¼‰çš„çŠ¶æ€ã€‚ ç”¨one two threeæ¥ç»Ÿè®¡æ¯ä¸€ä½å‡ºçŽ°æ¬¡æ•°ï¼Œå‡ºçŽ°åœ¨threeä¸­çš„å¯ä»¥ä»Žone twoä¸­çº¦åŽ» æ¯ä¸€ä¸ªæ•°ï¼Œé¦–å…ˆå’Œoneä¸Žä¸€ä¸‹ï¼Œå¾—åˆ°åŽŸæ¥æ˜¯1æ¬¡ï¼ŒçŽ°åœ¨å˜æˆä¸¤æ¬¡çš„æƒ…å†µï¼Œæˆ–åˆ°twoä¸­ å†å’ŒoneæŠ‘æˆ–ï¼ŒåŽŸæ¥æ˜¯0çš„å˜æˆ1ï¼ŒåŽŸæ¥æ˜¯1çš„ç”±äºŽè¿›å…¥twoäº†å˜æˆ0 oneå’Œtwoä¸Žï¼Œå¾—åˆ°å‡ºçŽ°ä¸‰æ¬¡çš„æƒ…å†µï¼ŒæŠŠä»–ä»¬ä»Žone twoä¸­æŠ‘æˆ–æŽ‰æˆ–è€…ä¸ŽéžæŽ‰å°±è¡Œ æœ€åŽçš„oneå°±æ˜¯æœ€åŽçš„ç»“æžœï¼ˆæ¨¡3ä¸º1ï¼‰ C++ Code 1234567891011121314class Solution &#123;public: int singleNumber(vector&lt;int&gt;&amp; nums) &#123; int one = 0, two = 0, three = 0; for(int i = 0; i &lt; nums.size(); i++)&#123; two |= (one &amp; nums[i]); one ^= nums[i]; three = (two &amp; one); one ^= three; two ^= three; &#125; return one; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 164 Maximum Gapï¼ˆæ¡¶æŽ’åºï¼‰]]></title>
    <url>%2F2019%2F04%2F03%2Fleetcode164%2F</url>
    <content type="text"><![CDATA[è¿™é¢˜æ—¢ç„¶æ˜¯hardï¼Œé‚£ä¹ˆå°±è‚¯å®šè¦æ±‚å¤æ‚åº¦åœ¨O(1)å†…å®Œæˆã€‚ è€ƒè™‘æ¡¶æŽ’åºçš„æ–¹æ³•ï¼Œnä¸ªæ•°å¤§å°ç›¸å·®æœ€å¤šä¸ºmçš„ï¼Œé‚£ä¹ˆå¤§å°ç›¸é‚»çš„ä¸¤ä¸ªæ•°ä¹‹é—´çš„é—´éš”ä¸ä¼šå¤§äºŽm / (n+1) ç„¶åŽåªè¦æŒ‰ç…§è¿™ä¸ªé—´éš”æž„é€ è¶³å¤Ÿçš„æ¡¶ï¼Œç»´æŠ¤æ¯ä¸ªæ¡¶ä¸­çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼ŒåŒä¸€ä¸ªæ¡¶ä¸­çš„æ•°å­—é—´éš”ä¸ä¼šå¤šä½™ç­”æ¡ˆæ‰€ä»¥åªéœ€è¦è€ƒè™‘æ¯ä¸ªæ¡¶çš„æœ€å°å€¼ä¸Žå‰é¢å‡ºçŽ°çš„æœ€å¤§å€¼ä¹‹é—´çš„å·®å€¼å°±å¯ä»¥äº†ã€‚ C++ Code 12345678910111213141516171819202122232425262728293031323334class Solution &#123;public: int maximumGap(vector&lt;int&gt;&amp; nums) &#123; int len = nums.size(); if(len &lt; 2)&#123; return 0; &#125; int mi = INT_MAX, mx = INT_MIN; for(int i = 0; i &lt; len; i++)&#123; mi = min(mi, nums[i]); mx = max(mx, nums[i]); &#125; if(mi == mx) return 0; double bracket_size = (mx - mi) * 1.0 / (len - 1.0); int bracket_num = floor((mx - mi) / bracket_size + 1); vector&lt;int&gt; bracket_mx(bracket_num, INT_MIN); vector&lt;int&gt; bracket_mi(bracket_num, INT_MAX); for(int i = 0; i &lt; len; i++)&#123; int pos = floor((nums[i] - mi) / bracket_size); bracket_mx[pos] = max(bracket_mx[pos], nums[i]); bracket_mi[pos] = min(bracket_mi[pos], nums[i]); &#125; int ans = INT_MIN; int pre_max = bracket_mx[0]; for(int i = 1; i &lt; bracket_num; i++)&#123; if(bracket_mi[i] != INT_MAX)&#123; ans = max(ans, bracket_mi[i] - pre_max); pre_max = bracket_mx[i]; &#125; &#125; return ans; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 169 Majority Element]]></title>
    <url>%2F2019%2F04%2F03%2Fleetcode229%2F</url>
    <content type="text"><![CDATA[169 Majority Element 229 Majority Element II æ‘©å°”æŠ•ç¥¨æ³• æ‘©å°”æŠ•ç¥¨æ³• å¯ä»¥çœ‹ä½œåŒå½’äºŽå°½æ³•ã€‚å½“é€‰æ‹©è¶…è¿‡åŠæ•°çš„æ•°çš„æ—¶å€™ï¼Œæ¯ä¸€æ¬¡éƒ½é€‰æ‹©ä¸€ä¸ªæ•°ç«™ä¸Šæ“‚å°ï¼Œæˆ–è€…ä¸Žå½“å‰æ“‚å°ä¸Šçš„æ•°ä¸åŒï¼Œå°±ä¸Žå…¶åŒå½’äºŽå°½ä¸€ä¸ªï¼Œæœ€åŽå†æ‰«æç»Ÿè®¡ä¸€éç«™åœ¨æ“‚å°ä¸Šçš„æ•°å‡ºçŽ°æ¬¡æ•°ï¼Œè‹¥æ²¡æœ‰è¶…è¿‡åŠæ•°åˆ™ä¸å­˜åœ¨è¶…è¿‡åŠæ•°çš„æ•°ã€‚ åŒç†ï¼Œè‹¥è¦å¯»æ‰¾è¶…è¿‡1/3çš„æ•°ã€‚æ“‚å°å°±è®¾ä¸ºä¸¤ä¸ªï¼ŒåŒæ—¶ä¸Žä¸¤ä¸ªä¸åŒçš„æ•°åŒå½’äºŽå°½ï¼Œæœ€åŽç«™åœ¨æ“‚å°ä¸Šçš„ä¸¤ä¸ªæ•°å†åˆ†åˆ«ç»Ÿè®¡æ¬¡æ•°ï¼Œè‹¥è¶…è¿‡1/3ï¼Œåˆ™æ˜¯è¦æ‰¾çš„æ•°ã€‚ LeetCode 169 Majority Element Python Code 12345678910111213141516171819class Solution(object): def majorityElement(self, nums): """ :type nums: List[int] :rtype: int """ n = len(nums) if n % 2 == 0: half = n // 2 else: half = n // 2 + 1 cnt = &#123;&#125; for i in range(n): if not cnt.has_key(nums[i]): cnt[nums[i]] = 1 else: cnt[nums[i]] += 1 if cnt[nums[i]] &gt;= half: return nums[i] LeetCode 229 Majority Element II C++ Code 12345678910111213141516171819202122232425262728293031323334353637383940class Solution &#123;public: vector&lt;int&gt; majorityElement(vector&lt;int&gt;&amp; nums) &#123; int tmp1, tmp2; int cnt1 = 0, cnt2 = 0; for(int i = 0; i &lt; nums.size(); ++i) &#123; if(nums[i] == tmp1) &#123; ++cnt1; &#125;else if(nums[i] == tmp2) &#123; ++cnt2; &#125;else if(cnt1 == 0) &#123; tmp1 = nums[i]; cnt1 = 1; &#125;else if(cnt2 == 0) &#123; tmp2 = nums[i]; cnt2 = 1; &#125;else &#123; --cnt1; --cnt2; &#125; &#125; cnt1 = 0; cnt2 = 0; for(int i = 0; i &lt; nums.size(); ++i) &#123; if(nums[i] == tmp1) &#123; ++cnt1; &#125;else if(nums[i] == tmp2) &#123; ++cnt2; &#125; &#125; vector&lt;int&gt; res; if(cnt1 &gt; nums.size() / 3) &#123; res.push_back(tmp1); &#125; if(cnt2 &gt; nums.size() / 3) &#123; res.push_back(tmp2); &#125; return res; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 123 Best Time to Buy and Sell Stock III]]></title>
    <url>%2F2019%2F03%2F29%2Fleetcode123%2F</url>
    <content type="text"><![CDATA[ç»´æŠ¤ä¸¤ä¸ªå˜é‡bä¸Žsï¼Œb[i]ä¸ºå‰iæ—¥å†…ä¹°å…¥çš„æœ€å¤§å‰©ä½™é’±é‡(å¯ä»¥ä¸ºè´Ÿ)ã€‚s[i]ä¸ºå‰iæ—¥å–å‡ºåŽçš„æœ€å¤§é’±é‡ã€‚ s[i]ç”±b[i]è¿­ä»£è€Œæ¥ï¼Œb[i]ç”±å‰ä¸€è½®çš„s[i]è¿­ä»£è€Œæ¥ï¼Œæ‰€ä»¥åªç”¨ä¸€è½®å¾ªçŽ¯å°±å¯ä»¥å®Œæˆæ›´æ–°ã€‚ C++ Code 1234567891011121314151617class Solution &#123;public: int maxProfit(vector&lt;int&gt;&amp; prices) &#123; if(prices.size() == 0)&#123; return 0; &#125; int b1 = -0x7fffffff, s1 = 0, b2 = -0x7fffffff, s2 = 0; for(int i = 0; i &lt; prices.size(); i++)&#123; b1 = max(b1, -prices[i]); s1 = max(s1, prices[i] + b1); b2 = max(b2, s1 - prices[i]); s2 = max(s2, prices[i] + b2); &#125; return s2; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hdu 2089 ä¸è¦62]]></title>
    <url>%2F2019%2F03%2F19%2Fhdu2089%2F</url>
    <content type="text"><![CDATA[æ•°ä½dpï¼Œå…ˆé¢„å¤„ç†å‡ºæ‰€æœ‰iä½æ•°å­—çš„æƒ…å†µ dp[i][j]ï¼Œiä»£è¡¨æ•°å­—çš„ä½æ•°ï¼Œjä»£è¡¨çŠ¶å†µ dp[i][0],è¡¨ç¤ºä¸å­˜åœ¨ä¸å‰åˆ©æ•°å­—çš„ä¸ªæ•° dp[i][1],è¡¨ç¤ºä¸å­˜åœ¨ä¸å‰åˆ©æ•°å­—ï¼Œä¸”æœ€é«˜ä½ä¸º2çš„ä¸ªæ•° dp[i][2],è¡¨ç¤ºå­˜åœ¨ä¸å‰åˆ©æ•°å­—çš„ä¸ªæ•° ä»Žæ•°å­—çš„æœ€é«˜ä½å¼€å§‹ï¼Œä¾‹å¦‚98765ï¼Œä»Ž9è¿™ä¸€ä½å¼€å§‹ï¼Œä¸å¹¸è¿çš„ä¸ªæ•°ä¸ºansã€‚ è¿™ä¸€ä½æ•°å­—å¦‚æžœç”±0~8è¿™ä¹ä¸ªæ•°å­—æ‰“å¤´ä¹‹åŽéƒ½æ˜¯æœ‰å®Œæ•´çš„i-1ä½æ•°çš„ï¼Œæ‰€ä»¥è¿™ä¸€ä½åªè€ƒè™‘å¡«å…¥0~8ï¼Œç„¶åŽè¿™ä¸€ä½ä½œä¸º9çš„æ—¶å€™è®¨è®ºä¸‹ä¸€ä½å°±è¡Œäº†ã€‚ åŠ ä¸Šä¹‹å‰å°±å·²ç»æ˜¯ä¸å‰åˆ©çš„æƒ…å†µã€‚ç›´æŽ¥ans+= 9*dp[i-1][2] å› ä¸ºåŠ ä¸Šäº†è¿™ä¸€ä½è€Œå˜æˆä¸å‰åˆ©çš„æ•°çš„æƒ…å†µï¼Œä¸€å…±åˆ†ä¸ºä¸‰ç§æƒ…å†µã€‚ è¿™ä½å¦‚æžœå¯ä»¥å¡«å…¥4ï¼Œé‚£ä¹ˆans += dp[i-1][0] è¿™ä½å¯ä»¥å¡«å…¥6ï¼Œé‚£ä¹ˆans += dp[i-1][1] å¦‚æžœè¿™ä¸€ä½å¯ä»¥å¡«å…¥2ï¼Œå¹¶ä¸”å‰ä¸€ä½æ˜¯6ï¼Œé‚£ä¹ˆans += dp[i][1] æœ€åŽè¯¥ä½å¡«å…¥arr[i]ï¼Œè¿›å…¥ä¸‹ä¸€ä½å¼€å§‹è®¨è®ºã€‚ ç®—å‡ºansä¹‹åŽï¼Œn-anså°±æ˜¯å‰nä¸ªæ•°å­—ä¸­å‰åˆ©çš„æ•°å­—ï¼Œç®—åŒºé—´çš„è¯ç”¨å¤´å°¾å‡ä¸€ä¸‹å°±å¥½äº†ã€‚ C++ Code 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;cstring&gt;using namespace std;int dp[10][3];//dp[i][j]ï¼Œiä»£è¡¨æ•°å­—çš„ä½æ•°ï¼Œjä»£è¡¨çŠ¶å†µ//dp[i][0],è¡¨ç¤ºä¸å­˜åœ¨ä¸å‰åˆ©æ•°å­—//dp[i][1],è¡¨ç¤ºä¸å­˜åœ¨ä¸å‰åˆ©æ•°å­—ï¼Œä¸”æœ€é«˜ä½ä¸º2//dp[i][2],è¡¨ç¤ºå­˜åœ¨ä¸å‰åˆ©æ•°å­—void init()&#123; memset(dp, 0, sizeof(dp)); dp[0][0] = 1; for(int i = 1; i &lt;= 6; i++)//æœ€å¤§999999 &#123; //æœ€é«˜ä½åŠ ä¸Šä¸å«4çš„9ä¸ªæ•°å­—çš„çŠ¶å†µï¼Œä½†å› ä¸ºä¼šæ”¾6ï¼Œæ‰€ä»¥è¦å‡åŽ»å‰ä¸€ç§å¼€å¤´ä¸º2çš„æƒ…å†µ dp[i][0] = 9 * dp[i-1][0] - dp[i-1][1]; //åªæœ‰2 dp[i][1] = dp[i-1][0]; //å·²ç»å«æœ‰çš„å‰é¢æ”¾ä»€ä¹ˆæ•°éƒ½å¯ä»¥ï¼Œæˆ–è€…æ˜¯æ”¾ä¸€ä¸ª4ï¼Œæˆ–è€…æ˜¯åœ¨2å‰é¢æ”¾6 dp[i][2] = dp[i-1][0] + dp[i-1][1] + 10 * dp[i-1][2]; &#125;&#125;int solve(int n)///1åˆ°nï¼ˆä¸ç®—nï¼‰å¹¸è¿æ•°ä¸ªæ•°&#123; int counts = 0, tmp = n, flag = 0, arr[10], ans = 0;//ansä¸ºä¸å¹¸è¿æ•° while(n) &#123; arr[++counts] = n % 10; n /= 10; &#125; arr[counts + 1] = 0; ///æ¯ä¸€æ­¥éƒ½åªè®¡ç®—åˆ°0~arr[i]-1å¼€å¤´çš„æƒ…å†µï¼Œç„¶åŽè¿™ä¸€ä½ä½œä¸ºarr[i]å¼€å§‹è®¡ç®—ä¸‹ä¸€ä½ for(int i = counts; i &gt;=1; i--) &#123; ///0~arr[i]-1æ‰“å¤´æœ‰å®Œæ•´çš„i-1ä½æ•° ans += dp[i-1][2] * arr[i]; ///å› ä¸ºåŠ ä¸Šè¯¥ä½æ‰å˜æˆä¸å‰åˆ©çš„æƒ…å†µ if(flag) ///é«˜ä½å·²ç»å‡ºçŽ°4æˆ–62äº†ï¼Œæ‰€æœ‰æ•°éƒ½è¦ç®— ans += dp[i-1][0] * arr[i]; else &#123; ///è‹¥è¯¥ä½å¤§äºŽ4ï¼Œå°±è¦åŠ ä¸Š4+ i-1ä½å¹¸è¿æ•°æž„æˆçš„ä¸å¹¸è¿æ•° if(arr[i] &gt; 4) ans += dp[i-1][0]; if(arr[i+1] == 6 &amp;&amp; arr[i] &gt; 2) ans += dp[i][1]; if(arr[i] &gt; 6) ans += dp[i-1][1]; &#125; if(arr[i] == 4 || (arr[i+1] == 6 &amp;&amp; arr[i] == 2)) flag = 1; &#125; return tmp - ans;&#125;int main()&#123; int n, m; init(); while(scanf("%d%d", &amp;n, &amp;m) &amp;&amp; n+m) &#123; printf("%d\n", solve(m + 1) - solve(n)); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>hdu</tag>
        <tag>æ•°ä½dp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 440 K-th Smallest in Lexicographical Order]]></title>
    <url>%2F2019%2F03%2F18%2Fleetcode440%2F</url>
    <content type="text"><![CDATA[æŒ‰å­—å…¸åºæŽ’åˆ—1~nçš„æ•°å­—å­—ç¬¦ä¸²ï¼Œæ‰¾åˆ°ç¬¬kä¸ªæ˜¯ä»€ä¹ˆæ•°å­— æŠŠæ‰€æœ‰çš„æ•°å­—çœ‹ä½œæ˜¯åœ¨ä¸€ä¸ªå­—å…¸æ ‘ä¸Šï¼Œæ¯ä¸ªç»“ç‚¹æœ€å¤šæœ‰10ä¸ªå­èŠ‚ç‚¹ ä¸€ä¸ªä¸ªç»“ç‚¹æœç´¢ï¼Œå¯ä»¥é¢„å…ˆè®¡ç®—å‡ºè¿™ä¸ªç»“ç‚¹æ‰€æœ‰å­èŠ‚ç‚¹çš„æ•°ç›®ï¼Œå¹¶åŠ èµ·æ¥ä¸Žkä½œæ¯”è¾ƒï¼Œè¿˜ä¸å¤Ÿåˆ™æœç´¢ä¸‹ä¸€ä¸ªå…„å¼Ÿç»“ç‚¹ï¼Œå¦åˆ™å°±éåŽ†åˆ°å­èŠ‚ç‚¹ç»§ç»­è®¡ç®—å­èŠ‚ç‚¹æ•°é‡ã€‚ prefixè®°å½•çš„æ˜¯å½“å‰ä»Žæ ¹èŠ‚ç‚¹åˆ°å½“å‰ç»“ç‚¹çš„è·¯å¾„ï¼Œprefix+1åˆ™æ˜¯ä¸‹ä¸€ä¸ªå…„å¼Ÿç»“ç‚¹çš„è·¯å¾„ã€‚ ä»¥æ ·ä¾‹è¾“å…¥ä¸ºä¾‹ã€‚ä¾‹å¦‚è®¡ç®—1çš„å­èŠ‚ç‚¹æ•°ï¼Œé‚£ä¹ˆå…ˆè®¡ç®—1~2ä¹‹é—´çš„ä¸ªæ•°ï¼ˆ1ä¸ªï¼‰ï¼Œç„¶åŽè®¡ç®—10~20ä¹‹é—´çš„ä¸ªæ•°ï¼ˆ4ä¸ªï¼‰ã€‚ã€‚ã€‚ è‹¥prefixçš„å­èŠ‚ç‚¹æ•°é‡è¶…è¿‡äº†è¿˜éœ€è¦çš„æ•°é‡ï¼Œé‚£ä¹ˆæœç´¢prefixçš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œå³prefix*10 ä¸Ž prefix*10 + 1 C++ Code 12345678910111213141516171819202122232425class Solution &#123;public: int findKthNumber(int n, int k) &#123; long long prefix = 1; k--; while(k &gt; 0)&#123; long long from = prefix; long long to = prefix + 1; long long step = 0; while(from &lt;= n)&#123; step += min((long long)n+1, to) - from; from *= 10; to *= 10; &#125; if(step &lt;= k)&#123; k -= step; prefix++; &#125;else&#123; prefix *= 10; k--; &#125; &#125; return prefix; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 81 Search in Rotated Sorted Array II]]></title>
    <url>%2F2019%2F03%2F17%2Fleetcode81%2F</url>
    <content type="text"><![CDATA[ä¸Žleetcode 33æœ‰æ‰€ä¸åŒï¼Œä¼šå­˜åœ¨é‡å¤å‡ºçŽ°æ•°å­—çš„æƒ…å†µ åœ¨äºŒåˆ†ä¸­è‹¥num[mid] == nums[left]å°±æ— æ³•åˆ¤æ–­midè¿™ä¸ªæ•°è½åœ¨å³è¾¹çš„é‚£æ®µé‡Œè¿˜æ˜¯å·¦è¾¹çš„é‚£æ®µé‡Œï¼Œè¿™æ—¶å€™åªèƒ½å…ˆä¿å®ˆåœ°left++ç„¶åŽè¿›å…¥ä¸‹ä¸€è½® è‹¥num[mid] &gt; num[left]ï¼Œé‚£ä¹ˆmidä¸Žleftè½åœ¨åŒä¸€ä¸ªå•è°ƒæ®µå†…ï¼Œé‚£ä¹ˆå¦‚æžœè¿™æ—¶å€™targetæ­£å¥½åœ¨num[mid] ä¸Žnum[left]ä¹‹é—´ï¼Œé‚£ä¹ˆå¯ä»¥å¾ˆæ”¾å¿ƒçš„æŠŠrightç§»åˆ°mid-1çš„ä½ç½®ã€‚å¦åˆ™å¯ä»¥å°†leftç§»åˆ°mid+1çš„ä½ç½® è‹¥num[mid] &lt; num[right]ï¼Œæƒ…å†µä¸Ž2ç›¸åã€‚ C++ Code 12345678910111213141516171819202122232425262728293031class Solution &#123;public: bool search(vector&lt;int&gt;&amp; nums, int target) &#123; if(nums.size() == 0)&#123; return false; &#125; int left = 0, right = nums.size() - 1; while(left &lt;= right)&#123; int mid = (left + right) &gt;&gt; 1; if(nums[mid] == target) &#123; return true; &#125;else if(nums[mid] == nums[left])&#123; left++; continue; &#125;else if(nums[mid] &gt; nums[left])&#123; if(nums[left] &lt;= target &amp;&amp; target &lt; nums[mid])&#123; right = mid - 1; &#125;else&#123; left = mid + 1; &#125; &#125;else&#123; if(nums[right] &gt;= target &amp;&amp; nums[mid] &lt; target)&#123; left = mid + 1; &#125;else&#123; right = mid - 1; &#125; &#125; &#125; return false; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 72 Edit Distance]]></title>
    <url>%2F2019%2F03%2F12%2Fleetcode72%2F</url>
    <content type="text"><![CDATA[ç¼–è¾‘è·ç¦»æŽ¨å¯¼ï¼ŒåŠ¨æ€è§„åˆ’ã€‚ ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²sã€tï¼Œç”¨å¢žåŠ ã€åˆ é™¤ã€æ›¿æ¢ä¸‰ç§æ“ä½œï¼Œä½¿å¾—så˜æˆtçš„æœ€å°‘æ¬¡æ•°ã€‚ åŠ¨æ€è§„åˆ’ï¼Œdp[i][j]è¡¨ç¤ºså‰iä¸ªå­—ç¬¦å˜ä¸ºtçš„å‰jä¸ªå­—ç¬¦çš„ç¼–è¾‘è·ç¦»ã€‚ åˆå§‹åŒ–ï¼šdp[0][j] = j, dp[i][0] = i é€’æŽ¨åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š s[i] == t[j] dp[i][j] = min(dp[i-1][j] + 1, dp[i][j-1] + 1, dp[i-1][j-1]) åˆ†åˆ«å¯¹åº”åˆ æŽ‰s[i]å†å˜ä¸ºtï¼Œså˜ä¸ºt[0: j-1]å†åŠ ä¸Št[j]ï¼Œä»¥åŠs[0: i-1]å˜ä¸ºt[0: j-1] ä½†æ˜¯ï¼Œç¬¬ä¸€ç§æƒ…å†µå¯ä»¥æ”¹ä¸ºç›´æŽ¥å°†s[0: i-1]å˜ä¸ºtï¼Œç„¶åŽå°†t[j]åŽ»æŽ‰(å› ä¸ºs[i]è¿˜ä¿ç•™ç€)ï¼Œæ­¥æ•°ä¸å˜å¹¶ä¸”ä¸å°‘äºŽs[0: i-1]å˜ä¸ºt[0: j-1]ã€‚åŒç†å¯è¯ç¬¬äºŒç§æƒ…å†µçš„æ­¥æ•°ä¸å°‘äºŽs[0: i-1]å˜ä¸ºt[0: j-1]ã€‚æ‰€ä»¥åªéœ€è¦ä»Žæœ€åŽä¸€ç§æƒ…å†µè¿›è¡Œæ›´æ–°å°±è¡Œã€‚ s[i] != t[j] dp[i][j] = min(dp[i-1][j] + 1, dp[i][j-1] + 1, dp[i-1][j-1] + 1) åˆ†åˆ«å¯¹åº”åˆ æŽ‰s[i]å†å˜ä¸ºtï¼Œså˜ä¸ºt[0: j-1]å†åŠ ä¸Št[j]ï¼Œä»¥åŠs[0: i-1]å˜ä¸ºt[0: j-1]å†æ›¿æ¢s[i] C++ Code 123456789101112131415161718192021222324252627282930313233class Solution &#123;public: int minDistance(string word1, string word2) &#123; int len1 = word1.length(); int len2 = word2.length(); vector&lt;vector&lt;int&gt; &gt; dp; for(int i = 0; i &lt;= len1; i++)&#123; vector&lt;int&gt; dpi; for(int j = 0; j &lt;= len2; j++)&#123; if(i == 0)&#123; dpi.push_back(j); &#125;else if(j == 0)&#123; dpi.push_back(i); &#125;else&#123; dpi.push_back(0); &#125; &#125; dp.push_back(dpi); &#125; for(int i = 1; i &lt;= len1; i++)&#123; for(int j = 1; j &lt;= len2; j++)&#123; if(word1[i-1] == word2[j-1])&#123; dp[i][j] = dp[i-1][j-1]; &#125;else&#123; int mi = min(dp[i-1][j], dp[i][j-1]); mi = min(mi, dp[i-1][j-1]); dp[i][j] = mi + 1; &#125; &#125; &#125; return dp[len1][len2]; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 2151 Check the difficulty of problems]]></title>
    <url>%2F2019%2F02%2F28%2Fpoj2151%2F</url>
    <content type="text"><![CDATA[åŠ¨æ€è§„åˆ’é—®é¢˜ã€‚éœ€è¦ä½¿ç”¨åŠ¨æ€è§„åˆ’æ±‚å‡ºä¸‹é¢å‡ ä¸ªå€¼ p[i][j]: é˜Ÿiå®Œæˆjé¢˜çš„æ¦‚çŽ‡ï¼Œæ˜¯é¢˜ç›®çš„è¾“å…¥ dp[i][j][k]: é˜Ÿiåœ¨å‰jé¢˜ä¸­å®Œæˆké¢˜çš„æ¦‚çŽ‡ s[i][j]: é˜Ÿiå®Œæˆä¸å¤šäºŽjé¢˜çš„æ¦‚çŽ‡ï¼Œdp[i][m][0~j]çš„ç´¯åŠ  p1: æ‰€æœ‰é˜Ÿéƒ½è‡³å°‘å®Œæˆä¸€é¢˜çš„æ¦‚çŽ‡ï¼Œ(1-s[i][0])ç´¯ä¹˜ p2: æ‰€æœ‰é˜Ÿéƒ½åšå‡º1~n-1é¢˜çš„æ¦‚çŽ‡ï¼Œ(s[i][n-1]-s[i][0])ç´¯ä¹˜ æ˜¾ç„¶ï¼Œæœ€ç»ˆçš„ç»“æžœæ˜¯p1-p2 C++ Code 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#define M 32#define T 1002using namespace std;double p[T][M]; // probability of team i solves problem jdouble dp[T][M][M]; // probability of team i solves k of the first j problemsdouble s[T][M]; //probability of team i solves at most j problemsint main()&#123; int m, t, n; while(scanf("%d%d%d", &amp;m, &amp;t, &amp;n) &amp;&amp; m != 0)&#123; memset(dp, 0, sizeof(dp)); memset(s, 0, sizeof(s)); for(int i = 1; i &lt;= t; i++)&#123; for(int j = 1; j &lt;= m; j++)&#123; scanf("%lf", &amp;p[i][j]); &#125; &#125; for(int i = 1 ; i &lt;= t; i++)&#123; dp[i][0][0] = 1.0; for(int j = 1; j &lt;= m; j++)&#123; dp[i][j][0] = dp[i][j-1][0] * (1 - p[i][j]); for(int k = 1; k &lt;= j; k++)&#123; dp[i][j][k] = dp[i][j-1][k-1] * p[i][j] + dp[i][j-1][k] * (1 - p[i][j]); &#125; &#125; &#125; for(int i = 1; i &lt;= t; i++)&#123; s[i][0] = dp[i][m][0]; for(int j = 1; j &lt;= m; j++)&#123; s[i][j] = s[i][j-1] + dp[i][m][j]; &#125; &#125; double p1 = 1.0; for(int i = 1; i &lt;= t; i++)&#123; p1 *= (1-s[i][0]); &#125; double p2 = 1.0; for(int i = 1; i &lt;= t; i++)&#123; p2 *= (s[i][n-1] - s[i][0]); &#125; printf("%.3f\n", p1-p2); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 3274 Gold Balanced Lineupï¼ˆå“ˆå¸Œï¼‰]]></title>
    <url>%2F2019%2F02%2F27%2Fpoj3274%2F</url>
    <content type="text"><![CDATA[ç»™å®šä¸€ä¸²Kä½äºŒè¿›åˆ¶æ•°å­—ï¼Œéœ€è¦ç»™å‡ºæœ€å¤§åŒºé—´çš„å¤§å°ï¼Œä½¿å¾—åœ¨è¿™ä¸ªåŒºé—´å†…æ¯ä¸€ä½æ•°å­—çš„å’Œç›¸ç­‰ã€‚ è®¾ä¸€ä¸ªæ•°ç»„sum[i][k]ç”¨äºŽè®°å½•ä»Žç¬¬ä¸€ä¸ªæ•°å­—åˆ°ç¬¬iä¸ªæ•°å­—ä¸­ç¬¬kä½æ•°å­—çš„å’Œï¼Œè¿™æ ·å°±å¯ä»¥ç®€å•åœ°è®¡ç®—å‡ºä»»æ„ä¸€ä¸ªåŒºé—´å†…æ¯ä¸€ä½æ•°å­—çš„å’Œï¼Œä¹Ÿå°±æ˜¯è¦æ±‚å‡ºsum[j][k] - sum[i][k]å¯¹äºŽæ‰€æœ‰kéƒ½ç›¸ç­‰çš„åŒºé—´[i, j]ã€‚ ä½†æ˜¯è¿™æ ·ç›´æŽ¥æœç´¢çš„å¤æ‚åº¦æ˜¯O(N2)ï¼Œæ‰€ä»¥éœ€è¦ç”¨å“ˆå¸Œæ¥ç®€åŒ–ã€‚ sum[j][0] - sum[i][0] = sum[j][1] - sum[i][1] æœ‰ sum[j][1] - sum[j][0] = sum[i][1] - sum[i][0] æ‰€ä»¥åªè¦ç»“ç‚¹æ»¡è¶³ç¬¬kä½æ•°çš„æ€»æ•°ä¸Žç¬¬0ä½æ•°çš„æ€»æ•°å·®ç›¸ç­‰å°±å¯ä»¥ã€‚è¿™ä¸€æ­¥å¯ä»¥ä½¿ç”¨å“ˆå¸Œç­–ç•¥ï¼Œè¯¦è§ä»£ç ã€‚ C++ Code 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;vector&gt;#define N 100010#define K 32#define HASH 100000using namespace std;struct node&#123; int index; int num[K];&#125;;vector&lt;node&gt; table[HASH];int sum[K];int main()&#123; int n, k, feature, hash, ans; node tmp; while(~scanf("%d%d", &amp;n, &amp;k))&#123; memset(sum, 0, sizeof(sum)); memset(tmp.num, 0, sizeof(tmp.num)); ans = 0; tmp.index = 0; for(int i = 0; i &lt; HASH; i++)&#123; table[i].clear(); &#125; table[0].push_back(tmp); for(int i = 1; i &lt;= n; i++)&#123; hash = 0; scanf("%d", &amp;feature); for(int j = 0; j &lt; k; j++)&#123; if((feature &gt;&gt; j) &amp; 1)&#123; sum[j]++; &#125; if(j &gt; 0)&#123; tmp.num[j] = sum[j] - sum[0]; hash += tmp.num[j] * j; &#125; &#125; tmp.index = i; hash = abs(hash) % HASH; for(int j = 0; j &lt; table[hash].size(); j++)&#123; bool flag = true; for(int l = 0; l &lt; k; l++)&#123; if(table[hash][j].num[l] != tmp.num[l])&#123; flag = false; break; &#125; &#125; if(flag == true)&#123; ans = max(ans, tmp.index - table[hash][j].index); &#125; &#125; table[hash].push_back(tmp); &#125; printf("%d\n", ans); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>å“ˆå¸Œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Paxos made simple é˜…è¯»ç¬”è®°]]></title>
    <url>%2F2019%2F01%2F10%2FPaxos%2F</url>
    <content type="text"><![CDATA[å‚è€ƒæ–‡çŒ®ï¼šLamport L. Paxos made simple[J]. ACM Sigact News, 2001, 32(4): 18-25. ä¸€ã€Paxosç®€ä»‹Paxosæ˜¯Lamportæå‡ºçš„æœ€è‘—åçš„åŸºäºŽæ¶ˆæ¯ä¼ é€’çš„ä¸€è‡´æ€§ç®—æ³•ï¼Œåœ¨2006å¹´Googleå°†å…¶è¿ç”¨äºŽChubbyé”æœåŠ¡å™¨ä¸ŠåŽä¾¿å—åˆ°äº†å·¨å¤§çš„å…³æ³¨ã€‚Paxos Made Simpleè¿™ç¯‡è®ºæ–‡ä¸­Lamportç”¨äº†æ¯”è¾ƒé€šä¿—çš„å™è¿°æ–¹å¼æ¥è®²è§£äº†Paxosè¿™ä¸ªæ¨¡åž‹ï¼Œä¹Ÿæ˜¯Paxosçš„åŸºç¡€ç‰ˆæœ¬ï¼Œæ”¯æŒå•ææ¡ˆçš„è¾¾æˆä¸€è‡´ä¸Žæäº¤ã€‚ åœ¨è¿™ä¸ªæ¨¡åž‹ä¸­è¿›ç¨‹ä¸€å…±æœ‰ä¸‰ç§è§’è‰²ï¼Œåˆ†åˆ«æ˜¯ ææ¡ˆè€…(Proposers) æŽ¥å—è€…(Acceptors) å­¦ä¹ è€…(Learners) è€Œæ¯ä¸€ä¸ªè¿›ç¨‹ä¸é™äºŽä¸€ç§è§’è‰²ã€‚ Paxosä¸€å…±åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µ(Phrase)ï¼Œåˆ†åˆ«æ˜¯ ææ¡ˆé˜¶æ®µåœ¨è¿™ä¸ªé˜¶æ®µå†…ï¼Œææ¡ˆè€…ä¼šå‘æŽ¥å—è€…å‘é€å‡†å¤‡è¯·æ±‚(ready request)ï¼Œå‡†å¤‡è¯·æ±‚ä¸­å¸¦æœ‰ä¸€ä¸ªç¼–å·nã€‚ æŽ¥å—é˜¶æ®µåœ¨ææ¡ˆé˜¶æ®µä¸€ä¸ªææ¡ˆè€…æ”¶åˆ°äº†è¶…è¿‡åŠæ•°çš„æŽ¥å—ç€è¿”å›žçš„å‡†å¤‡è¯·æ±‚çš„åº”ç­”ï¼Œé‚£ä¹ˆææ¡ˆè€…å°†ä¼šå‘å›žå¤ä»–çš„æŽ¥å—è€…å‘é€ä¸€ä¸ªå¸¦æœ‰ç¼–å·nä»¥åŠææ¡ˆçš„æŽ¥å—è¯·æ±‚(accept request)ã€‚ è¿™ç¯‡ç¬”è®°å°†ä¼šä»‹ç»Paxoså¦‚æ­¤è®¾è®¡çš„æ€è·¯ä»¥åŠè¿‡ç¨‹çš„è¯¦ç»†ç»†èŠ‚ï¼ŒåŽé¢è¿˜ä¼šå°†Paxosä¸Žè¿‘å‡ å¹´æ¯”è¾ƒç«çš„å¦ä¸€ç§ä¸€è‡´æ€§ç®—æ³•Raftè¿›è¡Œç®€å•çš„æ¯”è¾ƒã€‚ äºŒã€è¦æ±‚ä¸Žå‡è®¾Paxosæ˜¯ä¸€ä¸ªä¸€è‡´æ€§ç®—æ³•ï¼Œè€Œä¸€è‡´æ€§ç®—æ³•çš„ç›®æ ‡æ˜¯è®©æ‰€æœ‰çš„è¿›ç¨‹æœ€ç»ˆéƒ½èƒ½å¤Ÿå¯¹ææ¡ˆè¾¾æˆä¸€è‡´ã€‚æ‰€ä»¥å®žçŽ°Paxosçš„æœ€ç»ˆæ•ˆæžœæ˜¯è‹¥æ²¡æœ‰æå‡ºä¸€ä¸ªææ¡ˆï¼Œé‚£ä¹ˆå°±ä¸ä¼šæœ‰ææ¡ˆè¢«é€‰ä¸­ï¼Œè€Œè‹¥æœ‰ææ¡ˆè¢«æå‡ºï¼Œé‚£ä¹ˆæœ€ç»ˆåªæœ‰ä¸€ä¸ªææ¡ˆä¼šè¢«é€‰ä¸­ã€‚æ–‡ä¸­æåˆ°äº†ä¸‰ä¸ªä¸€è‡´æ€§çš„å®‰å…¨æ€§(safety)éœ€æ±‚ï¼š åªæœ‰æå‡ºçš„ææ¡ˆèƒ½æœ€ç»ˆèƒ½è¢«é€‰ä¸­ åªæœ‰ä¸€ä¸ªææ¡ˆèƒ½è¢«é€‰ä¸­ é™¤éžä¸€ä¸ªææ¡ˆçœŸçš„è¢«é€‰ä¸­äº†ï¼Œå¦åˆ™è¿›ç¨‹ä¸ä¼šé€‰æ‹©è¿™ä¸ªææ¡ˆ è€Œç³»ç»Ÿçš„æ´»æ€§(liveness)åˆ™æ˜¯æŸäº›æå‡ºçš„ææ¡ˆæœ€ç»ˆèƒ½è¢«é€‰ä¸­ï¼Œå¹¶ä¸”è¿›ç¨‹æœ€ç»ˆèƒ½å¤Ÿå­¦åˆ°è¿™ä¸ªææ¡ˆã€‚ æ–‡ç« è®¨è®ºåŸºäºŽä»¥ä¸‹å‡ ä¸ªå‡è®¾ï¼š æ¯ä¸ªå®žä½“çš„æ‰§è¡Œé€Ÿåº¦ä¸åŒï¼Œç”šè‡³ä¼šåœ¨ä»»ä½•æ—¶å€™å´©æºƒã€é‡å¯ã€‚å› ä¸ºæœ‰å¯èƒ½åœ¨ææ¡ˆé€‰æ‹©åŽå¤±æ•ˆï¼Œå› æ­¤æƒ³è¦å¾—åˆ°ä¸€ä¸ªè§£ï¼Œå¿…é¡»è¦å®žçŽ°æŒä¹…åŒ–æŸäº›ä¿¡æ¯ã€‚ æ¶ˆæ¯ä¼ é€’çš„äº‹ä»¶å¯ä»¥ä»»æ„é•¿ï¼Œå¯ä»¥é‡å¤æˆ–ä¸¢å¤±ï¼Œä½†ä¸ä¼šè¢«ç ´å(æ— æ‹œå åº­é—®é¢˜)ã€‚ ä¸‰ã€é€‰æ‹©ææ¡ˆè¦ä¿è¯ä¸Šè¿°çš„åªæœ‰ä¸€ä¸ªææ¡ˆè¢«æœ€ç»ˆé€‰ä¸­çš„è¦æ±‚ï¼ŒåŒæ—¶ä¿è¯ç³»ç»Ÿçš„é²æ£’æ€§ï¼Œé‚£ä¹ˆéœ€è¦åšåˆ°ä¸€ä¸ªææ¡ˆèƒ½å¤Ÿè¢«è¶…è¿‡åŠæ•°çš„æŽ¥å—è€…(majority)æŽ¥å—ï¼Œå› ä¸ºæ— æ³•æ‰¾åˆ°ä¸¤ä¸ªmajorityèƒ½å¤ŸæŽ¥å—ä¸åŒçš„ææ¡ˆï¼Œåªæœ‰æ‰€æœ‰è¿›ç¨‹éƒ½éµå®ˆè¿™ä¸€è§„åˆ™ï¼Œæ‰èƒ½æœ€ç»ˆåªæœ‰ä¸€ä¸ªææ¡ˆè¢«é€‰ä¸­ã€‚è€Œè¦ä¿è¯ä¸€å®šè¦æœ‰ä¸€ä¸ªææ¡ˆè¢«é€‰ä¸­ï¼ŒæŽ¥å—è€…åº”è¯¥å¯¹ç¬¬ä¸€ä¸ªææ¡ˆè¿›è¡ŒæŽ¥å—ã€‚å¦‚æžœåªæœ‰ä¸€ä¸ªææ¡ˆè¢«æå‡ºå´ä¸æŽ¥å—ï¼Œå°±æ— æ³•å¾—åˆ°majorityï¼Œè¿™å°±å¾—åˆ°äº†ç¬¬ä¸€ä¸ªéœ€æ±‚ï¼š P1. æŽ¥å—è€…å¿…é¡»æŽ¥å—å®ƒæ‰€æŽ¥æ”¶åˆ°çš„ç¬¬ä¸€ä¸ªææ¡ˆ ä½†æ˜¯è¿™ä¸ªè¦æ±‚åœ¨æœ‰ä¸¤ä¸ªæˆ–æ›´å¤šææ¡ˆçš„æ—¶å€™å¯èƒ½ä¼šå¾—ä¸åˆ°ä¸€ä¸ªmajorityï¼Œæ‰€ä»¥æ¯ä¸ªè¿›ç¨‹ä¸èƒ½ä»…è¢«å…è®¸æŽ¥æ”¶è¿™ä¸€ä¸ªææ¡ˆã€‚äºŽæ˜¯æ¯ä¸ªææ¡ˆé™¤äº†è¦å¸¦æœ‰ä¸€ä¸ªå€¼(value)ä»¥å¤–ï¼Œè¿˜è¦å¸¦ä¸Šä¸€ä¸ªäº’ä¸ç›¸åŒçš„æ•°(number)æ¥åŒºåˆ†å®ƒä»¬ã€‚è¿™æ ·ä¸€æ¥å°±å¯ä»¥å…è®¸é€‰æ‹©å¤šä¸ªä¸åŒçš„ææ¡ˆäº†ã€‚ä½†æ˜¯ç”±äºŽæœ€ç»ˆé€‰å‡ºçš„ææ¡ˆçš„å€¼å¿…é¡»å”¯ä¸€ï¼Œæ‰€ä»¥è¦æ·»åŠ å¦å¤–ä¸€ä¸ªæ¡ä»¶ï¼š P2. å¦‚æžœå€¼ä¸ºvçš„ææ¡ˆè¢«é€‰æ‹©äº†ï¼Œé‚£ä¹ˆæ‰€æœ‰è¢«é€‰æ‹©çš„æ•°æ›´å¤§çš„ææ¡ˆçš„å€¼ä¹Ÿæ˜¯v ç”±äºŽææ¡ˆçš„å€¼è¢«é€‰ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªææ¡ˆä¸€å®šè¦è¢«æŸäº›æŽ¥å—è€…æŽ¥å—ï¼Œæ‰€ä»¥P2çš„å¯ä»¥æ”¹å†™ä¸º P2a. å¦‚æžœå€¼ä¸ºvçš„ææ¡ˆè¢«é€‰æ‹©äº†ï¼Œé‚£ä¹ˆæ‰€æœ‰è¢«ä»»ä½•ä¸€ä¸ªæŽ¥å—è€…æŽ¥å—çš„æ•°æ›´å¤§çš„ææ¡ˆçš„å€¼ä¹Ÿæ˜¯v ä½†æ˜¯è¿˜å­˜åœ¨è¿™æ ·ä¸€ç§æƒ…å†µï¼Œæœ‰äº›æŽ¥å—è€…(c)è¿˜æ²¡æœ‰æŽ¥å—åˆ°ä»»ä½•çš„ææ¡ˆï¼Œä½†æ˜¯è¿™æ—¶ä¸€ä¸ªæ–°çš„æ•°æ›´å¤§ä½†å€¼ä¸åŒææ¡ˆè¢«æå‡ºä¸”è¢«å‘é€ç»™äº†cï¼Œç”±äºŽP1çš„è¦æ±‚ï¼Œcå¿…é¡»æŽ¥å—è¿™ä¸ªææ¡ˆï¼Œé‚£ä¹ˆè¿™æ ·ä¸€æ¥å°±è¿åäº†P2aï¼Œæ‰€ä»¥P2aè¿˜åº”è¯¥è¿›ä¸€æ­¥ä¿®æ”¹ä¸ºï¼š P2b. å¦‚æžœå€¼ä¸ºvçš„ææ¡ˆè¢«é€‰æ‹©äº†ï¼Œé‚£ä¹ˆä»»ä½•ä¸€ä¸ªææ¡ˆè€…æå‡ºçš„æ•°æ›´å¤§çš„ææ¡ˆçš„å€¼ä¹Ÿæ˜¯v æ ¹æ®æå‡º-æŽ¥å—-é€‰ä¸­çš„å› æžœå…³ç³»ï¼Œå¯ä»¥å¾—å‡ºP2b -&gt; P2a -&gt; P2ï¼Œè€Œè¦å…·ä½“å®žçŽ°P2bï¼Œåªéœ€è¦æ»¡è¶³å¦ä¸€ä¸ªå˜ä½“ P2c. å¦‚æžœæå‡ºäº†ä¸€ä¸ªå€¼ä¸ºvï¼Œæ•°ä¸ºnçš„æè®®ï¼Œé‚£ä¹ˆä¸€å®šå­˜åœ¨ä¸€ä¸ªæŽ¥å—è€…majorityé›†åˆSï¼Œæ»¡è¶³ä¸‹é¢çš„å…¶ä¸­ä¸€ä¸ªæ¡ä»¶ Så†…ä¸å­˜åœ¨ä»»ä½•æŽ¥å—è¿‡æ•°å°äºŽnçš„ææ¡ˆ væ˜¯Sä¸­æŽ¥å—è€…æŽ¥å—çš„æ•°å°äºŽnçš„æœ€å¤§æ•°ææ¡ˆçš„å€¼v ä¸ºäº†ç»´æŠ¤P2cï¼Œææ¡ˆè€…åœ¨æå‡ºæ•°ä¸ºnçš„ææ¡ˆçš„æ—¶å€™å°±éœ€è¦åŽ»å­¦ä¹ å½“å‰ä¸å¤§äºŽnçš„æœ€å¤§æ•°ææ¡ˆçš„å€¼ï¼Œè¿™äº›ææ¡ˆæœ‰çš„å·²ç»è¢«æŽ¥å—ï¼Œæœ‰çš„è¿˜æ²¡è¢«æŽ¥å—ã€‚å¦‚æžœå·²è¢«æŽ¥å—çš„è¯ï¼Œé‚£ä¹ˆå°±ç›´æŽ¥è®©æŽ¥å—è€…å‘ŠçŸ¥ææ¡ˆè€…å°±è¡Œã€‚å¦‚æžœè¿˜æœªæŽ¥å—ï¼Œé‚£å°±ä¼šé€ æˆå›°éš¾ï¼Œå› ä¸ºææ¡ˆè€…æ— æ³•é¢„æµ‹æœªæ¥ã€‚æ‰€ä»¥æ–‡ä¸­åˆåšäº†ä¸€ä¸ªé™åˆ¶ï¼Œé‚£å°±æ˜¯ææ¡ˆè€…ä¼šè¯·æ±‚æŽ¥å—è€…ä¸å†åŽ»æŽ¥å—é‚£äº›æ•°å°äºŽè‡ªå·±ææ¡ˆçš„æ•°çš„ææ¡ˆã€‚ è€ŒæŽ¥å—è€…è¿™è¾¹ï¼Œåªè¦ä¸è¿èƒŒå®‰å…¨æ€§è¦æ±‚çš„è¯·æ±‚éƒ½å¯ä»¥å›žå¤ï¼Œä¹Ÿå°±æ˜¯æŽ¥å—è€…å¯ä»¥å›žå¤æ‰€æœ‰çš„å‡†å¤‡è¯·æ±‚ï¼Œé™¤äº†å‰é¢æ‰¿è¯ºè¿‡çš„ä¸å†æŽ¥å—çš„ææ¡ˆçš„æŽ¥å—è¯·æ±‚ä»¥å¤–çš„å…¶ä»–è¯·æ±‚ä¹Ÿéƒ½å¯ä»¥å›žå¤ï¼Œè¿™å°±å¯ä»¥æå‡ºä¸€ä¸ªæ¯”P1æ›´å¼ºçš„éœ€æ±‚ï¼š P1a. æŽ¥å—è€…å¯ä»¥æŽ¥å—ä¸€ä¸ªæ•°ä¸ºnçš„ææ¡ˆï¼Œå½“ä¸”ä»…å½“æŽ¥å—è€…åªè¦æ²¡æœ‰å›žå¤è¿‡å¤§äºŽnçš„å‡†å¤‡è¯·æ±‚ è¿™é‡Œè¿˜æœ‰ä¸€äº›éšå«çš„ä¼˜åŒ–å¯ä»¥åšï¼Œé‚£å°±æ˜¯è™½ç„¶æŽ¥å—è€…å¯ä»¥å›žå¤ä¸€ä¸ªæ•°å°äºŽå½“å‰å·²ç»å›žå¤è¿‡çš„æœ€å¤§ä¸ºnå‡†å¤‡è¯·æ±‚ï¼Œä½†æ˜¯è¿™ä¸ªæ²¡æœ‰å¿…è¦ï¼Œå› ä¸ºæœ€ç»ˆæŽ¥å—è€…ä¹Ÿä¸ä¼šæŽ¥å—åŽç»­çš„æŽ¥å—è¯·æ±‚ï¼Œæ‰€ä»¥æŽ¥å—è€…å¯ä»¥ç›´æŽ¥å¿½ç•¥è¿™æ ·çš„è¯·æ±‚ã€‚åŒæ—¶ï¼Œå¯¹äºŽå·²ç»å’ŒæŽ¥å—çš„ææ¡ˆç›¸åŒçš„å‡†å¤‡è¯·æ±‚ï¼Œä¹Ÿä¸äºˆä»¥å›žå¤ã€‚ è¦åšè¿™äº›ä¼˜åŒ–ï¼ŒæŽ¥å—è€…ä¹Ÿåªéœ€è¦è®°ä½ä¸¤ä¸ªå˜é‡ï¼Œä¸€ä¸ªæ˜¯å½“å‰å·²ç»å›žå¤è¿‡çš„æœ€å¤§çš„å‡†å¤‡è¯·æ±‚ä»¥åŠå·²ç»æŽ¥å—çš„æ•°æœ€å¤§çš„æè®®ã€‚ç¬¬ä¸€ä¸ªç”¨æ¥ç¡®å®šæ˜¯å¦è¦å›žå¤ä¸€ä¸ªå‡†å¤‡è¯·æ±‚ä»¥åŠæ˜¯å¦è¦æŽ¥å—ä¸€ä¸ªææ¡ˆï¼Œç¬¬äºŒä¸ªç”¨æ¥å‘ŠçŸ¥åŽé¢æ›´å¤§æ•°çš„æè®®è€…åŽ»ä¿®æ”¹è‡ªå·±çš„æè®®ã€‚ ç»¼åˆä¸Šé¢çš„æŽ¨å¯¼ï¼Œå°±å¯ä»¥åˆç†åœ°æå‡ºPaxosæå‡ºå¹¶ä¸€è‡´é€šè¿‡ææ¡ˆçš„ç®—æ³•æµç¨‹äº†ï¼š Phase1. ææ¡ˆè€…è¦æå‡ºä¸€ä¸ªææ¡ˆï¼Œèµ‹äºˆæ•°nå’Œå€¼vï¼Œé‚£ä¹ˆä»–å°†å‘è‡³å°‘è¿‡åŠæ•°çš„(majority)æŽ¥å—è€…å‘é€å‡†å¤‡è¯·æ±‚(prepare request) æŽ¥å—è€…å—åˆ°å‡†å¤‡è¯·æ±‚åŽï¼Œåªè¦è¿™ä¸ªè¯·æ±‚ä¸­çš„æ•°nå¤§äºŽè‡ªå·±æ›¾ç»å›žå¤è¿‡çš„æœ€å¤§çš„æ•°ï¼Œé‚£ä¹ˆå°±å‘ææ¡ˆè€…å‘é€å›žå¤ä¿¡æ¯ï¼Œå›žå¤ä¸­åŒ…å«ä¸¤ä¸ªå†…å®¹ å‘ææ¡ˆè€…æ‰¿è¯ºä¸å†æŽ¥å—å°äºŽnçš„ææ¡ˆ å¦‚æžœå·²ç»æŽ¥å—è¿‡ææ¡ˆï¼Œåˆ™æŠŠå·²ç»æŽ¥å—è¿‡çš„ææ¡ˆçš„å€¼vè¿”å›žç»™ææ¡ˆè€… Phase2. å¦‚æžœææ¡ˆè€…æ”¶åˆ°äº†åŠæ•°ä»¥ä¸ŠæŽ¥å—è€…å¯¹è‡ªå·±æ•°ä¸ºnçš„å‡†å¤‡è¯·æ±‚çš„å›žå¤ï¼Œé‚£ä¹ˆå°±å¯ä»¥å‘è¿™äº›æŽ¥å—è€…å‘é€è‡ªå·±çš„ææ¡ˆ(n, v)ï¼Œvè¦æ ¹æ®æŽ¥å—è€…çš„å›žå¤è¿›è¡Œä¿®æ”¹ã€‚å¦‚æžœæŽ¥å—è€…çš„å›žå¤ä¸­å¸¦æœ‰æ›¾ç»æŽ¥å—è¿‡çš„ææ¡ˆçš„å€¼ï¼Œé‚£å°±æ”¹æˆè¿™ä¸ªå€¼ï¼Œå¦åˆ™å°±æŒ‰ç…§åŽŸæ¥æå‡ºçš„å€¼v æŽ¥å—è€…å¦‚æžœåœ¨è¿™æ®µäº‹ä»¶å†…æ²¡æœ‰å›žå¤å…¶ä»–çš„å‡†å¤‡è¯·æ±‚(å…¶ä»–æè®®è€…æå‡ºäº†næ›´å¤§çš„æè®®ï¼Œæ”¹å˜äº†è¿™ä¸ªæŽ¥å—è€…è®°å½•çš„æœ€å¤§å›žå¤å€¼)ï¼Œé‚£ä¹ˆå°±å¯ä»¥æŽ¥å—è¿™ä¸ªææ¡ˆã€‚ åªè¦éµå®ˆä¸Šé¢çš„æµç¨‹ï¼Œå°±å¯ä»¥ä¿è¯ç®—æ³•çš„æ­£ç¡®æ€§ï¼Œææ¡ˆè€…å¯ä»¥åœ¨ä»»ä½•æ—¶å€™åºŸé™¤è‡ªå·±çš„ææ¡ˆã€‚ä½œä¸ºä¼˜åŒ–ï¼Œææ¡ˆè€…å¯ä»¥åœ¨å¾—çŸ¥å·²ç»æœ‰næ›´å¤§çš„ææ¡ˆæå‡ºæ—¶æ”¾å¼ƒè‡ªå·±çŽ°åœ¨çš„ææ¡ˆã€‚ å››ã€å­¦ä¹ è¢«é€‰æ‹©çš„å€¼ä¸Šé¢ä¸€ä¸ªç« èŠ‚ä¸»è¦æ˜¯ä¸€ä¸ªææ¡ˆæå‡ºåŽè¦å¦‚ä½•å¾—åˆ°ä¸€è‡´é€šè¿‡ï¼Œå°±åƒæ˜¯ä¸€ä¸ªå…¬å¸çš„è‘£äº‹ä¼šå¯¹ä¸€ä¸ªæ–¹æ¡ˆè¿›è¡Œè®¨è®ºï¼Œå½“å¾—å‡ºæœ€ç»ˆç»“æžœæˆ–æ˜¯å¾—åˆ°åŠæ•°è‘£äº‹é€šè¿‡åŽï¼Œå°±è¦è®²è¿™ä¸ªæœ€ç»ˆç»“æžœé€šçŸ¥ç»™ä¸‹é¢çš„å‘˜å·¥ã€‚åœ¨Paxosæ¨¡åž‹ä¸­ï¼Œå­¦ä¹ è€…(learner)å°±æ‰®æ¼”ç€å‘˜å·¥è¿™æ ·ä¸€ä¸ªè§’è‰²ã€‚æ–‡ä¸­æå‡ºäº†ä¸‰ç§ä¸åŒçš„ç”±æŽ¥å—è€…å°†é€šè¿‡çš„ææ¡ˆé€šçŸ¥å­¦ä¹ è€…çš„æ–¹æ¡ˆã€‚ ç¬¬ä¸€ç§æ–¹æ³•æœ€ç®€å•ï¼ŒæŽ¥å—è€…åœ¨æŽ¥å—ææ¡ˆåŽï¼Œç«‹å³å°†è‡ªå·±æŽ¥å—çš„ææ¡ˆå¹¿æ’­ç»™æ‰€æœ‰çš„å­¦ä¹ è€…ã€‚ä½†æ˜¯è¿™ä¹ˆåšï¼Œä¼šäº§ç”Ÿå¤§çº¦n_{acceptor} * n_{learner}çš„ä¿¡æ¯é‡ï¼Œä¿¡æ¯é‡è¿‡å¤§ã€‚æ‰€ä»¥è¦è¿›è¡Œä¸€å®šçš„ä¼˜åŒ–ï¼Œå‡å°‘ç½‘ç»œè´Ÿè½½ã€‚ ç¬¬äºŒç§æ–¹æ¡ˆæ˜¯å°†æ–¹æ¡ˆéƒ½å‘é€ç»™æŒ‡å®šçš„å•ä¸ªå­¦ä¹ è€…ï¼Œå†ç”±è¿™ä¸ªå­¦ä¹ è€…è½¬å‘ç»™æ‰€æœ‰å…¶ä»–çš„å­¦ä¹ è€…(ä¸å­˜åœ¨æ‹œå åº­é—®é¢˜)æ¥é¿å…ä¸å¿…è¦çš„ä¿¡æ¯é‡ï¼Œè¿™æ ·ä¸€æ¥å°±å¯ä»¥å°†å¤æ‚åº¦é™è‡³æ¯”è¾ƒç†æƒ³çš„n_{acceptor} + n_{learner}ï¼Œä½†è¿™ç§æ–¹æ¡ˆå®¹æ˜“äº§ç”Ÿå•ç‚¹å¤±æ•ˆçš„é—®é¢˜ï¼Œå•ä¸ªå­¦ä¹ è€…ä¸€æ—¦å¤±æ•ˆåŽï¼Œæ‰€æœ‰çš„å­¦ä¹ è€…éƒ½æ— æ³•ç›´åˆ°é€šè¿‡çš„ææ¡ˆã€‚ æœ€åŽä¸€ç§æ˜¯å‰ä¸¤ç§æ–¹æ¡ˆçš„æŠ˜ä¸­ï¼ŒæŽ¥å—è€…å°†è‡ªå·±çš„æ–¹æ¡ˆå‘é€ç»™ä¸€ä¸ªç‰¹å®šé›†åˆSçš„å­¦ä¹ è€…ï¼Œç„¶åŽç”±è¿™ä¸ªé›†åˆä¸­çš„å­¦ä¹ è€…å°†ç»“è®ºè½¬å‘ç»™å…¶ä»–çš„å­¦ä¹ è€…ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šåœ¨æ–¹æ¡ˆäºŒçš„åŸºç¡€ä¸Šå¸¦æ¥| S |å€çš„å¤æ‚åº¦æå‡ï¼Œä½†æ˜¯å´å¯ä»¥å¤§å¤§æé«˜å¯é æ€§ã€‚ ä»¥ä¸Šå°±æ˜¯å¯¹Paxosç®—æ³•çš„ç†è§£ä¸Žè®¨è®ºï¼Œå¯ä»¥çœ‹å‡ºPaxosç®—æ³•è®¾è®¡çš„æžä¸ºç®€æ´ï¼Œä½†å´æžä¸ºæœ‰æ•ˆï¼Œè¿™ä¹Ÿæ˜¯å®ƒèƒ½å¤Ÿé€æ¸è¢«äººä»¬æŽ¥å—å¹¶æµè¡Œçš„åŽŸå› ã€‚ç„¶è€Œè¿™åªæ˜¯Paxosçš„Basicç‰ˆï¼Œæ¯”è¾ƒåå‘ç†è®ºï¼Œå¯¹äºŽå®žçŽ°çš„è®¨è®ºæ¯”è¾ƒå°‘ï¼ŒåŽç»­ä»¥æ­¤ä¸ºåŸºç¡€è¿˜æå‡ºäº†å¾ˆå¤šä¼˜åŒ–å’Œå¢žå¼ºçš„ç‰ˆæœ¬ã€‚ä¸‹ä¸€ç¯‡å°†ä¼šä»‹ç»è¿‘å‡ å¹´æ¯”è¾ƒæµè¡Œçš„ä¸€ä¸ªç®—æ³•Raftã€‚]]></content>
      <categories>
        <category>åˆ†å¸ƒå¼ç®—æ³•</category>
      </categories>
      <tags>
        <tag>Distributed Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[In search of an understandable consensus algorithm é˜…è¯»ç¬”è®°]]></title>
    <url>%2F2019%2F01%2F10%2FRaft%2F</url>
    <content type="text"><![CDATA[å‚è€ƒæ–‡çŒ®ï¼šOngaro D, Ousterhout J K. In search of an understandable consensus algorithm[C]//USENIX Annual Technical Conference. 2014: 305-319. ä¸€ã€Raftç®€ä»‹Raftçš„ä½œè€…è®¤ä¸ºPaxoså³ä½¿ç»è¿‡å‡ æ¬¡çš„é‡æ–°æè¿°ï¼Œä½†ä¾æ—§è®©äººéš¾ä»¥ç†è§£ï¼ŒåŒæ—¶Paxosåœ¨æå‡ºè¿‡ç¨‹ä¸­å¤§å¤šæ•°éƒ½é›†ä¸­äºŽå•ææ¡ˆçš„æ¨¡åž‹ï¼Œæ²¡æœ‰å¯¹å®žé™…åº”ç”¨åšå¤ªè¯¦ç»†çš„è§„å®šï¼Œå› æ­¤è¿‡äºŽç†è®ºåŒ–ï¼Œåœ¨å®žé™…æŠ•å…¥ç”Ÿäº§è¿‡ç¨‹ä¸­ï¼Œè¿˜æ˜¯å¿…é¡»è¦æå‡ºè®¸å¤šå˜ä½“æ¥å¯¹ç›¸å¯¹åº”çš„åº”ç”¨åœºæ™¯åšç›¸åº”çš„ä¼˜åŒ–ã€‚æ‰€ä»¥ä»–æå‡ºäº†ä¸€å¥—æ›´åŠ å®¹æ˜“ç†è§£ã€æ›´é€‚åˆå·¥ä¸šå®žè·µå’Œæ•™å­¦çš„ä¸€è‡´æ€§ç®—æ³•ã€‚å› æ­¤Raftç®—æ³•çš„è®¾è®¡ç›®æ ‡å°±æ˜¯æ˜“ç†è§£ï¼Œè®©äººæ›´å®¹æ˜“ç†è§£ç®—æ³•æµç¨‹å’Œè®¾è®¡ç›®çš„ã€‚ Raftå°†æ¯ä¸ªæœåŠ¡å™¨éƒ½çœ‹ä½œä¸€ä¸ªçŠ¶æ€æœº(state machine)ï¼Œæ¯ä¸ªçŠ¶æ€æœºä¸­éƒ½ç»´æŠ¤ç€ä¸€ä¸ªæ—¥å¿—ï¼Œå®¢æˆ·æœºå‘ä¸€ä¸ªçŠ¶æ€æœºæäº¤ä¸€ä¸ªè¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯å‘å¯¹åº”çš„çŠ¶æ€æœºçš„æ—¥å¿—æ·»åŠ äº†ä¸ªå¸¦æœ‰å‘½ä»¤çš„log entryã€‚Raftç®—æ³•ç»´æŠ¤æ‰€æœ‰æœåŠ¡å™¨ä¸­çš„æ—¥å¿—ä¿æŒä¸€è‡´ã€‚è¿™æ ·æ‰€æœ‰çš„çŠ¶æ€æœºéƒ½æŒ‰ç…§ç›¸åŒçš„é¡ºåºæ‰§è¡Œæ‰€æœ‰çš„æ“ä½œï¼Œè¾“å‡ºç›¸åŒçš„è¾“å‡ºã€‚ Raftä¸­ä¹Ÿæ˜¯åˆ†ä¸ºä¸‰ç§ä¸åŒçš„è§’è‰²ï¼Œè€Œä¸”ä¸ŽPaxosä¸€æ ·ï¼Œè§’è‰²ä¹Ÿå¹¶éžä¸ŽæœåŠ¡å™¨ä¸€ä¸€å¯¹åº”ï¼Œè€Œæ˜¯åŠ¨æ€æ”¹å˜çš„ï¼Œä¸€å°æœåŠ¡å™¨å¯èƒ½å› ä¸ºæŸäº›äº‹ä»¶çš„è§¦å‘è€Œäº§ç”Ÿè§’è‰²çš„å˜åŠ¨ã€‚ä½†æ˜¯ï¼Œæ¯ä¸ªè§’è‰²æ‰€éœ€è¦æ‰§è¡Œçš„æ“ä½œå´å¤§ä¸ç›¸åŒï¼Œä¸‰ç§çŠ¶æ€é—´çš„è½¬æ¢å¦‚å›¾1æ‰€ç¤ºï¼š é¢†å¯¼è€…(Leaders) Raftå¼•å…¥äº†é¢†å¯¼è€…è¿™ä¸€è§’è‰²ï¼Œä½†è¿™ä¸ªæƒ³æ³•å¹¶ä¸æ˜¯Raftæœ€æ—©æå‡ºçš„ï¼Œæ—©åœ¨Paxosçš„å˜ä½“multi-paxosä¸­å·²ç»æœ‰ç±»ä¼¼è§’è‰²çš„ä½“çŽ°ã€‚ åŒæ—¶ï¼ŒRaftä¸­ä½¿ç”¨ä»»æœŸ(term)çš„æ¦‚å¿µã€‚è¿™ä¸€æ¦‚å¿µä¸ŽPaxosä¸­çš„numberè¿™ä¸€æ¦‚å¿µä¸€æ ·éƒ½å……å½“äº†é€»è¾‘æ—¶é’Ÿçš„ä½œç”¨ã€‚åœ¨æ¯ä¸€ä¸ªä»»æœŸçš„å¼€å§‹éœ€è¦é€‰å‡ºè‡³å°‘ä¸€ä¸ªé¢†å¯¼è€…(æŸäº›æƒ…å†µä¸‹ä¸€ä¸ªä»»æœŸå†…çš„æ‰€æœ‰å€™é€‰è€…éƒ½ç«žé€‰å¤±è´¥ï¼Œæ²¡æœ‰é¢†å¯¼è€…äº§ç”Ÿ)ï¼Œç„¶åŽç”±é¢†å¯¼è€…æ¥æŽ§åˆ¶åŽç»­çš„æ—¥å¿—å¤åˆ¶(log replication)ã€‚ç†è®ºä¸Šåªè¦å½“å‰çš„é¢†å¯¼è€…æœåŠ¡å™¨æ²¡æœ‰å‘ç”Ÿæ•…éšœæˆ–è€…å› ä¸ºè¿žæŽ¥ä¸­æ–­ï¼Œä»»æœŸå¯ä»¥æ— é™é•¿ã€‚åœ¨é¢†å¯¼è€…å¤±æ•ˆæ—¶ï¼Œä¸ºäº†é˜²æ­¢å•ç‚¹å¤±æ•ˆçš„é—®é¢˜ï¼ŒRaftä¼šé‡æ–°åœ¨æ–°çš„ä»»æœŸä¸­è¿›è¡Œä¸€æ¬¡é€‰ä¸¾æ¥ä¿è¯ç³»ç»Ÿä¾æ—§å¯ç”¨ã€‚æ—¥å¿—åœ¨Paxoså½“ä¸­ç›¸å¯¹åº”äºŽææ¡ˆï¼Œè€Œå¤åˆ¶æ—¥å¿—ç›¸å½“äºŽPaxosä¸­ç¡®è®¤ææ¡ˆä¸Žå­¦ä¹ ææ¡ˆã€‚ä½†æ˜¯ï¼Œæ–°çš„logåªèƒ½ç”±é¢†å¯¼è€…æå‡ºï¼Œä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯ç›´æŽ¥å‘é¢†å¯¼è€…æå‡ºç”³è¯·ï¼Œç„¶åŽç”±é¢†å¯¼è€…åŽ»é€šçŸ¥å…¶ä»–æœºå™¨æ–°çš„logå’Œæäº¤ç¡®è®¤ã€‚ å€™é€‰è€…(Candidates) å€™é€‰è€…æ˜¯ä¸€ä¸ªä¸­é—´çŠ¶æ€ï¼Œè·Ÿéšè€…è¦æƒ³æˆä¸ºé¢†å¯¼è€…ï¼Œå¿…é¡»è¦å…ˆå£°æ˜Žæˆä¸ºå€™é€‰äººï¼Œç„¶åŽè¿›è¡Œé€‰ä¸¾ï¼Œè¯·æ±‚å…¶ä»–æœåŠ¡å™¨ä¸ºè‡ªå·±æŠ•ç¥¨ï¼Œèµ¢å¾—ç”±å…¶ä»–çš„è·Ÿéšè€…æŠ•ç¥¨ï¼Œæœ€ç»ˆæˆä¸ºé¢†å¯¼è€…ï¼Œè‹¥åœ¨ç«žé€‰ä¸­å¤±è´¥ï¼Œåˆ™åªèƒ½å˜å›žè·Ÿéšè€…ã€‚ è·Ÿéšè€…(Followers) è·Ÿéšè€…æœ‰ç‚¹åƒæ˜¯Paxosä¸­çš„å­¦ä¹ è€…ï¼Œè¢«åŠ¨åœ°æŽ¥å—ä»–äººæå‡ºçš„å˜åŠ¨ã€‚ä½†æ˜¯å´å’ŒPaxosä¸­çš„å­¦ä¹ è€…ä¸å®Œå…¨ä¸€æ ·ï¼ŒRaftä¸­çš„è·Ÿéšè€…è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„ä»»åŠ¡ï¼Œå°±æ˜¯æ£€æŸ¥å€™é€‰è€…çš„åˆæ³•æ€§ä»¥åŠç»™åˆæ³•çš„å€™é€‰è€…æŠ•ç¥¨ï¼Œè®©ä»–ä»¬æˆä¸ºé¢†å¯¼è€…ã€‚ æ ¹æ®ä¸Šé¢çš„ä¸€äº›è®¾å®šï¼ŒRaftä¸€å…±ç ”ç©¶çš„å°±æ˜¯ä¸‰ä¸ªå­é—®é¢˜ï¼š å¦‚ä½•é€‰ä¸¾é¢†å¯¼è€…ï¼Œå½“çŽ°æœ‰çš„é¢†å¯¼è€…å¤±æ•ˆçš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•é€‰å‡ºæ–°çš„é¢†å¯¼è€…ï¼Œé€‰ä¸¾é¢†å¯¼è€…çš„æ—¶å€™å¦‚ä½•ç¡®å®šæ–°çš„é¢†å¯¼è€…ä¸ä¼šç ´åå®‰å…¨æ€§åŽŸåˆ™ å¦‚ä½•è¿›è¡Œæ—¥å¿—çš„å¤åˆ¶ï¼Œä»€ä¹ˆæ—¶å€™å¯ä»¥ä¿è¯æ—¥å¿—å¯ä»¥å®‰å…¨æäº¤ å¦‚ä½•ä¿è¯ç³»ç»Ÿçš„å®‰å…¨æ€§ï¼Œè¦ç»´æŠ¤åŒ…å«ä»¥ä¸‹çš„å‡ ä¸ªæ€§è´¨ï¼š é€‰ä¸¾å®‰å…¨æ€§ï¼šæ¯ä¸€ä¸ªä»»æœŸ(term)å†…åªèƒ½æœ‰ä¸€ä¸ªæœåŠ¡å™¨è¢«é€‰ä¸¾ä¸ºé¢†å¯¼è€…ã€‚ é¢†å¯¼è€…åªåšappendæ“ä½œï¼šé¢†å¯¼è€…çš„æ‰€æœ‰çš„æ—¥å¿—entryåªèƒ½appendåœ¨é˜Ÿåˆ—å°¾ï¼Œè€Œä¸èƒ½åˆ é™¤å’Œè¦†ç›–ã€‚ æ—¥å¿—åŒ¹é…ï¼šå¦‚æžœä¸¤ä¸ªæ—¥å¿—åœ¨ç›¸åŒçš„åºå·ä¸Šçš„æ—¥å¿—entryçš„ä»»æœŸç›¸åŒï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¥å¿—ä»Žå¤´åˆ°è¿™ä¸ªåºå·ä¹‹é—´çš„æ—¥å¿—entryæ—¶å®Œå…¨ç›¸åŒçš„ã€‚ é¢†å¯¼è€…å®Œæ•´æ€§ï¼šåœ¨ä¸€ä¸ªé¢†å¯¼è€…ä¸Šæäº¤çš„æ—¥å¿—entryï¼Œåœ¨åŽé¢çš„termçš„é¢†å¯¼è€…ä¸­ä¹Ÿå¿…é¡»å‡ºçŽ°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰åŒæ­¥äº†æœ€æ–°logçš„serveræ‰èƒ½å¤Ÿè¢«é€‰ä¸¾ä¸ºé¢†å¯¼è€…ã€‚ çŠ¶æ€æœºå®‰å…¨æ€§ï¼šå¦‚æžœä¸€ä¸ªæœåŠ¡å™¨å·²ç»æ‰§è¡Œäº†æ—¥å¿—ä¸ŠæŸä¸ªentryä¸­çš„æŒ‡ä»¤ï¼Œé‚£ä¹ˆå…¶ä»–æœåŠ¡å™¨ä¸Šç›¸åŒåºå·ä¸åŒçš„æ—¥å¿—entryå°†ä¸èƒ½å¤Ÿæ‰§è¡Œã€‚ äºŒã€é¢†å¯¼è€…é€‰ä¸¾æ•´ä¸ªè¿‡ç¨‹çš„ç¬¬ä¸€æ­¥æ˜¯é€‰ä¸¾é¢†å¯¼è€…ï¼Œåœ¨ç³»ç»Ÿåˆšåˆšå¯åŠ¨æ—¶æˆ–è€…æ˜¯å½“çŽ°æœ‰çš„é¢†å¯¼è€…å¤±æ•ˆæ—¶ï¼Œéƒ½å°†ä¼šè§¦å‘è¿™ä¸ªè¿‡ç¨‹ã€‚å½“ä¸€ä¸ªè·Ÿéšè€…ä¸€æ®µæ—¶é—´(æ‰€æœ‰è·Ÿéšè€…éƒ½ä¼šè®¾ç½®ä¸€ä¸ªä¸€å®šåŒºé—´å†…çš„éšæœºçš„è®¡æ—¶å‘¨æœŸï¼Œelection timeout)å†…æ²¡æœ‰æ”¶åˆ°æ¥è‡ªé¢†å¯¼è€…å®šæ—¶å‘é€çš„å¿ƒè·³(Heartbeat)æˆ–æ˜¯å…¶ä»–å€™é€‰è€…å‘é€æ¥çš„æŠ•ç¥¨è¯·æ±‚æ—¶(å…¶ä»–æœåŠ¡å™¨ç«žé€‰è¯·æ±‚ä¹Ÿä¼šé˜»æ­¢ä¸€ä¸ªè·Ÿéšè€…æˆä¸ºå€™é€‰è€…)ï¼Œå°±ä¼šä¸ºè‡ªå·±å¼€å§‹ä¸€è½®é€‰ä¸¾ã€‚å¼€å§‹é€‰ä¸¾ä¸»è¦éœ€è¦ä»¥ä¸‹æ­¥éª¤ï¼š è‡ªå·±æ‰€çŸ¥é“çš„ä»»æœŸ+1 ç»™è‡ªå·±æŠ•ä¸€ç¥¨ åŒæ—¶ç»™æ‰€æœ‰äººå‘é€æŠ•ç¥¨è¯·æ±‚è§„å®šæ‰€æœ‰çš„è·Ÿéšè€…åªèƒ½æŠ•ç¬¬ä¸€ä¸ªæ”¶åˆ°çš„è¯·æ±‚ä¸€ç¥¨ã€‚å½“å€™é€‰è€…æ”¶åˆ°åŠæ•°è¯·æ±‚çš„ç¡®è®¤å›žå¤æ—¶ï¼Œåˆ™èµ¢ä¸‹äº†è¿™æ¬¡é€‰ä¸¾ï¼Œå°†è‡ªå·±çš„çŠ¶æ€æ”¹ä¸ºé¢†å¯¼è€…ï¼Œå¹¶å‘å…¶ä»–æ‰€æœ‰æœåŠ¡å™¨å¼€å§‹å¹¿æ’­è‡ªå·±çš„å¿ƒè·³ï¼Œå‘ŠçŸ¥æ–°çš„ä»»æœŸçš„å¼€å§‹ï¼Œä»¥ç¡®ä¿å…¶ä»–æœåŠ¡å™¨ä¸ä¼šå¼€å§‹æ–°çš„é€‰ä¸¾ã€‚ åœ¨å€™é€‰è€…è¿˜åœ¨ç­‰å¾…æŠ•ç¥¨çš„æ—¶å€™ï¼Œè‹¥æ”¶åˆ°ä¸€ä¸ªä»»æœŸä¸å°äºŽè‡ªå·±çš„å…¶ä»–é¢†å¯¼è€…çš„å¿ƒè·³ï¼Œè¯´æ˜Žå·²æœ‰å…¶ä»–å€™é€‰è€…èµ¢å¾—äº†é€‰ä¸¾(è‹¥ä»»æœŸæ¯”è‡ªå·±å°ï¼Œå¯èƒ½æ˜¯åŽŸæ¥è¢«ç½‘ç»œé˜»éš”çš„é¢†å¯¼è€…çš„åŒ…è¾¾åˆ°äº†ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ç»§ç»­è¿›è¡Œé€‰ä¸¾ï¼Œç­‰å¾…é€‰ä¸¾èƒœåˆ©ä¹‹åŽå–ä»£åŽŸæ¥çš„é¢†å¯¼è€…)ï¼Œé‚£ä¹ˆå°†æ”¾å¼ƒè¿™æ¬¡é€‰ä¸¾ï¼Œå°†çŠ¶æ€æ”¹å›žè·Ÿéšè€…(ä¸ç”¨æ”¹å›žä»»æœŸï¼Œå› ä¸ºå½“å‰çš„æ–°é¢†å¯¼è€…çš„ä»»æœŸä¸ä¼šå°äºŽè‡ªå·±ï¼Œä»–ä¼šé€šçŸ¥è‡ªå·±ä»¥åŠå…¶ä»–æ‰€æœ‰çš„æœåŠ¡å™¨å°†è‡ªå·±çš„ä»»æœŸè¿›è¡Œæ›´æ–°)ã€‚ å¦ä¸€ç§æƒ…å†µæ˜¯ï¼ŒåŒæ—¶æœ‰ä¸¤ä¸ªåŠä»¥ä¸Šçš„å€™é€‰è€…äº§ç”Ÿï¼Œä»–ä»¬åŒæ—¶å‘å‡ºäº†æŠ•ç¥¨è¯·æ±‚ï¼Œè¿™æ ·å¾ˆå¯èƒ½å°±éƒ½å¾—ä¸åˆ°åŠæ•°ä»¥ä¸Šçš„æŠ•ç¥¨ã€‚è¿™ç§æƒ…å†µä¸‹å€™é€‰è€…ä¼šåœ¨ç­‰å¾…è¶…æ—¶åŽé‡æ–°æ‰§è¡Œä¸€éä¸Šè¿°ä¸‰æ­¥çš„æµç¨‹ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªé¢†å¯¼è€…èŽ·èƒœï¼Œè€Œelection timeoutçš„éšæœºæ€§ä¹Ÿé¿å…äº†è¿™ä¸€æƒ…å†µçš„åå¤å‘ç”Ÿã€‚ ä¸‰ã€æ—¥å¿—å¤åˆ¶æŒ‰ç…§ä¸Šä¸€ç« çš„é¢†å¯¼è€…é€‰ä¸¾è¿‡ç¨‹é¡ºåˆ©å®Œæˆé¢†å¯¼è€…é€‰ä¸¾ä¹‹åŽï¼Œèƒœå‡ºçš„é¢†å¯¼è€…å°±å¼€å§‹æŽ¥å—å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚æŽ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚åŽï¼Œé¢†å¯¼è€…ä¼šåœ¨è‡ªå·±çš„çŠ¶æ€æœºä¸Šappendä¸ŠåŒ…å«æœ€æ–°å‘½ä»¤çš„log entryï¼Œå¹¶é€šè¿‡AppendEntriesè¿œç¨‹è¿‡ç¨‹è°ƒç”¨(RPC)ï¼Œå°†è¿™ä¸ªlog entryåŒæ­¥åˆ°å…¶ä»–æœåŠ¡å™¨ä¸Šã€‚å½“è¶…è¿‡åŠæ•°çš„æœåŠ¡(åŒ…æ‹¬è‡ªå·±)åº”ç­”appendæˆåŠŸåŽï¼Œé¢†å¯¼è€…ä¼šåœ¨çŠ¶æ€æœºä¸Šç¡®è®¤æäº¤è¿™ä¸ªå‘½ä»¤å¹¶å°†ç»“æžœè¿”å›žç»™å®¢æˆ·æœºï¼ŒåŒæ—¶é€šçŸ¥å…¶ä»–æœåŠ¡å™¨æäº¤è¿™ä¸ªå‘½ä»¤ã€‚ ç„¶è€Œï¼Œåœ¨å¤åˆ¶æ—¥å¿—çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå‡ºçŽ°å„ç§å„æ ·çš„é—®é¢˜ï¼Œå›¾2å±•ç¤ºäº†å¤šç§é¢†å¯¼è€…ä¸Žè·Ÿéšè€…ä¸Šæ—¥å¿—ä¸ä¸€è‡´çš„æƒ…å†µã€‚ä¾‹å¦‚è·Ÿéšè€…ç¼ºå¤±ä¸€äº›æ—¥å¿—(a-b)ï¼Œä¹Ÿæœ‰å¯èƒ½å¤šå‡ºä¸€äº›(c-d)ï¼Œä¹Ÿæœ‰å¯èƒ½å³å°‘ä¸€äº›åˆå¤šä¸€äº›(e-f)ã€‚ä¾‹å¦‚å½“æœåŠ¡å™¨åœ¨ä½œä¸ºè·Ÿéšè€…çš„æ—¶å€™å´©æºƒæˆ–ç½‘ç»œè¿žæŽ¥é”™è¯¯ï¼Œå°±æœ‰å¯èƒ½é€ æˆæ—¥å¿—çš„ç¼ºå¤±ã€‚å½“ä½œä¸ºé¢†å¯¼è€…æ—¶çš„å´©æºƒæˆ–ç½‘ç»œè¿žæŽ¥é”™è¯¯è€Œæ²¡æœ‰å°†ç”¨æˆ·æäº¤çš„è¯·æ±‚è¿›è¡ŒåŒæ­¥ï¼Œå°±æœ‰å¯èƒ½é€ æˆæœªæäº¤çš„æ—¥å¿—çš„å¤šå‡ºã€‚è€Œå®žé™…ä¸­æƒ…å†µå¯èƒ½æ›´åŠ å¤æ‚ã€‚ä¸ºè§£å†³ä¸Šé¢è¿™ç§ä¸ä¸€è‡´çš„æƒ…å†µï¼Œé¢†å¯¼è€…åœ¨åŒæ­¥æ—¥å¿—çš„æ—¶å€™ï¼Œéœ€è¦è¿›è¡Œä¸€äº›ä¸€è‡´æ€§æ£€æµ‹ã€‚ä¸Šé¢æåˆ°ï¼Œåªè¦ä¸¤ä¸ªæœåŠ¡å™¨æ—¥å¿—å†…çš„æŸæ¡entryçš„ä»»æœŸå’Œåºå·éƒ½ä¸€è‡´ã€‚é‚£ä¹ˆé¢†å¯¼è€…åªéœ€è¦è®°ä¸‹æ¯ä¸ªæœåŠ¡å™¨å½“å‰è¿˜æœªåŒæ­¥æ—¥å¿—åºå·(nextIndex)ï¼Œç„¶åŽå°†è¿™ä¸ªä½ç½®ä¹‹åŽçš„æ—¥å¿—å‘é€è¿‡åŽ»ï¼Œå¹¶åœ¨AppendEntrieè¯·æ±‚ä¸­å¸¦ä¸Šè‡ªå·±çš„ä»»æœŸï¼Œè·Ÿéšè€…å°±å¯ä»¥æ ¹æ®é€æ¥çš„æ—¥å¿—å†…çš„ä»»æœŸå’Œåºå·ä»¥åŠé¢†å¯¼è€…çš„ä»»æœŸï¼Œæ£€æŸ¥è‡ªå·±æ˜¯å¦èƒ½å¤ŸåŒæ­¥è¿™äº›æ—¥å¿—ã€‚å¦‚æžœä¸èƒ½åŒæ­¥ï¼Œé‚£ä¹ˆè·Ÿéšè€…å°†ä¼šå°†è‡ªå·±æ‰€éœ€è¦çš„æ—¥å¿—å·å‘é€å›žç»™é¢†å¯¼è€…ï¼Œè®©é¢†å¯¼è€…è°ƒæ•´å¯¹è‡ªå·±çš„nextIndexï¼Œæœ€ç»ˆå°±èƒ½ä¿è¯æ—¥å¿—çš„ä¸€è‡´ã€‚ ä½†æ˜¯ï¼Œè¿™æ ·è¿˜ä¸èƒ½ä¿è¯é¢†å¯¼è€…å®Œæ•´æ€§ã€‚å­˜åœ¨è¿™æ ·ä¸€ç§æƒ…å†µï¼Œåœ¨å‰ä¸€ä¸ªä»»æœŸå†…ç½‘ç»œè¿žæŽ¥æ–­å¼€è€Œæ²¡æœ‰åŒæ­¥æŸäº›å·²æäº¤æ—¥å¿—entryçš„æŸä¸ªè·Ÿéšè€…ï¼Œåœ¨æ–°çš„ä»»æœŸä¸­æˆåŠŸå½“é€‰ã€‚æ˜¾ç„¶è®©è¿™æ ·çš„æœåŠ¡å™¨æˆä¸ºé¢†å¯¼è€…æ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºä»–ä¼šè¦†ç›–æŽ‰åŽŸæ¥å·²ç»æäº¤çš„log(Raftçš„æ—¥å¿—åªèƒ½ç”±é¢†å¯¼è€…åŒæ­¥åˆ°è·Ÿéšè€…ä¸Šï¼Œä¸èƒ½æŒ‡æœ›è·Ÿéšè€…å‘Šè¯‰é¢†å¯¼è€…ä»–çš„ç¼ºå¤±)ã€‚æ‰€ä»¥Raftåœ¨é€‰ä¸¾çš„æ—¶å€™è®¾ç½®äº†ä¸€ä¸ªæœºåˆ¶ï¼Œè·Ÿéšè€…éœ€è¦æ£€æŸ¥å½“å‰å€™é€‰è€…çš„å·²æäº¤æ—¥å¿—æ˜¯å¦æ¯”è‡ªå·±çš„è¦æ—§ï¼Œè‹¥æ˜¯æ›´æ—§åˆ™ä¸èƒ½æŠ•ç¥¨ç»™ä»–è®©ä»–å½“é€‰ã€‚ç”±äºŽæ‰€æœ‰æ—¥å¿—çš„æäº¤éƒ½éœ€è¦è‡³å°‘æœ‰åŠæ•°ä»¥ä¸Šçš„æœåŠ¡å™¨çš„é€šè¿‡ï¼Œæ‰€ä»¥è¿™ä¸€æœºåˆ¶ä¹Ÿå°±ä¿è¯äº†æäº¤æ—¥å¿—è®°å½•ä¸æ˜¯æœ€æ–°çš„æœåŠ¡å™¨æ— æ³•æˆåŠŸå½“é€‰é¢†å¯¼è€…ã€‚ å››ã€æ€»ç»“Paxosä¸ŽRaftéƒ½æ˜¯ä¸ºè§£å†³åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸€è‡´æ€§é—®é¢˜è€Œæå‡ºçš„ä¸€è‡´æ€§ç®—æ³•ã€‚ä¸åŒçš„æ˜¯ï¼ŒPaxosæ›´åŠ åå‘ç†è®ºè§£é‡Šè€ŒRaftæ›´åå‘äºŽå®žçŽ°ã€‚è™½ç„¶æœ¬ç¯‡ç¬”è®°æ‰€é˜…è¯»çš„Paxosçš„è®ºæ–‡åªè®¨è®ºäº†Paxosçš„æœ€åŸºç¡€éƒ¨åˆ†ï¼Œä½†ä»ç„¶èƒ½å¤Ÿçœ‹å‡ºå…¶åŽŸç†æè¿°çš„ä¼˜ç¾Žç²¾å¦™ï¼Œè®©äººåˆ‡å®žåœ°ä½“ä¼šåˆ°ç®—æ³•çš„ç®€æ´æœ‰æ•ˆï¼Œä¹Ÿæ˜¯å› ä¸ºè¿™äº›è®©Paxosåœ¨è¿‡åŽ»çš„åå¹´é—´å‡ ä¹Žæˆä¸ºäº†ä¸€è‡´æ€§ç®—æ³•çš„ä»£åè¯ã€‚è€ŒRaftæ›´åŠ æ³¨é‡äºŽå¯ç†è§£æ€§å’Œå®žçŽ°æ–¹é¢ï¼Œåœ¨ç®—æ³•ä¸ºä½•æœ‰æ•ˆæ–¹é¢é˜è¿°çš„è¾ƒä¸ºç›´ç™½æ¸…æ™°ã€‚ä½†Raftä½“çŽ°çš„ç»†èŠ‚è¾ƒå¤šï¼Œå¯¹æ¯ä¸€ç§å¯èƒ½å‡ºçŽ°çš„æƒ…å†µéƒ½é€ä¸€è¿›è¡Œè®¨è®ºå¹¶è¯´æ˜Žç»™å‡ºçš„è§£å†³æ–¹æ¡ˆã€‚]]></content>
      <categories>
        <category>åˆ†å¸ƒå¼ç®—æ³•</category>
      </categories>
      <tags>
        <tag>Distributed Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Bigtable, A distributed storage system for structured data é˜…è¯»ç¬”è®°]]></title>
    <url>%2F2018%2F12%2F18%2FBigtable%2F</url>
    <content type="text"><![CDATA[å‚è€ƒæ–‡çŒ®ï¼šChang F, Dean J, Ghemawat S, et al. Bigtable: A distributed storage system for structured data[J]. ACM Transactions on Computer Systems (TOCS), 2008, 26(2): 4. ä¸€ã€Bigtableç®€ä»‹Bigtableæ˜¯è°·æ­Œåœ¨å…¶åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸGFSä¸Šè®¾è®¡çš„ä¸€ä¸ªç”¨äºŽè§£å†³GFSæ— æ³•å¯¹ç»“æž„åŒ–æ•°æ®è¿›è¡Œè®¿é—®ä¸Žç®¡ç†çš„ç»“æž„åŒ–æ•°æ®å­˜å‚¨è®¿é—®ç®¡ç†ç³»ç»Ÿã€‚åŸºäºŽHDFSçš„Apache HBaseå°±æ˜¯å®ƒçš„ä¸€ä¸ªå¼€æºå®žçŽ°ç‰ˆæœ¬ã€‚è°·æ­Œå°†è®¸å¤šè‡ªå·±æä¾›æœåŠ¡çš„æ•°æ®ä½¿ç”¨Bigtableè¿›è¡Œç®¡ç†ï¼Œä¾‹å¦‚Google Earthã€Google Financeã€Gmailç­‰ç­‰ã€‚æ‰€ä»¥Bigtableä¸ä»…éœ€è¦åº”å¯¹ç§ç±»ç¹å¤šçš„æ•°æ®ï¼Œåœ¨å¤„ç†åŽç«¯å®¹é‡å·¨å¤§çš„åŒæ—¶ï¼Œè¿˜è¦ä¿è¯å¯¹å»¶è¿Ÿæ•æ„Ÿä»»åŠ¡æ•°æ®æœåŠ¡çš„åŠæ—¶æ€§ã€‚åŒæ—¶ç”±äºŽè°·æ­Œä¼—å¤šçš„æœåŠ¡éƒ½ç”±Bigtableæä¾›æ”¯æŒï¼Œåœ¨ç³»ç»Ÿè®¾è®¡ä¸­ï¼Œé™¤äº†ä¸Šè¿°çš„é«˜é€‚ç”¨æ€§å¤–ï¼Œæ›´è¦è€ƒè™‘ç³»ç»Ÿè®¾è®¡çš„é«˜å®¹é”™æ€§ã€é«˜å¯ç”¨æ€§ä»¥åŠå¯æ‰©å±•æ€§ã€‚ äºŒã€æ•°æ®æ¨¡åž‹é¦–å…ˆè¦è¯´æ˜ŽBigtableä¸­æ•°æ®æ˜¯ä»¥ä»€ä¹ˆå½¢å¼å­˜å‚¨çš„ã€‚åœ¨Bigtableä¸­ï¼Œä¸ºäº†æ•°æ®çš„é«˜æ•ˆç®¡ç†ä¸Žä½¿ç”¨ï¼Œæ•°æ®è¢«è®¾è®¡é€šè¿‡ä¸‰ä¸ªå±‚æ¬¡è¿›è¡Œç´¢å¼•ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š è¡Œ (rows)è¡Œæ ‡è¯†å¯ä»¥æœ‰ä»»æ„ä¸è¶…è¿‡64KBçš„å­—ç¬¦ä¸²ç»„æˆï¼Œä»»ä½•åœ¨åŒä¸€è¡Œå†…çš„è¯»æˆ–è€…å†™æ“ä½œéƒ½å…·æœ‰åŽŸå­æ€§ã€‚åœ¨ç»´æŠ¤æ•°æ®è¡¨çš„è¿‡ç¨‹ä¸­ï¼Œæ•°æ®æŒ‰ç…§è¡Œå…³é”®å­—è¿›è¡Œå­—å…¸åºåˆ’åˆ†ï¼ŒåŒæ—¶ï¼Œæ ¹æ®è¡Œå…³é”®å­—è¿˜å¯ä»¥å°†æ•°æ®åŠ¨æ€åœ°åˆ’åˆ†ä¸ºä¸€ä¸ªä¸ªç§°ä½œâ€œå­è¡¨â€ (Tablet) çš„åŒºé—´ï¼Œå­˜å‚¨åœ¨ä¸åŒçš„å­è¡¨æœåŠ¡å™¨ä¸Šåšè´Ÿè½½å‡è¡¡ã€‚ä¸€èˆ¬æ¥è¯´å­—å…¸åºç›¸æŽ¥è¿‘çš„ä¸¤ä¸ªè¡Œå…³é”®å­—ä¸‹æ•°æ®è¢«åˆ’åˆ†åœ¨åŒä¸€ä¸ªå­è¡¨æœåŠ¡å™¨çš„æ¦‚çŽ‡è¾ƒå¤§ï¼Œå­˜å–çš„æ•ˆçŽ‡ä¹Ÿæ›´é«˜ã€‚ åˆ—æ— (column families)å®žé™…çš„æ•°æ®è¡¨ä¸­ï¼Œé€šå¸¸æ‹¥æœ‰è¾ƒå¤šçš„åˆ—ï¼Œä½†æ˜¯ä¼ ç»Ÿå…³ç³»åž‹æ•°æ®åº“ä¸­æŒ‰åˆ—ä¸ºç²’åº¦è¿›è¡Œæƒé™ç®¡ç†ï¼Œç»™æ•°æ®ç®¡ç†å¸¦æ¥äº†å¾ˆå¤§çš„éš¾åº¦ã€‚Bigtableå°†æ•°æ®è¡¨ä¸­çš„åˆ—å…ˆåˆ’åˆ†ä¸ºä¸åŒçš„åˆ—æ—ï¼Œåœ¨åˆ—æ—ä¸­è¿˜å¯ä»¥å†å®šä¹‰ç›¸åº”çš„åˆ—å…³é”®å­—ï¼Œç»„æˆå½¢å¦‚family:qualifierçš„åˆ—å…³é”®å­—ï¼Œæ¥å­˜å‚¨ä¸€äº›ç›¸ä¼¼çš„æ•°æ®ã€‚åˆ—æ—çš„è®¾è®¡ç›®çš„æ˜¯åœ¨èƒ½å¤Ÿå®¹çº³åŒæ ·æ•°é‡çš„åˆ—æ•°çš„åŒæ—¶ï¼Œå°†ç›¸åŒç±»åž‹çš„åˆ—èšé›†ä¸ºä¸€ä¸ªæ—æ¥ç»Ÿä¸€ç®¡ç†ï¼Œç”šè‡³å¯ä»¥ç»Ÿä¸€è¿›è¡Œæ•°æ®åŽ‹ç¼©ï¼Œæ–¹ä¾¿äº†æ•°æ®ç®¡ç†ï¼Œä¹Ÿæé«˜äº†æ•°æ®å­˜å‚¨çš„çµæ´»åº¦ã€‚ æ—¶é—´æˆ³ (timestamps)æ•°æ®è¡¨ä¸­çš„æ•°æ®é€šå¸¸æœ‰ç‰ˆæœ¬ä¸Šçš„æ›´æ›¿ï¼Œä¸ºäº†é˜²æ­¢ç‰ˆæœ¬é—´çš„å†²çªï¼ŒBigtableè®¾è®¡äº†æ—¶é—´æˆ³ç»´åº¦ï¼ŒåŒè¡ŒåŒåˆ—çš„æ•°æ®æŒ‰ç…§æ—¶é—´å…³ç³»è¢«èµ‹äºˆä¸€ä¸ªæ—¶é—´æˆ³ï¼Œæ—¶é—´æˆ³æ—¢å¯ä»¥ç”±å®¢æˆ·æœºåº”ç”¨ç¨‹åºè‡ªè¡Œè®¾ç½®ï¼Œä¹Ÿå¯ä»¥ç”±æ—¶é—´çš„æ¯«ç§’æ•°æ¥å†³å®šä»¥64ä½æ•´æ•°å½¢å¼å­˜å‚¨ï¼Œå¹¶ä¸”æ—¶é—´æˆ³æŒ‰ç…§é™åºæŽ’åˆ—ï¼Œæ–¹ä¾¿èŽ·å–æœ€æ–°çš„ä¸€ä¸ªç‰ˆæœ¬ã€‚Bigtableæ”¯æŒä¸¤ç§è‡ªåŠ¨å›žæ”¶æ—§ç‰ˆæœ¬çš„æœºåˆ¶ï¼Œä¸€æ˜¯ä¿ç•™æœ€æ–°çš„å‡ ä¸ªç‰ˆæœ¬ï¼Œå¦ä¸€ç§ç­–ç•¥æ˜¯ä»…ä¿ç•™ä¸€å®šæ—¶é—´å†…çš„æ‰€æœ‰ç‰ˆæœ¬ã€‚ æ‰€ä»¥ï¼ŒBigtableä¸­çš„æ¯ä¸€ä¸ªæ•°æ®å•å…ƒæ ¼å¼å¦‚ä¸‹ï¼š (row:string, coloum:string, time:int64) -&gt; string æ–‡ä¸­ä¸¾äº†ä¸€ä¸ªä¾‹å­å¦‚å›¾1æ‰€ç¤ºï¼Œè¿™æ˜¯ä¸€ä¸ªç½‘é¡µæ•°æ®è¡¨ï¼Œrowå€¼ä¸­å­˜å‚¨ç€æ‰€è®°å½•ç½‘é¡µçš„å€’å™URLï¼Œå³â€œcom.cnn.wwwâ€ã€‚å€’å™å­˜æ”¾å¯ä»¥ä½¿åŒä¸€ä¸ªåŸŸåä¸‹çš„ä¸åŒé¡µé¢æ ¹æ®å­—å…¸åºå­˜æ”¾åœ¨ä¸€èµ·ã€‚â€œcontent:â€æ˜¯ä¸€ä¸ªåˆ—æ—ï¼Œä½†è¿™ä¸ªåˆ—æ—ä¸­æ²¡æœ‰å…¶ä»–çš„qulifierï¼Œä¸‹é¢å­˜æ”¾ç€ç½‘é¡µhtmlçš„å†…å®¹ï¼Œè¿™é‡Œçš„å†…å®¹ä¸€å…±æœ‰ä¸‰ä¸ªç‰ˆæœ¬ï¼ŒæŒ‰æ—¶é—´é¡ºåºçš„æ—¶é—´æˆ³ä¸ºt3, t5, t6ã€‚â€œanchorï¼šâ€ä¸ºç¬¬äºŒä¸ªåˆ—æ—ï¼Œè¿™ä¸ªåˆ—æ—ä¸­æœ‰ä¸¤ä¸ªä¸åŒçš„column keysï¼Œåˆ†åˆ«æ˜¯â€œcnnsi.comâ€å’Œâ€œmy.look.caâ€ï¼Œè®°å½•ç€æ‰€æœ‰è¿žæŽ¥åˆ°rowå€¼å­˜å‚¨é¡µé¢çš„æ‰€æœ‰é¡µé¢ï¼Œè€Œå¯¹åº”åˆ—ä¸‹å­˜å‚¨çš„å°±æ˜¯è¿™äº›é¡µé¢ä¸­è¿žæŽ¥åˆ°rowé¡µé¢çš„anchorã€‚ ä¸‰ã€ç³»ç»Ÿç»„æˆæœ¬ç« å°†ä¼šä»‹ç»Bigtableç³»ç»Ÿä¸­çš„å‡ ä¸ªå…³é”®ç»„æˆéƒ¨åˆ†æˆ–è€…æ”¯æ’‘æŠ€æœ¯ã€‚ ä¸»æœåŠ¡å™¨ (master)ä¸»æœåŠ¡å™¨ä¸Šä¸å­˜å‚¨å­è¡¨ï¼Œä¹Ÿä¸æ˜¯ç”¨æ¥æä¾›è¡¨å®šä½ä¿¡æ¯çš„ï¼Œè€Œæ˜¯ä¸»è¦è´Ÿè´£å­è¡¨æœåŠ¡å™¨çš„åˆ†é…ã€è´Ÿè½½å‡è¡¡ï¼Œç›‘æŽ§å­è¡¨æœåŠ¡å™¨çš„çŠ¶æ€ï¼Œå½“å­è¡¨æœåŠ¡å™¨çš„ç§Ÿçº¦åˆ°åŽä»ç„¶æ²¡æœ‰å›žåº”åˆ™è¦é‡æ–°å®‰æŽ’æ–°çš„å­è¡¨æœåŠ¡å™¨æ¥ä»£æ›¿ï¼ŒåŒæ—¶å½“å­è¡¨æœåŠ¡å™¨çš„æ‰€å­˜çš„å­è¡¨è¿‡å¤§çš„æ—¶å€™è¿˜è¦åˆ†é…æ–°çš„å­è¡¨æœåŠ¡å™¨è¿›è¡Œè´Ÿè½½å‡è¡¡ã€‚åŒæ—¶ï¼Œä¸»æœåŠ¡å™¨è¿˜è¦è´Ÿè´£å¤„ç†è¡¨æ¨¡å¼æ›´æ”¹ã€åˆ—æ—å¢žåŠ å’ŒGFSä¸Šåžƒåœ¾å›žæ”¶ç­‰ä»»åŠ¡ã€‚ å­è¡¨æœåŠ¡å™¨ (tablet server)Bigtableåœ¨å­˜å‚¨è¡¨çš„æ—¶å€™ä¼šå°†è¡¨åˆ’åˆ†ä¸ºä¸€ä¸ªä¸ªå­è¡¨æ¥è¿›è¡Œå­˜å‚¨ã€‚å­è¡¨æœåŠ¡å™¨ä¸Šå­˜å‚¨ç€å­è¡¨ä¿¡æ¯ï¼Œç”±äºŽä¸ºäº†å‡å°ä¸»æœåŠ¡å™¨çš„è´Ÿè½½ï¼Œæ•°æ®è¯·æ±‚ä¸ä¼šç»è¿‡ä¸»æœåŠ¡å™¨ï¼Œå­è¡¨æœåŠ¡å™¨è¿˜éœ€è¦ç›´æŽ¥å“åº”å®¢æˆ·æœºå¯¹å­—è¡¨æœåŠ¡å™¨ä¸Šå­˜å‚¨çš„å­è¡¨çš„è¯»å’Œå†™æ“ä½œã€‚åœ¨æ‰€å­˜å‚¨çš„å­è¡¨è¿‡å¤§çš„æ—¶å€™éœ€è¦å¯¹å­è¡¨è¿›è¡Œåˆ‡åˆ†æ“ä½œã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå­è¡¨æœåŠ¡å™¨ä¹Ÿä¸æ˜¯ç›´æŽ¥å­˜æ”¾æ•°æ®çš„ï¼Œæ•°æ®åªæ˜¯å­˜æ”¾åœ¨GFSä¸­ï¼Œç„¶åŽç”±å­æœåŠ¡å™¨æ¥è¿›è¡Œåˆ†ç‰‡ç®¡ç† å®¢æˆ·ç«¯çš„åº“å®¢æˆ·ç«¯çš„åº“ç”¨äºŽç¼“å­˜å­è¡¨çš„ä½ç½®ï¼Œåªæœ‰å½“æ²¡æœ‰ç¼“å­˜å­è¡¨çš„ä½ç½®æˆ–å­è¡¨çš„ä½ç½®å‡ºé”™çš„æƒ…å†µä¸‹ï¼Œå®¢æˆ·æœºæ‰ä¼šå¯åŠ¨å­è¡¨å®šä½ã€‚ GFSBigtableåº•å±‚æ‰€ä½¿ç”¨çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ (Google File System)ï¼Œå­˜æ”¾ç€æ•°æ®æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶ã€‚ SSTableBigtableå†…éƒ¨ä½¿ç”¨çš„æ–‡ä»¶æ ¼å¼ï¼Œæä¾›ä¸å˜æœ‰åºçš„é”®å€¼æ˜ å°„ï¼Œé”®ä¸Žå€¼éƒ½æ˜¯ç”¨ä»»æ„çš„å­—èŠ‚ä¸²ç»„æˆçš„ã€‚SSTableå†…éƒ¨åŒ…å«ä¸€ç³»åˆ—é»˜è®¤å¤§å°ä¸º64KBçš„å— (block)ï¼Œå¹¶å°†è¿™äº›å—çš„ç´¢å¼•å€¼å­˜æ”¾åœ¨æ–‡ä»¶æœ«å°¾ã€‚æ¯ä¸€ä¸ªå­è¡¨å¯èƒ½å¯¹åº”ç€å¤šä¸ªSSTableæ–‡ä»¶ã€‚ ChubbyChubbyæ˜¯Googleè®¾è®¡çš„ä¸€ä¸ªé”æœåŠ¡ï¼Œæ¯ä¸ªChubbyæœåŠ¡éƒ½åˆ©ç”¨Paxosç®—æ³•ä¿ç•™äº†5ä¸ªå‰¯æœ¬ï¼Œå…¶ä¸­ä¸€ä¸ªä½œä¸ºä¸»å‰¯æœ¬æä¾›æœåŠ¡ã€‚Chubbyæä¾›äº†ä¸€ç³»åˆ—çš„ç›®å½•ä¸Žæ–‡ä»¶ï¼Œæ¯ä¸ªç›®å½•ä¸Žæ–‡ä»¶éƒ½è¢«å½“æˆâ€œé”â€æ¥ä½¿ç”¨ä»¥ä¿è¯ï¼Œä½¿ç”¨ChubbyæœåŠ¡çš„å®¢æˆ·æœºéœ€è¦ä¿æŒå’ŒChubbyæœåŠ¡ä¹‹é—´çš„ä¼šè¯ï¼Œå¹¶ç»´æŠ¤ä¸€ä¸ªç§ŸæœŸçš„å…³ç³»ï¼Œè¶…å‡ºç§ŸæœŸå¦‚æžœChubbyæ²¡æœ‰æ”¶åˆ°å®¢æˆ·æœºçš„ç»­çº¦ç”³è¯·ï¼Œé‚£ä¹ˆå®¢æˆ·æœºå°±ä¼šå¤±åŽ»åœ¨ChubbyæœåŠ¡ä¸­çš„æ‰€æœ‰é”ã€‚Chubbyåœ¨Bigtableä¸­æœ‰éžå¸¸é‡è¦çš„ä½œç”¨ï¼Œä»¥è‡³äºŽä¸€æ—¦ChubbyæœåŠ¡å¤±æ•ˆï¼Œæ•´ä¸ªBigtableå°±æ— æ³•å·¥ä½œã€‚æ— è®ºæ˜¯åœ¨ä¸»æœåŠ¡å™¨çš„ç¡®å®šã€å­è¡¨æœåŠ¡å™¨å®šä½ã€å­è¡¨æœåŠ¡å™¨åˆ†é…ã€è¡¨çš„æƒé™æŽ§åˆ¶ç­‰ç­‰æ–¹é¢éƒ½è¿ç”¨åˆ°äº†ChubbyæœåŠ¡ã€‚è¿™äº›è¿ç”¨å°†ä¼šåœ¨åŽé¢çš„ç« èŠ‚ä¸­æåˆ°ã€‚ å››ã€å­è¡¨æ“ä½œæœ¬ç« å°†ä¼šä»‹ç»å­è¡¨çš„å®šä½ã€å­è¡¨åˆ†é…ä»¥åŠå­è¡¨çš„è¯»å†™æ“ä½œã€‚ å­è¡¨å®šä½Bigtableå°†å­è¡¨æŒ‰ç…§ä¸‰å±‚å…³ç³»è¿›è¡Œç»„ç»‡ï¼Œä¸‰å±‚å…³ç³»å¦‚å›¾1æ‰€ç¤ºï¼š ç¬¬ä¸€å±‚ï¼Œå­˜å‚¨åœ¨Chubby fileä¸­ï¼Œé‡Œé¢åŒ…å«äº†Root tabletçš„ä½ç½®ä¿¡æ¯ã€‚ ç¬¬äºŒå±‚ï¼Œæ ¹å­è¡¨ (Root tablet) ï¼Œå…ƒæ•°æ®å­è¡¨ (METADATA tablets) ä¸­çš„ç¬¬ä¸€ä¸ªå­è¡¨ï¼Œå®ƒå­˜å‚¨ç€å…ƒæ•°æ®è¡¨é‡Œå…¶ä»–å­è¡¨çš„ä½ç½®ä¿¡æ¯ï¼Œæ ¹å­è¡¨éšç€å¤§å°çš„å¢žé•¿æ˜¯ä¸ä¼šè¢«åˆ†å‰²çš„ã€‚ ç¬¬ä¸‰å±‚ï¼ŒåŽŸæ•°æ®å­è¡¨ (METADATA tablets) ï¼Œä¿å­˜å…¶ä»–ç”¨æˆ·æ•°æ®è¡¨çš„å­è¡¨ä¿¡æ¯ã€‚ â€‹åœ¨æŸ¥æ‰¾å­è¡¨çš„æ—¶å€™ï¼Œå®¢æˆ·æœºé¦–å…ˆä¼šæ£€æŸ¥è‡ªå·±çš„åº“ï¼Œçœ‹æ˜¯å¦å·²ç»æœ‰è¿™ä¸ªå­è¡¨ä½ç½®çš„ç¼“å­˜ï¼Œå¦‚æžœå­˜åœ¨è¿™ä¸ªç¼“å­˜ä¸”è¿™ä¸ªç¼“å­˜è¿˜æœ‰æ•ˆï¼Œå°±ä¼šæŒ‰ç…§è¿™ä¸ªä½ç½®åŽ»èŽ·å–å­è¡¨ä¿¡æ¯ã€‚å¦‚æžœè¿™ä¸ªå­è¡¨çš„ç¼“å­˜ä¿¡æ¯é”™è¯¯ï¼Œé‚£ä¹ˆå®¢æˆ·æœºå°†ä¼šé€’å½’å‘ä¸Šä¸€å±‚çš„å­è¡¨æœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ã€‚è‹¥ç¼“å­˜ä¸ºç©ºï¼Œåˆ™å®¢æˆ·æœºå°†ä¼šä»ŽChubby fileå¼€å§‹èŽ·å–æ ¹å­è¡¨çš„ä½ç½®ï¼ŒæŸ¥è¯¢æ ¹å­è¡¨æŸ¥å¯»ç›¸åº”å…ƒæ•°æ®å­è¡¨çš„ä½ç½®ï¼Œå†åœ¨å…ƒæ•°æ®å­—è¡¨ä¸­æ‰¾åˆ°éœ€è¦çš„æ•°æ®å­è¡¨çš„ä½ç½®ï¼Œå®Œæˆå®Œæ•´çš„ä¸€æ¬¡è¯¢é—®çš„æŸ¥æ‰¾ã€‚ å­è¡¨åˆ†é…å‰æ–‡ä¸­æœ‰æåˆ°ä¸»æœåŠ¡å™¨masterä¸»è¦è´Ÿè´£ç›‘æŽ§å­è¡¨æœåŠ¡å™¨çŠ¶æ€ä»¥åŠå­è¡¨çš„åˆ†é…ã€‚ä¸»æœåŠ¡å™¨éœ€è¦é€šè¿‡Chubbyç¡®è®¤æ¯ä¸ªå­è¡¨æœåŠ¡å™¨æ˜¯å¦è¿˜åœ¨æ­£å¸¸å·¥ä½œï¼Œè·Ÿè¸ªå­è¡¨éƒ½åˆ†é…ç»™äº†å“ªäº›å­è¡¨æœåŠ¡å™¨ä»¥åŠå“ªäº›å­è¡¨è¿˜æ²¡æœ‰è¢«åˆ†é…ã€‚ å½“ä¸€ä¸ªå­è¡¨æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™ï¼Œå®ƒä¼šåœ¨Chubbyç‰¹å®šçš„ç›®å½•ä¸‹å»ºç«‹ä¸€ä¸ªè‡ªå·±çš„æ–‡ä»¶å¹¶èŽ·å¾—äº’æ–¥é”ï¼Œä¸»æœåŠ¡å™¨é€šè¿‡æ–‡ä»¶æ¥ç›‘æŽ§å­˜åœ¨å“ªäº›å­è¡¨æœåŠ¡å™¨ï¼Œé€šè¿‡å‘¨æœŸæ€§å°è¯•èŽ·å–è¿™äº›æ–‡ä»¶çš„äº’æ–¥é”æ¥ç¡®è®¤è¿™äº›å­è¡¨æœåŠ¡å™¨æ˜¯å¦è¿˜åœ¨æ­£å¸¸å·¥ä½œã€‚å½“å­è¡¨æœåŠ¡å™¨å¤±åŽ»ä¸ŽChubbyçš„è¿žæŽ¥åŽï¼Œå°±ä¼šå¤±åŽ»è¿™ä¸ªäº’æ–¥é”ã€‚ä½†æ˜¯åªè¦å­è¡¨æœåŠ¡å™¨ä¸Šçš„æ•°æ®è¿˜å­˜åœ¨å¹¶ä¸”Chubbyç›¸åº”æ–‡ä»¶è¿˜å­˜åœ¨ï¼Œå®ƒè¿˜ä¼šä¸æ–­è¯•å›¾è¯·æ±‚ä¼šè¿™ä¸ªäº’æ–¥é”ã€‚ä¸€æ—¦ä¸»æœåŠ¡å™¨èŽ·å¾—äº†è¿™ä¸ªäº’æ–¥é”ï¼Œå®ƒå°±ä¼šåˆ é™¤è¿™ä¸ªæ–‡ä»¶ï¼Œå¯¼è‡´å­è¡¨æœåŠ¡å™¨çš„æœ€ç»ˆåœæ­¢ã€‚è€Œå­è¡¨æœåŠ¡å™¨ä¸»åŠ¨åœæ­¢æœåŠ¡çš„æ—¶å€™ï¼Œä¹Ÿä¼šé‡Šæ”¾è¿™ä¸ªäº’æ–¥é”ï¼Œä»¥ä¾¿ä¸»æœåŠ¡å™¨æ›´å¿«æ„è¯†åˆ°è¿™ä¸ªå­è¡¨æœåŠ¡å™¨çš„é€€å‡ºã€‚ å½“ä¸»æœåŠ¡å™¨å’ŒChubbyè¿žæŽ¥è¢«æ–­å¼€åŽï¼Œå½“å‰çš„ä¸»æœåŠ¡å™¨ä¼šä¸»åŠ¨å…³é—­è‡ªå·±ï¼Œè¿™æ—¶å€™ç³»ç»Ÿå°±ä¼šé‡æ–°é€‰æ‹©ä¸€ä¸ªæ–°çš„ä¸»æœåŠ¡å™¨å‡ºæ¥ã€‚ä¸»æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œä¼šé¦–å…ˆèŽ·å–ä¸€ä¸ªChubbyä¸Šçš„masteré”ä»¥é˜²æ­¢å…¶ä»–æœåŠ¡å™¨åŒæ—¶æˆä¸ºä¸»æœåŠ¡å™¨ï¼›ç„¶åŽæ–°ä¸»æœåŠ¡å™¨ä¼šæ‰«æChubbyçš„ç‰¹å®šç›®å½•å°è¯•èŽ·å–äº’æ–¥é”æ¥èŽ·å¾—å½“å‰æ­£åœ¨å·¥ä½œçš„å­è¡¨æœåŠ¡å™¨ï¼›ä¹‹åŽå†è¯¢é—®æ¯ä¸ªå­è¡¨æœåŠ¡å™¨è¢«åˆ†é…çš„å­è¡¨ï¼›æœ€åŽå†ç»Ÿè®¡METADATAå­è¡¨ä¸­è¿˜æœªè¢«åˆ†é…çš„å­è¡¨ï¼Œå‡†å¤‡å°†å…¶åˆ†é… (è‹¥å…ƒæ•°æ®å­è¡¨è¿˜æœªè¢«åˆ†é…ï¼Œåˆ™éœ€å…ˆå°†æ ¹å­è¡¨åŠ å…¥åˆ°å¾…åˆ†é…çš„å­è¡¨é›†åˆä¸­) ã€‚ å­è¡¨çš„è¯»å†™æ“ä½œè¯»å†™æ“ä½œçš„åŸºæœ¬ç¤ºæ„å›¾å¦‚å›¾3æ‰€ç¤ºã€‚å…¶ä¸­SSTable Filesæ˜¯å·²ç»æŒä¹…åŒ–åœ¨GFSä¸­çš„æ•°æ®ï¼Œmemtableæ˜¯è¿˜æœªå­˜å…¥SSTable Filesçš„æ•°æ®ç¼“å­˜ï¼Œtablet logæ˜¯å†™æ“ä½œçš„æ—¥å¿—ï¼Œç”¨äºŽå­è¡¨æœåŠ¡å™¨å¯åŠ¨æ—¶ä»Žé‡åšç‚¹å¼€å§‹æ¢å¤å­è¡¨ã€‚ è¯»æ“ä½œé¦–å…ˆè¦ç»è¿‡æƒé™çš„éªŒè¯ï¼Œé€šè¿‡éªŒè¯åŽï¼Œç”±äºŽæ•°æ®çš„ä¸åŒç‰ˆæœ¬åˆ†å¸ƒåœ¨ä½äºŽå†…å­˜çš„memtableä¸­ä»¥åŠä½äºŽGFSçš„SSTable Filesä¸­ï¼Œæ‰€ä»¥éœ€è¦äº‹å…ˆè¿›è¡Œåˆå¹¶ã€‚ å†™æ“ä½œä¹Ÿç±»ä¼¼ï¼Œé¦–å…ˆè¦ç»è¿‡æƒé™éªŒè¯ï¼Œç„¶åŽä½¿ç”¨æ—¥å¿—å…ˆè¡Œ (WAL) çš„æ–¹å¼å…ˆæäº¤åˆ°æ—¥å¿—ä¸­ï¼Œç„¶åŽå†æŠŠå˜æ›´æ’å…¥åˆ°memtableä¸­ã€‚ â€‹ å­è¡¨åŽ‹ç¼©æ¯å½“è¿›è¡Œä¸€æ¬¡å†™æ“ä½œï¼Œæ–°å†™çš„è®°å½•ä¸ä¼šè¦†ç›–åŽŸæœ‰è®°å½•ï¼Œè€Œæ˜¯è¢«æ·»åŠ åˆ°memtableåŽé¢ï¼Œå½“memtableçš„å¤§å°è¾¾åˆ°ä¸€å®šç¨‹åº¦çš„æ—¶å€™ï¼Œå°±è¦ç”¨æ–°çš„ä¸€ä¸ªmemtableæ¥ä»£æ›¿åŽŸæ¥çš„memtableå¹¶æŠŠåŽŸæ¥çš„tableä¿å­˜ä¸ºä¸€ä¸ªSSTableæ–‡ä»¶ã€‚è¿™ä¸ªæ“ä½œè¿‡ç¨‹å«ä½œminor compactionã€‚ ä½†æ˜¯minor compactionä¼šé€æ¸å¢žåŠ SSTableçš„æ•°é‡ï¼Œä¼šå½±å“æ–‡ä»¶ç»´æŠ¤çš„æ•ˆçŽ‡ã€‚å› æ­¤éœ€è¦å‘¨æœŸæ€§çš„å¯¹SSTableæ–‡ä»¶å’Œmemtableè¿›è¡Œåˆå¹¶ï¼Œè¿™ä¸ªæ“ä½œå«ä½œmerging compactionã€‚ è¿˜æœ‰ä¸€ç§ç‰¹æ®Šçš„merging compactionå«ä½œmajor compactionã€‚è¿™ç§compactionä¼šæŠŠæ‰€æœ‰çš„SSTableå’Œmemtableéƒ½mergeåˆ°ä¸€ä¸ªå•ç‹¬çš„SSTableä¸­ï¼Œå¹¶ä¸”ä¸Žå‰ä¸¤ç§æ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œmajor compactionå°†ä¼šåˆ é™¤æŽ‰é‚£äº›å·²ç»æ— æ•ˆçš„æ•°æ®ï¼ŒèŠ‚çœé›†ç¾¤ç©ºé—´ï¼Œé‡Šæ”¾èµ„æºä»¥é€‚åº”å·¨å¤§çš„å®¹é‡éœ€æ±‚ã€‚ äº”ã€æ€»ç»“è¿™ç¯‡æ–‡ç« ä»‹ç»äº†è°·æ­Œåœ¨GFSä¸Šæ­å»ºçš„ç»“æž„åŒ–æ•°æ®è¡¨å­˜å‚¨ç³»ç»ŸBigtableï¼Œæœ¬ç¯‡ç¬”è®°é¦–å…ˆåœ¨å…¶ä½¿ç”¨çš„æ•°æ®æ¨¡åž‹ã€ç³»ç»Ÿç»„æˆæ–¹é¢è¿›è¡Œçš„ç®€å•çš„ä»‹ç»ï¼Œç„¶åŽåˆ†åˆ«è¯¦ç»†è®¨è®ºäº†åœ¨Bigtableä¸Šå¦‚ä½•è¿›è¡Œæ•°æ®å®šä½ã€æ•°æ®åˆ†é…ä»¥åŠæ•°æ®è¯»å†™æ“ä½œã€‚è®¨è®ºäº†ä¸»æœåŠ¡å™¨å¦‚ä½•äº§ç”Ÿï¼Œå½“ä¸»æœåŠ¡å™¨ä»¥åŠå­è¡¨æœåŠ¡å™¨å‡ºçŽ°é—®é¢˜åŽåº”è¯¥å¦‚ä½•å°†æ­£åœ¨ç®¡ç†æ•°æ®ç§»äº¤å‡ºåŽ»ï¼Œæ–°å¯åŠ¨çš„æœåŠ¡å™¨åº”å½“å¦‚ä½•åŠ å…¥åˆ°ç³»ç»Ÿä¸­å¹¶èŽ·å¾—æ•°æ®ã€‚è¿˜æåˆ°äº†Bigtableåº•å±‚å¦‚ä½•ç»´æŠ¤ä¸ŽåŽ‹ç¼©ä¿å­˜çš„æ•°æ®æ–‡ä»¶ã€‚è™½ç„¶è¿™é‡Œé¢æ¯ä¸ªé—®é¢˜è°·æ­Œè®¾è®¡çš„æ–¹æ³•çœ‹ä¼¼éƒ½å¹¶ä¸å¤æ‚ï¼Œä½†æ˜¯é€šè¿‡ä¸€ä¸ªä¸ªç®€å•çš„æ¨¡åž‹ï¼Œæˆ‘ä»¬ä½“ä¼šåˆ°äº†ä¸€äº›ç»å…¸æ¨¡åž‹ï¼Œæ˜¯å¦‚ä½•è¢«è¿ç”¨åˆ°å®žé™…ç³»ç»Ÿä¸­çš„ï¼Œæ˜¯å¦‚ä½•æ»¡è¶³è°·æ­Œæ‰€æä¾›çš„æ•°æ®æœåŠ¡çš„å¤§å®¹é‡ã€ä½Žå»¶è¿Ÿçš„è¦æ±‚ï¼Œè¿™ä¹Ÿæ¿€å‘äº†æˆ‘ä»¬è¿›ä¸€æ­¥å¯¹åº•å±‚ç†è®ºçš„äº†è§£ä¸Žç ”ç©¶çš„å…´è¶£ã€‚]]></content>
      <categories>
        <category>åˆ†å¸ƒå¼ç®—æ³•</category>
      </categories>
      <tags>
        <tag>Distributed Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Time, clocks, and the ordering of events in a distributed system é˜…è¯»ç¬”è®°]]></title>
    <url>%2F2018%2F11%2F18%2FLamport_clocks%2F</url>
    <content type="text"><![CDATA[å‚è€ƒæ–‡çŒ®ï¼šLamport L. Time, clocks, and the ordering of events in a distributed system[J]. Communications of The ACM, 1978, 21(7): 558-565. ä¸€ã€åŸºæœ¬é—®é¢˜æœ¬ç¯‡æ–‡ç« æ‰€è®¨è®ºçš„é—®é¢˜æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­äº‹ä»¶å‘ç”Ÿçš„å…ˆåŽé¡ºåºçš„é—®é¢˜ã€‚åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é€šè¿‡æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯æ—¥æœŸã€æ—¶åˆ†ç§’ç­‰ç­‰æ¦‚å¿µæ¥ç¡®å®šæ—¶é—´å‘ç”Ÿçš„å…ˆåŽé¡ºåºã€‚è™½ç„¶è¿™æ ·çš„è§£é‡Šåœ¨å•æœºç³»ç»Ÿæˆ–è€…ä¸€ä¸ªå¾ˆå°çš„ç©ºé—´èŒƒå›´å†…ä¸ä¼šå‡ºçŽ°å¤ªå¤§çš„æ­§ä¹‰ï¼Œä½†æ˜¯ï¼Œåœ¨å¤æ‚çš„åˆ†å¸ƒå¼ç³»ç»Ÿå½“ä¸­ï¼Œç”±äºŽä¸åŒè¿›ç¨‹æˆ–æ˜¯ä¸åŒä¸»æœºä¹‹é—´ç”¨äºŽè§„å®šæ—¶é—´çš„æ—¶é’Ÿæ— æ³•ä¿è¯å®žæ—¶åŒæ­¥ä»¥åŠä¼ è¾“è¿‡ç¨‹ä¸­çš„æ—¶å»¶é—®é¢˜ï¼Œè¿™æ ·çš„è§„å®šä¹Ÿå°±å˜å¾—æ— æ•ˆã€‚ä¾‹å¦‚ä¸¤ä¸ªè¿›ç¨‹Aã€Båˆ†åˆ«è¦å¯¹ä¸€ä¸ªå…±äº«å˜é‡è¿›è¡Œä¿®æ”¹ï¼Œåœ¨å®žé™…æ—¶é—´ä¸ŠAè¦æ¯”Bå…ˆå‘å‡ºè¯·æ±‚ï¼Œç†è®ºä¸Šåº”è¯¥å…ˆæ»¡è¶³Aæ‰€å‘å‡ºçš„è¯·æ±‚ï¼Œä½†æ˜¯Aè¿›ç¨‹çš„è¯·æ±‚æ¯”Bè¿›ç¨‹çš„è¯·æ±‚æ™šåˆ°è¾¾ï¼Œè¿™å°±ä¼šå¯¼è‡´å˜é‡æœ€ç»ˆä¸ŽæœŸæœ›çš„å€¼ä¸åŒã€‚ä½œè€…åœ¨æ–‡ä¸­å¼ºè°ƒæˆ‘ä»¬ä¸€å®šè¦æ„è¯†åˆ°åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­äº‹ä»¶å‘ç”Ÿä»…ä»…å­˜åœ¨ååºå…³ç³»è¿™ä¸€ç‚¹ã€‚æ‰€ä»¥åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­éœ€è¦å®šä¹‰ä¸€ç§æ–°çš„æ—¶é—´å‘ç”Ÿâ€œåºâ€çš„æ¦‚å¿µï¼Œä½¿å¾—ä¸åŒè¿›ç¨‹é—´æ—¶é—´å‘ç”Ÿçš„é¡ºåºèƒ½å¤Ÿå¾—åˆ°ç¡®å®šã€‚ äºŒã€ä¸»è¦è´¡çŒ®æœ¬æ–‡å®šä¹‰äº†ä¸€ä¸ªåº”ç”¨äºŽåˆ†å¸ƒå¼å¤šè¿›ç¨‹ç³»ç»Ÿä¸­äº‹ä»¶å‘ç”Ÿçš„ä¸€ä¸ªååºå…³ç³»â€œhappen beforeâ€ï¼Œå¹¶æå‡ºäº†ä¸€ä¸ªç®—æ³•ï¼Œå°†è¿™æ ·çš„ååºå…³ç³»æŽ¨å¹¿ä¸ºå…¨åºå…³ç³»ï¼Œå¹¶å°†å…¨åºå…³ç³»åº”ç”¨äºŽä¸€ä¸ªåŒæ­¥é—®é¢˜ã€‚ä½†æ˜¯è¿™æ ·çš„å…¨åºå…³ç³»è¿˜ä¼šé‡åˆ°ä¸€ç§å¼‚å¸¸æƒ…å†µï¼Œä½œè€…åˆæå‡ºåˆ©ç”¨åŒæ­¥ç‰©ç†æ—¶é’Ÿ (physical clocks) æ¥é¿å…è¿™æ ·çš„é—®é¢˜ã€‚ ä¸‰ã€ååºå…³ç³»ååºå…³ç³»ä¸Žå…¨ç³»å…³ç³»ä¸åŒï¼Œå…¨åºå…³ç³»å…·æœ‰åå¯¹ç§°æ€§ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€å…¨åºå…³ç³»ä¸­ï¼Œä»»ä½•ä¸¤ä¸ªå…ƒç´ ä¹‹é—´éƒ½å¯ä»¥æœ‰å…³ç³»ã€‚ä½†ååºå…³ç³»ä¸å…·æœ‰åå¯¹ç§°æ€§ï¼Œæ•…ä¸¤ä¸ªå…ƒç´ ä¹‹é—´ä¸ä¸€å®šå…·æœ‰å…³ç³»ã€‚åƒå‰é¢æ‰€è¯´çš„ï¼Œå¾ˆå¤šäººåœ¨æè¿°äº‹ä»¶å‘ç”Ÿå…ˆåŽé¡ºåºæ—¶ï¼Œéƒ½éšå«åœ°è¿ç”¨äº†ä¸€ä¸ªå…¨åºå…³ç³»ï¼Œä¹Ÿå°±æ˜¯ç‰©ç†ç†è®ºä¸­çš„æ—¶é—´å…³ç³»ã€‚ä½†æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¾ˆéš¾ä¿æŒä¸€ä¸ªç»Ÿä¸€çš„ç²¾ç¡®çš„æ—¶é’Ÿï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªäº‹ä»¶é—´å¯èƒ½æ— æ³•ç¡®å®šå…ˆ.åŽå…³ç³»ï¼Œæ‰€ä»¥ï¼Œä½œè€…å°†äº‹ä»¶å‘ç”Ÿçš„å‰åŽå…³ç³»å®šä¹‰ä¸ºä¸€ä¸ªååºé›†ï¼Œä¹Ÿå°±æ˜¯â€œhappen beforeâ€å…³ç³»ï¼Œè®°ä½œâ€-&gt;â€ã€‚â€œhappen beforeâ€å…³ç³»çš„å®šä¹‰å¦‚ä¸‹ï¼š å¦‚æžœaå’Œbæ˜¯åŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„äº‹ä»¶ï¼Œå¹¶ä¸”aåœ¨bä¹‹å‰å‘ç”Ÿï¼Œåˆ™a-&gt; b aäº‹ä»¶æ˜¯ä¸€ä¸ªè¿›ç¨‹å‘é€è¯·æ±‚ï¼Œbäº‹ä»¶æ˜¯å¦ä¸€ä¸ªè¿›ç¨‹æŽ¥æ”¶è¯·æ±‚ï¼Œåˆ™a-&gt; b å¦‚æžœa-&gt;bå¹¶ä¸”b-&gt; câ€‹ï¼Œåˆ™â€‹a-&gt;câ€‹ï¼Œå³ååºçš„ä¼ é€’æ€§ å¦å¤–å¦‚æžœä¸¤ä¸ªäº‹ä»¶aï¼Œbæ—¢ä¸æ»¡è¶³a-&gt;bï¼Œä¹Ÿä¸æ»¡è¶³b-&gt;aâ€‹ï¼Œé‚£ä¹ˆå¯ä»¥è¯´ä¸¤ä¸ªäº‹ä»¶æ˜¯å¹¶å‘çš„ (concurrent) ä½œè€…é€šè¿‡ä¸€å¼ â€œç©ºé—´-æ—¶é—´â€è¡¨æ¥è§£é‡Šååºå…³ç³»ï¼Œä¾‹å¦‚Figure 1ï¼Œæ¨ªå‘ä¸ºä¸åŒçš„è¿›ç¨‹ï¼Œçºµå‘å‘ä¸Šè¡¨ç¤ºæ—¶é—´çš„æŽ¨ç§»ï¼Œæ³¨æ„æ—¶é—´çš„æŽ¨ç§»åªåœ¨å•ä¸ªè¿›ç¨‹ä¸Šæ˜¯æœ‰æ„ä¹‰çš„ã€‚è¿›ç¨‹ä¸Šçš„ç‚¹ä»£è¡¨äº†å‘ç”Ÿçš„äº‹ä»¶ï¼Œè€Œæ³¢æµªçº¿è¡¨ç¤ºæ¶ˆæ¯ï¼Œç®­å°¾ä»£è¡¨ä¸€ä¸ªæ¶ˆæ¯çš„å‘é€äº‹ä»¶è€Œç®­å¤´è¡¨ç¤ºæ¶ˆæ¯åˆ°è¾¾çš„äº‹ä»¶ã€‚æŒ‰ç…§ä¸Šé¢çš„å®šä¹‰ï¼Œååºå…³ç³»åªå®šä¹‰åœ¨æ³¢æµªçº¿ä»Žç®­å°¾åˆ°ç®­å¤´ä»¥åŠè¿›ç¨‹çº¿ä»Žä¸‹åˆ°ä¸Šï¼Œè¿™æ ·ä¸€æ¡è·¯å¾„ä¸Šçš„ç‚¹å¯¹è¿™æ¡è·¯å¾„ä¸ŠåŽç»­çš„ç‚¹ä¹‹é—´å­˜åœ¨â€œhappen beforeâ€å…³ç³»ï¼ˆå¦‚p1â€‹ä¸Žr4â€‹ï¼‰ï¼Œè‹¥æ— æ³•æ‰¾åˆ°è¿™æ ·ä¸€æ¡è·¯å¾„è¿žæŽ¥çš„ä¸¤ä¸ªç‚¹ï¼Œåˆ™æ˜¯å¹¶å‘å…³ç³»ï¼ˆp3â€‹ä¸Žq3â€‹ï¼‰ã€‚ å››ã€é€»è¾‘æ—¶é’Ÿä¸ºäº†ä¸Žç‰©ç†æ—¶é’Ÿè¿›è¡ŒåŒºåˆ†ï¼Œä½œè€…æå‡ºäº†é€»è¾‘æ—¶é’Ÿçš„æ¦‚å¿µï¼Œå®šä¹‰ä¸ºï¼šæ¯ä¸ªè¿›ç¨‹Piéƒ½æœ‰ä¸€ä¸ªæ—¶é’ŸCiï¼Œå½“bæ˜¯è¿›ç¨‹jçš„ä¸€ä¸ªäº‹ä»¶çš„æ—¶å€™ï¼Œç³»ç»Ÿå…¨å±€æ—¶é’ŸCç»™båˆ†é…çš„æ—¶é—´ä¸ºC&lt;b&gt; = Cj&lt;b&gt;ã€‚ é€»è¾‘æ—¶é’Ÿçš„å¤§å°ä¸Žç‰©ç†æ—¶é’Ÿçš„å…ˆåŽæ²¡æœ‰å…³ç³»ï¼Œä»…ä»…ä¸Žæ—¶é—´å‘ç”Ÿçš„å…ˆåŽæœ‰å…³ç³»ï¼Œå³å®šä¹‰æ—¶é’Ÿæ¡ä»¶ (Clock Condition) Clock Condition. å¯¹äºŽä»»æ„çš„äº‹ä»¶aï¼Œbï¼Œå¦‚æžœa-&gt;båˆ™C&lt;a&gt; &lt; C&lt;b&gt;. è¿™ä¸ªæ¡ä»¶çš„é€†å‘½é¢˜ä¸èƒ½å¤Ÿæˆç«‹ï¼Œå³C&lt;a&gt; &lt; C&lt;b&gt;ä¸èƒ½å¤ŸæŽ¨å‡ºa-&gt;bã€‚ æ ¹æ®æ—¶é’Ÿæ¡ä»¶ä»¥åŠå‰é¢å®šä¹‰çš„â€œhappen beforeâ€ååºå…³ç³»å¯ä»¥å¾ˆå®¹æ˜“åœ°å¾—å‡ºä¸‹é¢ä¸¤ä¸ªæ¡ä»¶ï¼š C1. åœ¨åŒä¸€ä¸ªè¿›ç¨‹iä¸­å¦‚æžœaæ¯”bå…ˆå‘ç”Ÿï¼Œé‚£ä¹ˆCi&lt;a&gt; &lt; Ci&lt;b&gt; C2. è‹¥è¿›ç¨‹içš„äº‹ä»¶aæ˜¯ç»™è¿›ç¨‹jå‘é€ä¸€æ¡æ¶ˆæ¯å¹¶ä¸”bäº‹ä»¶æ˜¯è¿›ç¨‹jæŽ¥æ”¶è¿™æ¡æ¶ˆæ¯çš„äº‹ä»¶ï¼Œé‚£ä¹ˆCi&lt;a&gt; &lt; Cj&lt;b&gt; å†å¼•å…¥ä¸€ä¸ªé€»è¾‘æ—¶é’Ÿâ€œæ»´ç­”â€ (tick)çš„æ¦‚å¿µï¼Œæ ¹æ®ä¸Šé¢ä¸¤ä¸ªæ—¶é’Ÿæ¡ä»¶ï¼Œé€»è¾‘æ—¶é’Ÿåœ¨åŒä¸€ä¸ªè¿›ç¨‹å…ˆåŽçš„ä¸¤ä¸ªäº‹ä»¶ä¹‹é—´è‡³å°‘å­˜åœ¨ä¸€ä¸ªæ—¶é’Ÿtickï¼Œè€Œåœ¨è¿›ç¨‹ä¹‹é—´æ¶ˆæ¯å‘é€ä¸ŽæŽ¥æ”¶äº‹ä»¶ä¹‹é—´ï¼Œä¹Ÿè¦å­˜åœ¨ä¸€ä¸ªæ—¶é’Ÿtickã€‚åœ¨å›¾ä¸Šå¦‚æžœç”¨è™šçº¿è¡¨ç¤ºæ—¶é—´tickçš„è¿žçº¿ï¼ŒåŒä¸ªè¿›ç¨‹çš„ä¸¤ä¸ªç‚¹ä¹‹é—´ä¸€å®šå­˜åœ¨ä¸€æ¡è¿žçº¿ï¼Œè€Œæ¶ˆæ¯å‘é€çš„æ³¢æµªçº¿ä¸€å®šä¼šç©¿è¿‡è‡³å°‘ä¸€æ¡çš„è¿žçº¿ã€‚åŒæ—¶ï¼Œç”±äºŽè¿›ç¨‹ä¸Žè¿›ç¨‹ä¹‹é—´çš„ç‰©ç†æ—¶é’Ÿå¹¶ä¸å½±å“é€»è¾‘æ—¶é’Ÿï¼Œæ‰€ä»¥å¯ä»¥å°†æ¯ä¸ªè¿›ç¨‹è½´ä¸Šçš„ç‚¹çš„è·ç¦»è¿›è¡Œä»»æ„åœ°æ‹‰ä¼¸ï¼Œæ¯”å¦‚æŠŠå¯¹åº”çš„tickå¯¹é½ï¼Œä½¿å¾—tickä¹‹é—´çš„è¿žçº¿ç›¸äº’å¹³è¡Œå¹¶åž‚ç›´äºŽè¿›ç¨‹è½´ï¼Œæ–¹ä¾¿è§‚å¯Ÿï¼Œå¦‚Figure 3æ‰€ç¤ºã€‚ ä¸ºäº†æ»¡è¶³ä¸¤ä¸ªæ—¶é’Ÿæ¡ä»¶C1å’ŒC2ï¼Œå°±è¦éµå®ˆä¸‹é¢ä¸¤ä¸ªå®žçŽ°è§„åˆ™ (Implementation rule)ï¼š IR1. æ¯ä¸€ä¸ªè¿›ç¨‹ä¸­è¿žç»­çš„ä¸¤ä¸ªäº‹ä»¶ä¹‹é—´æ—¶é’Ÿå€¼Cè¦é€’å¢žã€‚ IR2. å¦‚æžœäº‹ä»¶aéœ€è¦å‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œé‚£ä¹ˆå®ƒéœ€è¦åœ¨æ¶ˆæ¯ä¸­åŒ…å«è‡ªå·±çš„æ—¶é—´æˆ³ (timestamp)ï¼Œå½“bæ”¶åˆ°è¿™ä¸ªæ¶ˆæ¯åŽï¼Œè¯»å–æ¶ˆæ¯ä¸­çš„æ—¶é—´æˆ³åŽï¼Œéœ€è¦è®¾ç½®è®¾ç½®è‡ªå·±çš„æ—¶é’Ÿå€¼ï¼Œè®¾ç½®çš„å€¼ä¸èƒ½æ¯”å½“å‰è‡ªå·±çš„æ—¶é’Ÿå€¼å°å¹¶ä¸”è¦å¤§äºŽæ¶ˆæ¯ä¸­çš„æ—¶é—´æˆ³ã€‚ æ˜¾ç„¶IR1ä¿è¯äº†C1çš„æ»¡è¶³ï¼Œè€ŒIR2ä¿è¯äº†C2çš„æ»¡è¶³ã€‚å¯ä»¥æƒ³åˆ°çš„ä¸€ç§æœ€ç®€å•çš„å®žçŽ°å°±æ˜¯å•ä¸ªè¿›ç¨‹ä¸­çš„æ¯ä¸ªéžæŽ¥æ”¶æ¶ˆæ¯çš„äº‹ä»¶ååºæ—¶é—´éƒ½ç­‰äºŽå‰ä¸€ä¸ªäº‹ä»¶ååºäº‹ä»¶+1ï¼Œè‹¥è¯¥äº‹ä»¶æŽ¥æ”¶æ¶ˆæ¯ï¼Œåˆ™éœ€è¦è®¾ç½®ä¸ºmax(prev, Tm) + 1ï¼Œå…¶ä¸­prevæ˜¯è¯¥è¿›ç¨‹å‰ä¸€ä¸ªäº‹ä»¶çš„é€»è¾‘æ—¶é—´ï¼ŒTmæ˜¯æ”¶åˆ°æ¶ˆæ¯ä¸­åŒ…å«çš„æ—¶é—´æˆ³ã€‚ äº”ã€æ‰©å±•ä¸ºäº‹ä»¶çš„å…¨åºæ–‡ä¸­æå‡ºäº†ä¸€ç§ç®€å•çš„æ–¹æ³•ï¼Œå°†äº‹ä»¶çš„ååºå…³ç³»æŽ¨å¹¿åˆ°äº†æ•´ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­æ‰€æœ‰äº‹ä»¶çš„å…¨åºå…³ç³»ï¼Œè¿™ç§å®šä¹‰çš„æ–¹æ³•ä»»æ„å®šä¹‰äº†ä¸€ä¸ªè¿›ç¨‹ä¸Šçš„å…¨åºå…³ç³»â€œprecâ€ï¼Œå³ç»™è¿›ç¨‹å®šä¹‰ä¸€ä¸ªä¼˜å…ˆçº§ï¼Œé»˜è®¤æŒ‰ç…§é€»è¾‘æ—¶é’Ÿå€¼æ¥è¿›è¡ŒæŽ’åºï¼Œå½“é€»è¾‘æ—¶é’Ÿå€¼ç›¸åŒæ—¶ï¼Œåˆ™æŒ‰ç…§è¿›ç¨‹çš„å…¨åºå…³ç³»æ¥è¿›è¡ŒæŽ’åºã€‚ å®šä¹‰ç³»ç»Ÿäº‹ä»¶çš„å…¨åºå…³ç³»â€œ=&gt;â€ï¼š Ci&lt;a&gt; &lt; Cj&lt;b&gt;ï¼Œæˆ–è€… Ci&lt;a&gt; = Cj&lt;b&gt; and Pi prec Pj è¿™ç§å®šä¹‰æ–¹æ³•æœ‰ç‚¹ç±»ä¼¼äºŽæ‹“æ‰‘æŽ’åºï¼Œå³å®šä¹‰å¥½ååºå…³ç³»åŽï¼Œé€šè¿‡å®šä¹‰ä¸€ä¸ªä»»æ„çš„ä¼˜å…ˆçº§ï¼Œå½¢æˆæœ€ç»ˆçš„åºåˆ—ï¼Œä½†æ˜¯å…¶ä¸­çš„ååºå…³ç³»ä¹Ÿå¾—åˆ°äº†ä¿ç•™ã€‚åœ¨æœ¬æ–‡è®¨è®ºçš„é—®é¢˜ä¸­ï¼Œå°±æ˜¯å½“a-&gt;båˆ™a=&gt;bã€‚ä½†æ˜¯è¿™ç§å…¨åºçš„å®šä¹‰æ—¶ååˆ†éšæ„çš„ï¼Œä¸åŒçš„é€»è¾‘æ—¶é’Ÿï¼Œå³ä½¿æ»¡è¶³å‰é¢æåˆ°çš„ä¸¤ä¸ªå®žçŽ°è§„åˆ™ï¼Œæœ€ç»ˆä¼šäº§ç”Ÿä¸åŒçš„å…¨åºå…³ç³»ï¼Œä¸åŒçš„è¿›ç¨‹å…¨åºå…³ç³»ï¼Œæœ€ç»ˆçš„åºåˆ—ä¹Ÿä¸åŒã€‚ å…­ã€äº’æ–¥é—®é¢˜çš„åº”ç”¨æˆ‘ä»¬å¸Œæœ›ä¸€ä¸ªç»™è¿›ç¨‹åˆ†é…èµ„æºçš„ç®—æ³•éœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š I. èµ„æºåˆ†é…ç»™å…¶ä»–è¿›ç¨‹ä¹‹å‰ï¼Œä¹‹å‰åˆ†é…çš„è¿›ç¨‹éœ€è¦å…ˆé‡Šæ”¾è¿™ä¸ªèµ„æº II. èµ„æºè¦æŒ‰ç…§è¯·æ±‚çš„å…ˆåŽé¡ºåºæ¥è¿›è¡Œåˆ†é… III. åªè¦æ¯ä¸ªè¢«èµ‹äºˆæƒé™çš„è¿›ç¨‹æœ€ç»ˆéƒ½é‡Šæ”¾äº†èµ„æºï¼Œé‚£ä¹ˆæ‰€æœ‰çš„è¯·æ±‚æœ€ç»ˆéƒ½èƒ½å¤Ÿè¢«èµ‹äºˆèµ„æº è¿™ä¸‰ç‚¹çœ‹æ¥éƒ½æ˜¯ç®€å•çš„è¦æ±‚ï¼Œè€Œåœ¨å®žé™…ä¸­å´ä¸é‚£ä¹ˆå¥½æ»¡è¶³ã€‚ä¾‹å¦‚ï¼Œé‡‡ç”¨ä¸­å¿ƒè°ƒåº¦è¿›ç¨‹P0æ¥è¿›è¡Œèµ„æºåˆ†é…æ—¶ï¼Œè¿›ç¨‹P1å…ˆå‘P0ç”³è¯·èµ„æºï¼Œç„¶åŽP1å‘P2å‘é€æ¶ˆæ¯ï¼ŒP2æ”¶åˆ°æ¶ˆæ¯åŽï¼Œå‘P0å‘é€ä¸€ä¸ªèµ„æºç”³è¯·çš„è¯·æ±‚ï¼Œæ˜¾ç„¶P1çš„è¯·æ±‚åº”è¯¥å…ˆè¢«æ»¡è¶³ï¼Œä½†æ˜¯æˆ‘ä»¬æ— æ³•ä¿è¯P1çš„è¯·æ±‚æ¯”P2å…ˆåˆ°è¾¾ã€‚ ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½œè€…ä½¿ç”¨ä¸€ä¸ªæ»¡è¶³IR1ã€IR2çš„ç³»ç»Ÿæ—¶é’Ÿï¼Œç”Ÿæˆä¸€ä¸ªäº‹ä»¶çš„å…¨åºå…³ç³»ï¼Œå¹¶å‡è®¾ä¸¤ä¸ªè¿›ç¨‹é—´çš„é€šä¿¡ä¸ä¼šä¸¢å¤±ä¸”æŒ‰åºåˆ°è¾¾ï¼Œé‚£ä¹ˆç®—æ³•è§„åˆ™å®šä¹‰å¦‚ä¸‹ï¼š ç”³è¯·èµ„æºæ—¶ï¼Œè¿›ç¨‹Piä¼šå‘é€ä¸€ä¸ªå¸¦æœ‰æ—¶é—´æˆ³çš„æ¶ˆæ¯Tm:Piç»™å…¶ä»–è¿›ç¨‹ï¼Œå¹¶æŠŠè¿™æ¡æ¶ˆæ¯æ”¾å…¥è‡ªå·±çš„è¯·æ±‚é˜Ÿåˆ— (Request queue) ä¸­ è¿›ç¨‹PjæŽ¥æ”¶åˆ°Tm:PiåŽï¼Œä¹Ÿæ”¾å…¥è‡ªå·±ç»´æŠ¤çš„è¯·æ±‚é˜Ÿåˆ—ä¸­ï¼Œå¹¶å‘å›žä¸€ä¸ªå¸¦æœ‰æ—¶é—´æˆ³çš„æ¶ˆæ¯ é‡Šæ”¾æ¶ˆæ¯æ—¶ï¼Œè¿›ç¨‹Piç§»é™¤æ‰€æœ‰è‡ªå·±è¯·æ±‚é˜Ÿåˆ—ä¸­çš„Tm:Piï¼Œå¹¶å°†é‡Šæ”¾è¿›ç¨‹çš„æ¶ˆæ¯å’Œæ—¶é—´æˆ³å‘é€ç»™å…¶ä»–è¿›ç¨‹ å½“è¿›ç¨‹Pjæ”¶åˆ°é‡Šæ”¾èµ„æºæ¶ˆæ¯æ—¶ï¼Œä¹Ÿç§»é™¤æŽ‰è‡ªå·±è¯·æ±‚é˜Ÿåˆ—ä¸­çš„Tm:Pi åªæœ‰Piæœ¬åœ°éªŒè¯å½“ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶éƒ½æ»¡è¶³çš„æ—¶å€™ï¼Œè¿›ç¨‹Piæ‰ä¼šè¢«åˆ†é…èµ„æºï¼š Tm:Piå­˜åœ¨äºŽè‡ªå·±çš„è¯·æ±‚é˜Ÿåˆ—ä¸­å¹¶ä¸”åœ¨è§„å®šçš„å…¨åºå…³ç³»ä¸­æŽ’åœ¨æœ€å‰é¢ æ”¶åˆ°äº†å…¶ä»–æ‰€æœ‰è¿›ç¨‹å‘æ¥çš„æ—¶é—´æˆ³æ™šäºŽTmçš„æ¶ˆæ¯ è¿™æ ·çš„ç®—æ³•æ»¡è¶³äº†å‰é¢çš„æ¡ä»¶I-IIIï¼š é€šè¿‡3å’Œ4å¯ä»¥ä¿è¯æ¡ä»¶I ç”±äºŽæ»¡è¶³äº†å…¨åºåºåˆ—ï¼ŒåŒæ—¶ä¹Ÿæ»¡è¶³äº†æ‰€æœ‰ååºå…³ç³»ï¼Œæ‰€ä»¥ååºå…³ç³»ä¸ŠåŽå‡ºçŽ°çš„è¯·æ±‚çš„æ—¶é—´æˆ³ä¸€å®šä¼šæ¯”å…ˆå‡ºçŽ°çš„è¦é«˜ï¼Œæ ¹æ®è§„åˆ™5(i)å°±èƒ½å¤ŸæŒ‰åºè¿›è¡Œèµ„æºèµ‹äºˆï¼Œæ»¡è¶³æ¡ä»¶II è§„åˆ™2ä¿è¯äº†è§„åˆ™5(ii)çš„è§¦å‘ï¼Œè§„åˆ™3å°†ä¼šç§»é™¤è‡ªå·±è¿›ç¨‹ä¸­éœ€è¦é‡Šæ”¾çš„è¯·æ±‚ï¼Œè§„åˆ™4å°†ä¼šç§»é™¤åœ¨å…¶ä»–è¿›ç¨‹ä¸­è®°å½•çš„è¯·æ±‚ï¼Œè¿™æ ·ï¼Œæ— è®ºæŒ‰ç…§å…¨åºè§„åˆ™çš„ä¸‹ä¸€ä¸ªè¯·æ±‚å‡ºçŽ°åœ¨å“ªä¸ªè¿›ç¨‹ä¸­ï¼Œéƒ½èƒ½å¤Ÿæ»¡è¶³ï¼Œå³è§¦å‘äº†è§„åˆ™5(i)ï¼Œæ»¡è¶³äº†æ¡ä»¶III ä¸ƒã€ç‰©ç†æ—¶é’Ÿä¸Šé¢æ‰€è®¾è®¡çš„ç³»ç»Ÿå·²ç»èƒ½å¤Ÿåˆ©ç”¨é€»è¾‘æ—¶é’Ÿç”Ÿæˆçš„å…¨åºåºåˆ—æ¥å®Œæˆä¸€ä¸ªè¿›ç¨‹èµ„æºåˆ†é…ç®—æ³•äº†ï¼Œä½†æ˜¯ï¼Œä¸Šè¿°çš„ç³»ç»Ÿå½“ä¸€ä¸ªè¿›ç¨‹å´©æºƒæ—¶å°±æ— æ³•è¿è¡Œï¼Œå› ä¸ºè¯·æ±‚èµ„æºçš„çš„è¿›ç¨‹å°†æ— æ³•æ”¶åˆ°æ‰€æœ‰å…¶ä»–è¿›ç¨‹çš„ç¡®è®¤ä¿¡æ¯ï¼Œä¹Ÿå°±æ— æ³•æ»¡è¶³è§„åˆ™5(ii)ã€‚ç„¶è€Œä»…ä»…å‡­å€Ÿé€»è¾‘æ—¶é’Ÿï¼Œå¾ˆéš¾ç¡®è®¤ä¸€ä¸ªè¿›ç¨‹æ˜¯å¦å·²ç»å´©æºƒæˆ–åªæ˜¯å¤„äºŽäº‹ä»¶çš„é—´éš™é—´ã€‚ å†è€ƒè™‘ä¸€ç§æƒ…å†µï¼Œå½“ç”¨æˆ·Aä½¿ç”¨è®¡ç®—æœºå‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œç„¶åŽä»–æ‰“ç”µè¯è®©Bï¼ˆç³»ç»Ÿå¹¶ä¸çŸ¥åˆ°ç”µè¯é‡Œçš„ä¿¡æ¯ï¼‰ä¹Ÿå‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œç”±äºŽç³»ç»Ÿå¹¶ä¸çŸ¥é“ç”µè¯é‡Œæ¶ˆæ¯æ‰€å½¢æˆçš„ä¸€ä¸ªååºå…³ç³»ï¼Œæ‰€ä»¥å¦‚æžœå…ˆæ”¶åˆ°Bçš„æ¶ˆæ¯çš„è¯ï¼Œä»ç„¶ä¼šå…ˆæ»¡è¶³Bçš„è¯·æ±‚ï¼Œè¿™å°±é€ æˆäº†ä¸€ä¸ªå¼‚å¸¸è¡Œä¸º (Anomalous Behavior)ã€‚ ä¸Šé¢ä¸¤ä¸ªä¾‹å­è¡¨æ˜Žäº†ï¼Œåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¼•å…¥ç‰©ç†æ—¶é’Ÿæ˜¯æœ‰å¿…è¦çš„ï¼Œé€»è¾‘æ—¶é’Ÿæ— æ³•å¤„ç†Anomalous Behaviorè¿™æ ·çš„åˆç³»ç»Ÿå¤–éƒ¨ä¿¡æ¯æ‰€ç…§æˆçš„å¼‚å¸¸ã€‚å‡è®¾ç³»ç»Ÿä¸­äº§ç”Ÿçš„äº‹ä»¶é›†åˆä¸ºÏˆï¼Œè€Œå¹¶ä¸Šå¤–éƒ¨äº‹ä»¶åŽçš„é›†åˆä¸ºÏˆ, åœ¨Ïˆä¸Šå®šä¹‰æ–°çš„â€œhappen beforeâ€å¼ºæ—¶é’Ÿæ¡ä»¶å…³ç³»â€œâ€“&gt;â€: Strong Clock Condition. å¯¹äºŽä»»æ„çš„äº‹ä»¶aï¼Œbï¼Œå¦‚æžœaâ€“&gt;båˆ™C&lt;a&gt; = C&lt;b&gt;. çŽ°åœ¨å¼•å…¥ç³»ç»Ÿä¸­ç‰©ç†æ—¶é’Ÿæ¡ä»¶ï¼Œç³»ç»Ÿä¸­éœ€è¦ä¿è¯æ¯ä¸ªè¿›ç¨‹ä¹‹é—´çš„ç‰©ç†æ—¶é’Ÿç›¸äº’æŽ¥è¿‘å¹¶ä¸”æ”¹å˜çš„é€Ÿåº¦ä¹‹é—´ä¹Ÿè¦ç›¸äº’æŽ¥è¿‘ï¼Œæ‰€ä»¥è¦æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªç‰©ç†æ—¶é’Ÿæ¡ä»¶ï¼š PC1. å­˜åœ¨ä¸€ä¸ªå¸¸æ•°Îº &lt;&lt; 1ï¼Œå¯¹äºŽä»»æ„i: |dCi(t)/dt - 1|&lt;Îº. PC2. å¯¹äºŽä»»æ„iï¼Œj: |Ci(t)-Cj(t)|&lt;Îµ. è¿™ä¸¤ä¸ªç‰©ç†æ—¶é’Ÿæ¡ä»¶è¦ä¿è¯ä¸å‘ç”Ÿå¼‚å¸¸è¡Œä¸ºï¼Œéœ€è¦å¯¹æ—¶é’ŸåŒæ­¥çš„è¿‡ç¨‹ä¸­çš„ä¸¤ä¸ªå˜é‡Îµ ï¼Œ Îºè¿›è¡Œé™åˆ¶ã€‚è¦æ»¡è¶³Ci(t+Î¼)-Cj(t)&gt;0ï¼Œå…¶ä¸­Î¼æ˜¯è¿›ç¨‹é—´é€šä¿¡çš„æ—¶å»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸¤ä¸ªè¿›ç¨‹é—´çš„ç‰©ç†æ—¶é’Ÿç›¸å·®ä¸èƒ½è¶…è¿‡ç‰©ç†æ—¶å»¶ï¼Œåœ¨ç‰©ç†äº‹ä»¶ä¸Šè¾ƒæ™šå¼€å§‹çš„äº‹åŠ¡å½“å…¶ä»–è¿›ç¨‹çš„æ¶ˆæ¯åˆ°è¾¾åŽï¼Œä¾ç„¶è¦æ‹¥æœ‰æ›´å¤§çš„æ—¶é—´æˆ³ã€‚åŒæ—¶æ ¹æ®PC2å¯ä»¥å¾—å‡ºCi(t+Î¼)-Ci(t)&gt;(1-Îº)Î¼ï¼Œå¯ä»¥æŽ¨å¯¼å‡ºï¼Œè¦æ»¡è¶³Ci(t+Î¼)-Cj(t)&gt;0ï¼Œå°±è¦æ»¡è¶³Îµ/(1-Îº)&lt;= Î¼.è¿™ä¸¤ä¸ªç‰©ç†æ—¶é’Ÿæ¡ä»¶è¦ä¿è¯ä¸å‘ç”Ÿå¼‚å¸¸è¡Œä¸ºï¼Œéœ€è¦å¯¹æ—¶é’ŸåŒæ­¥çš„è¿‡ç¨‹ä¸­çš„ä¸¤ä¸ªå˜é‡Îµ ï¼Œ Îºè¿›è¡Œé™åˆ¶ã€‚è¦æ»¡è¶³ æœ€åŽå°†å®žçŽ°è§„åˆ™IR1ï¼ŒIR2è¿›è¡ŒæŽ¨å¹¿ IR1â€™. å½“ä»»æ„è¿›ç¨‹Piå¦‚æžœåœ¨ç‰©ç†äº‹ä»¶tæ²¡æœ‰æ”¶åˆ°æ¶ˆæ¯ï¼Œé‚£ä¹ˆCiåœ¨tå¤„å¯å¾®å¹¶ä¸”dCi(t)/dt &gt; 0. IR2â€™. (a) Piåœ¨tæ—¶åˆ»å‘é€ä¸€ä¸ªå¸¦æœ‰ä¸€ä¸ªæ—¶é—´æˆ³Tm=Ci(t)çš„æ¶ˆæ¯m. (b) Pjåœ¨tâ€™æ—¶åˆ»æ”¶åˆ°æ¶ˆæ¯mï¼ŒPjè®¾ç½®Cj(tâ€™)ä¸ºmax(Cj(tâ€™-0), Tm+Î¼m). å…¶ä¸­Î¼mæ˜¯ä¼ è¾“çš„æœ€å°æ—¶å»¶ï¼ŒCj(tâ€™-0)æ˜¯Cj(t)åœ¨tâ€™å¤„çš„å·¦æžé™ã€‚ å…«ã€æ€»ç»“æœ¬æ–‡å®šä¹‰äº†åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„ååºå…³ç³»â€œhappen beforeâ€ï¼Œå¹¶å°†å…¶æ‰©å±•ä¸ºäº†å…¨åºå…³ç³»ï¼Œå±•ç¤ºå¦‚ä½•è§£å†³åŒæ­¥é—®é¢˜ã€‚å¹¶ä¸”è®¨è®ºå¦‚ä½•å¼•å…¥ç‰©ç†æ—¶é’Ÿæ¥é¿å…å¼‚å¸¸è¡Œä¸ºä»¥åŠåŒæ­¥ç‰©ç†æ—¶é’Ÿéœ€è¦æ»¡è¶³çš„æ¡ä»¶ã€‚å¯ä»¥è¯´è¿™ç¯‡æ–‡ç« å¯¹åˆ†å¸ƒå¼ç³»ç»Ÿçš„å‘å±•èµ·åˆ°äº†å¥ åŸºçš„ä½œç”¨ã€‚]]></content>
      <categories>
        <category>åˆ†å¸ƒå¼ç®—æ³•</category>
      </categories>
      <tags>
        <tag>Distributed Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 3349 Snowflake Snow Snowflakesï¼ˆå“ˆå¸Œï¼‰]]></title>
    <url>%2F2018%2F10%2F28%2Fpoj3349%2F</url>
    <content type="text"><![CDATA[å…ˆå“ˆå¸Œï¼Œå†å¯¹æ¯”ï¼Œå¯¹æ¯”å°±æ˜¯å¾ªçŽ¯æ»šåŠ¨å¯¹æ¯” C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;vector&gt;#define MAX 100005#define KEY 100000using namespace std;int snowFlakes[MAX][6];vector&lt;int&gt; head[KEY];bool isSame(int a, int b)&#123; for(int i = 0; i &lt; 6; i++)&#123; bool flag = true; for(int j = 0; j &lt; 6; j++)&#123; if(snowFlakes[a][j] != snowFlakes[b][(i+j)%6])&#123; flag = false; break; &#125; &#125; if(flag == true) return true; &#125; for(int i = 0; i &lt; 6; i++)&#123; bool flag = true; for(int j = 0; j &lt; 6; j++)&#123; if(snowFlakes[a][j] != snowFlakes[b][(i-j+6)%6])&#123; flag = false; break; &#125; &#125; if(flag == true) return true; &#125; return false;&#125;int main()&#123; int num, sum; bool flag = false; scanf("%d", &amp;num); for(int i = 0; i &lt; num; i++)&#123; sum = 0; for(int j = 0; j &lt; 6; j++)&#123; scanf("%d", &amp;snowFlakes[i][j]); sum += snowFlakes[i][j]; &#125; if(flag == false)&#123; int key = sum % KEY; if(head[key].size() &gt; 0)&#123; for(int j = 0; j &lt; head[key].size(); j++)&#123; if(isSame(head[key][j], i))&#123; flag = true; break; &#125; &#125; &#125; head[key].push_back(i); &#125; &#125; if(flag)&#123; printf("Twin snowflakes found.\n"); &#125;else&#123; printf("No two snowflakes are alike.\n"); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>å“ˆå¸Œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 2299 Ultra-QuickSortï¼ˆæ ‘çŠ¶æ•°ç»„ï¼‰]]></title>
    <url>%2F2018%2F10%2F27%2Fpoj2299%2F</url>
    <content type="text"><![CDATA[æ±‚é€†åºæ•°ï¼Œè®°å½•ä¸€ä¸‹åŽŸæ¥çš„ä½ç½®ï¼Œå¿«æŽ’ä¸€ä¸‹çœ‹çœ‹æ¯ä¸ªä½ç½®çš„æ•°åº”è¯¥æŽ’åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œç„¶åŽä»Žç¬¬ä¸€ä¸ªæ•°å¼€å§‹æŠŠå®ƒæŽ’åºåŽçš„ä½ç½®æ”¾å…¥æ ‘çŠ¶æ•°ç»„ï¼Œå¹¶ä¸”å¯ä»¥ç®—å‡ºåœ¨è¿™ä¹‹å‰çš„æ•°æœ‰å¤šå°‘ä¸ªæ²¡æœ‰æ”¾åœ¨è¿™ä¸ªæ•°å‰é¢ï¼ˆå·²æ”¾å…¥çš„æ•°é‡-åœ¨æˆ‘å‰é¢çš„æ•°é‡ï¼‰ï¼Œä¹Ÿå°±æ˜¯é€†åºæ•° C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#define M 500005using namespace std;struct node&#123; int num; int order; bool operator&lt;(const node &amp;b) const&#123; return num &lt; b.num; &#125;&#125;arr[M];int ranks[M];int cnt[M];int num;int lowbit(int x)&#123; return (x &amp; (-x));&#125;void update(int pos, int x)&#123; while(pos &lt;= num)&#123; cnt[pos] += x; pos += lowbit(pos); &#125;&#125;int getSum(int pos)&#123; int ans = 0; while(pos &gt;= 1)&#123; ans += cnt[pos]; pos -= lowbit(pos); &#125; return ans;&#125;int main()&#123; while(~scanf("%d", &amp;num) &amp;&amp; num != 0)&#123; for(int i = 1; i &lt;= num; i++)&#123; scanf("%d", &amp;arr[i].num); arr[i].order = i; &#125; sort(arr + 1, arr + 1 + num); for(int i = 1; i &lt;= num; i++)&#123; ranks[arr[i].order] = i; &#125; memset(cnt, 0, sizeof(cnt)); long long ans = 0; for(int i = 1; i &lt;= num; i++)&#123; update(ranks[i], 1); ans += (i - getSum(ranks[i])); &#125; printf("%lld\n", ans); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æŽ’åº</tag>
        <tag>æ ‘çŠ¶æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 1936 All in All]]></title>
    <url>%2F2018%2F10%2F25%2Fpoj1936%2F</url>
    <content type="text"><![CDATA[ðŸ˜‚ C++ Code 123456789101112131415161718192021222324252627#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;using namespace std;int main()&#123; char s[100002]; char t[100002]; while(~scanf("%s %s", s, t))&#123; int slen = strlen(s); int tlen = strlen(t); int i = 0; int j = 0; while(i &lt; slen &amp;&amp; j &lt; tlen)&#123; if(s[i] == t[j]) i++; j++; &#125; if(i == slen) printf("Yes\n"); else printf("No\n"); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>ä¸²</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 2388 Who's in the Middle]]></title>
    <url>%2F2018%2F10%2F25%2Fpoj2388%2F</url>
    <content type="text"><![CDATA[ä¸€ä¸ªå¤§é¡¶å †ä¸€ä¸ªå°é¡¶å †å’Œä¸€ä¸ªä¸­ä½æ•°midï¼Œ ç¬¬ä¸€ä¸ªæ•°æ˜¯ä¸­ä½æ•°ï¼ŒåŽé¢æ¯”ä¸­ä½æ•°å¤§çš„æ”¾åˆ°å¤§é¡¶å †ï¼Œæ¯”ä¸­ä½æ•°å°çš„æ”¾åˆ°å°é¡¶å †ï¼Œ å¹¶ä¸”ä¸æ–­è°ƒæ•´ä¸¤ä¸ªå †çš„å¤§å°ç›¸å·®ä¸è¶…è¿‡1ï¼Œè¾ƒå°çš„ä¸€æ–¹push midï¼Œè¾ƒå¤§çš„ä¸€æ–¹popä¸€ä¸ªå½“ä½œmid C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;queue&gt;using namespace std;priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt; &gt; mi;priority_queue&lt;int, vector&lt;int&gt;, less&lt;int&gt; &gt; mx;int mid;int main()&#123; int ca, tmp; while(!mi.empty()) mi.pop(); while(!mx.empty()) mx.pop(); scanf("%d%d", &amp;ca, &amp;mid); ca--; while(ca--)&#123; scanf("%d", &amp;tmp); if(tmp &lt; mid)&#123; mx.push(tmp); &#125;else&#123; mi.push(tmp); &#125; if(mi.size() &gt;= mx.size() + 2)&#123; mx.push(mid); mid = mi.top(); mi.pop(); &#125;else if(mx.size() &gt;= mi.size() + 2)&#123; mi.push(mid); mid = mx.top(); mx.pop(); &#125; &#125; printf("%d\n", mid); return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æŽ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 3080 Blue Jeans (KMP)]]></title>
    <url>%2F2018%2F10%2F20%2Fpoj3080%2F</url>
    <content type="text"><![CDATA[æžšä¸¾ç¬¬ä¸€ä¸ªä¸²çš„é•¿åº¦å’Œèµ·å§‹ç‚¹ï¼Œç„¶åŽç”¨KMPåŽ»ä¸€ä¸ªä¸ªæ¯”è¾ƒï¼Œå¾—åˆ°æœ€åŽä¸€ä¸ªèƒ½åŒ¹é…çš„é•¿åº¦ï¼ŒåŒæ—¶è¦æ›¿æ¢å­—å…¸åºæœ€å¤§çš„é‚£ä¸ªä¸² C++ Code 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;vector&gt;using namespace std;char dna[12][65];int nex[65];void getNext(char *p, int len)&#123; nex[0] = -1; int i = 0, j = -1; while(i &lt; len)&#123; if(j == -1 || p[i] == p[j])&#123; i++; j++; nex[i] = j; &#125;else&#123; j = nex[j]; &#125; &#125;&#125;bool kmp(char *a, char*b, int len1, int len2)&#123; int i = 0, j = 0; while(i &lt; len1)&#123; if(j == -1 || a[i] == b[j])&#123; i++; j++; &#125;else&#123; j = nex[j]; &#125; if(j == len2)&#123; return true; &#125; &#125; return false;&#125;int main()&#123; int ca, num; scanf("%d", &amp;ca); while(ca--)&#123; scanf("%d", &amp;num); for(int i = 0; i &lt; num; i++)&#123; scanf("%s", dna[i]); &#125; char tmp[65]; char tmp2[65]; int final_len = 0; bool flag1, flag2; int pos; for(int len = 1; len &lt;= 60; len++)&#123; flag2 = false; for(int i = 0; i &lt;= 60-len; i++)&#123; strncpy(tmp, dna[0]+i, len); tmp[len] = '\0'; getNext(tmp, len); flag1 = true; pos = -1; for(int j = 1; j &lt; num; j++)&#123; if(kmp(dna[j], tmp, 60, len) == false)&#123; flag1 = false; break; &#125; &#125; if(flag1 == true)&#123; final_len = len; if(pos == -1 || strcmp(tmp, tmp2) &gt; 0)&#123; pos = i; strncpy(tmp2, tmp, len); tmp2[len] = '\0'; // printf("tmp2 %s\n", tmp2); &#125; flag2 = true; &#125; &#125; if(flag2 == false) break; &#125; if(final_len &lt; 3) printf("no significant commonalities\n"); else printf("%s\n", tmp2); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>ä¸²</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 1035 Spell checker]]></title>
    <url>%2F2018%2F10%2F15%2Fpoj1035%2F</url>
    <content type="text"><![CDATA[ç›´æŽ¥æš´åŠ›æ¯”å°±å¯ä»¥ C++ Code 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;using namespace std;char dic[10005][20];char tmp[20];int main()&#123; int dic_len = 0; while(~scanf("%s", dic[dic_len]))&#123; if(dic[dic_len][0] == '#') break; dic_len++; &#125; while(~scanf("%s", tmp))&#123; if(tmp[0] == '#') break; bool flag = false; for(int i = 0; i &lt; dic_len; i++)&#123; if(strcmp(tmp, dic[i]) == 0)&#123; printf("%s is correct\n", tmp); flag = true; break; &#125; &#125; if(flag == true) continue; printf("%s:", tmp); int tmp_len = strlen(tmp); for(int i = 0; i &lt; dic_len; i++)&#123; int cnt = 0; if(tmp_len == strlen(dic[i]))&#123; for(int j = 0; j &lt; tmp_len; j++)&#123; if(tmp[j] != dic[i][j]) cnt++; &#125; if(cnt == 1) printf(" %s", dic[i]); &#125;else if(tmp_len == strlen(dic[i]) + 1)&#123; for(int j = 0, k = 0; j &lt; strlen(dic[j]) &amp;&amp; k &lt; tmp_len; j++, k++)&#123; if(dic[i][j] != tmp[k])&#123; j--; cnt++; &#125; &#125; if(cnt &lt;= 1) printf(" %s", dic[i]); &#125;else if(tmp_len == strlen(dic[i]) - 1)&#123; for(int j = 0, k = 0; j &lt; strlen(dic[i]) &amp;&amp; k &lt; tmp_len; j++, k++)&#123; if(dic[i][j] != tmp[k])&#123; k--; cnt++; &#125; &#125; if(cnt &lt;= 1) printf(" %s", dic[i]); &#125; &#125; printf("\n"); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>ä¸²</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 3436 ACM Computer Factoryï¼ˆISAPï¼‰]]></title>
    <url>%2F2018%2F10%2F13%2Fpoj3436%2F</url>
    <content type="text"><![CDATA[ISAPï¼Œæ¯å°æœºå™¨éƒ½åˆ†æˆä¸¤ä¸ªèŠ‚ç‚¹ï¼Œä¸­é—´è¿žä¸€æ¡å®¹é‡ä¸ºå·¥ä½œæ•ˆçŽ‡çš„è¾¹ï¼› å¦‚æžœè¾“å…¥æ²¡æœ‰1ï¼Œåˆ™å’Œæºç‚¹è¿žæŽ¥ï¼Œè¾“å‡ºæ²¡æœ‰0çš„å’Œæ±‡ç‚¹è¿žæŽ¥ï¼› ä»»æ„ä¸¤ä¸ªç‚¹ä¹‹é—´è¾“å…¥å’Œè¾“å‡ºå¯¹åº”ç›¸åŠ æ²¡æœ‰1åˆ™å¯ä»¥è¿žæŽ¥ä¸€æ¡å®¹é‡ä¸ºINFçš„è¾¹ã€‚ C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;vector&gt;#include &lt;queue&gt;#define M 105#define INF 10005using namespace std;struct Edge&#123; int from; int to; int flow; int cap; Edge(int f, int t, int fl, int c)&#123; from = f; to = t; cap = c; flow = fl; &#125;&#125;;int p, n;int in[M][10], out[M][10];vector&lt;Edge&gt; edges;vector&lt;int&gt; head[M], prefix[M];int deep[M], num[M], cur[M], pre[M];void add(int from, int to, int cap)&#123; edges.push_back(Edge(from, to, 0, cap)); edges.push_back(Edge(to, from, 0, 0)); int sz = edges.size(); head[from].push_back(sz-2); head[to].push_back(sz-1);&#125;void bfs(int s, int t)&#123; memset(deep, -1, sizeof(deep)); memset(num, 0, sizeof(num)); queue&lt;int&gt; q; q.push(s); deep[s] = 0; num[deep[s]]++; while(!q.empty())&#123; int cur = q.front(); q.pop(); for(int i = 0; i &lt; prefix[cur].size(); i++)&#123; int to = prefix[cur][i]; if(deep[to] &lt; 0)&#123; deep[to] = deep[cur] + 1; num[deep[to]]++; q.push(to); &#125; &#125; &#125;&#125;int augument(int s, int t)&#123; int pos = t; int flow = INF; while(pos != s)&#123; Edge &amp;e = edges[pre[pos]]; flow = min(flow, e.cap - e.flow); pos = e.from; &#125; pos = t; while(pos != s)&#123; edges[pre[pos]].flow += flow; edges[pre[pos]^1].flow -= flow; pos = edges[pre[pos]].from; &#125; return flow;&#125;int ISAP(int s, int t)&#123; int flow = 0; bool flag; bfs(t, s); int pos = s; memset(cur, 0, sizeof(cur)); while(deep[s] &lt; 2*(n+1))&#123;// cout &lt;&lt; flow &lt;&lt; " " &lt;&lt; pos &lt;&lt; " " &lt;&lt; deep[pos] &lt;&lt; endl; if(pos == t)&#123; flow += augument(s, t); pos = s; &#125; flag = false; for(int i = cur[pos]; i &lt; head[pos].size(); i++)&#123; Edge &amp;e = edges[head[pos][i]]; if(e.cap &gt; e.flow &amp;&amp; deep[pos] == deep[e.to] + 1)&#123; flag = true; cur[pos] = i; pre[e.to] = head[pos][i]; pos = e.to; break; &#125; &#125; if(flag == false)&#123; int mi = 2*n+1; for(int i = 0; i &lt; head[pos].size(); i++)&#123; Edge &amp;e = edges[head[pos][i]]; if(e.cap &gt; e.flow)&#123; mi = min(mi, deep[e.to]); &#125; &#125; num[deep[pos]]--; if(num[deep[pos]] == 0) break; deep[pos] = mi+1; num[deep[pos]]++; cur[pos] = 0; if(pos != s) pos = edges[pre[pos]].from; &#125; &#125; return flow;&#125;int main()&#123; int tmp; bool one, zero, flag; while(~scanf("%d%d", &amp;p, &amp;n))&#123; edges.clear(); for(int i = 0; i &lt; 2*n+2; i++)&#123; head[i].clear(); prefix[i].clear(); &#125; for(int i = 0; i &lt; n; i++)&#123; scanf("%d", &amp;tmp); add(i, i+n, tmp); prefix[i+n].push_back(i); one = false; for(int j = 0; j &lt; p; j++)&#123; scanf("%d", &amp;in[i][j]); if(in[i][j] == 1) one = true; &#125; zero = false; for(int j = 0; j &lt; p; j++)&#123; scanf("%d", &amp;out[i][j]); if(out[i][j] == 0) zero = true; &#125; if(!one)&#123; add(2*n, i, INF); prefix[i].push_back(2*n); &#125; if(!zero)&#123; add(i+n, 2*n+1, INF); prefix[2*n+1].push_back(i+n); &#125; &#125; for(int i = 0; i &lt; n; i++)&#123; for(int j = 0; j &lt; n; j++)&#123; if(i == j) continue; flag = true; for(int k = 0; k &lt; p; k++)&#123; if(out[i][k] + in[j][k] == 1)&#123; flag = false; break; &#125; &#125; if(flag == true)&#123; add(i+n, j, INF); prefix[j].push_back(i+n); &#125; &#125; &#125; int ans = ISAP(2*n, 2*n+1); vector&lt;int&gt; v; for(int i = 0; i &lt; edges.size(); i++)&#123; if(edges[i].flow &gt; 0 &amp;&amp; edges[i].from % n != edges[i].to % n &amp;&amp; edges[i].from != 2*n &amp;&amp; edges[i].to != 2*n+1)&#123; v.push_back(i); &#125; &#125; printf("%d %d\n", ans, v.size()); for(int i = 0; i &lt; v.size(); i++)&#123; Edge &amp;e = edges[v[i]]; printf("%d %d %d\n", (e.from)%n+1, (e.to)%n+1, e.flow); &#125; &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>ç½‘ç»œæµ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 1459 Power Networkï¼ˆISAPï¼‰]]></title>
    <url>%2F2018%2F10%2F02%2Fpoj1459%2F</url>
    <content type="text"><![CDATA[ISAPç®—æ³•æ¨¡æ¿ æœ€å¤§æµå¢žå¹¿è·¯ç®—æ³•å¤§è‡´æœ‰ä¸‰ä¸ªä¼˜åŒ–ç­‰çº§ EKç®—æ³•ï¼ˆEdmonds Karpï¼‰é€šè¿‡dfsæ¯æ¬¡åœ¨æ®‹é‡ç½‘ç»œä¸­æ‰¾åˆ°ä¸€æ¡å¯è¡Œçš„å¢žå¹¿è·¯è¿›è¡Œå¢žå¹¿ Dinicç®—æ³• åœ¨æ¯æ¬¡dfså¯»æ‰¾å¢žå¹¿è·¯å‰ï¼Œå…ˆè¿›è¡Œä¸€æ¬¡dfsæ ‡å·ï¼Œæµé‡åªæ²¿ç€æºç‚¹åˆ°æ±‡ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯è¿›è¡Œå¢žå¹¿ï¼Œè¿™å°±ç›¸å½“äºŽç»™äº†æµä¸€ä¸ªåŠ¿èƒ½ï¼Œæ°´åªä¼šå‘ä¸‹æµè€Œä¸ä¼šéšå¤„æµåŠ¨ï¼Œå¤§å¤§æ‰€çŸ­äº†EKç®—æ³•ä¸­å‘çŽ°çš„å¢žå¹¿è·¯ï¼Œæé«˜äº†æ•ˆçŽ‡ ISAPç®—æ³•ï¼Œåœ¨Dinicç®—æ³•çš„åŸºç¡€ä¸Šè¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œå¹¶ä¸éœ€è¦åœ¨æ¯æ¬¡å¢žå¹¿å‰éƒ½ç”¨bfsé‡æ–°æ ‡å·ï¼Œè€Œæ˜¯åªè¿›è¡Œä¸€æ¬¡æ ‡å·ï¼Œä¹‹åŽåœ¨ä¸€ä¸ªç»“ç‚¹æ— æ³•å¢žå¹¿æ—¶æ‰è€ƒè™‘ä¿®æ”¹èŠ‚ç‚¹çš„æ ‡å·ï¼ŒåŒæ—¶åŠ å…¥ä¸€ä¸ªgapä¼˜åŒ–ï¼Œå½“æŸä¸€ä¸ªæ ‡å·çš„èŠ‚ç‚¹ä¸ªæ•°ä¸º0æ—¶ï¼Œåœæ­¢å¢žå¹¿ï¼Œè¾“å‡ºæœ€å¤§æµã€‚ C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;vector&gt;#include &lt;queue&gt;#define MAX_NODE 105#define INF 150000using namespace std;struct Edge&#123; int from; int to; int cap; int flow; Edge(int f, int t, int c, int fw)&#123; from = f; to = t; cap = c; flow = fw; &#125;&#125;;vector&lt;Edge&gt; edges;vector&lt;int&gt; mp[MAX_NODE], prefix[MAX_NODE]; //the suffix edges of every node, the prefix nodes of every nodeint deep[MAX_NODE], num[MAX_NODE], cur[MAX_NODE], pre[MAX_NODE];int n, np, nc, m;void add(int from, int to, int cap)&#123; edges.push_back(Edge(from, to, cap, 0)); edges.push_back(Edge(to, from, 0, 0)); int sz = edges.size(); mp[from].push_back(sz-2); mp[to].push_back(sz-1);&#125;void bfs(int s, int t)&#123; memset(deep, -1, sizeof(deep)); queue&lt;int&gt; q; q.push(s); deep[s] = 0; while(!q.empty())&#123; int cur = q.front(); q.pop(); for(int i = 0; i &lt; prefix[cur].size(); i++)&#123; int to = prefix[cur][i]; if(deep[to] &lt; 0)&#123; deep[to] = deep[cur] + 1; q.push(to); &#125; &#125; &#125;&#125;int augument(int s, int t)&#123; int pos = t; int flow = INF; while(pos != s)&#123; Edge &amp;e = edges[pre[pos]]; flow = min(flow, e.cap - e.flow);// printf("flow %d\n", flow);// printf("%d %d\n", e.cap, e.flow); pos = e.from; &#125; pos = t; while(pos != s)&#123; edges[pre[pos]].flow += flow; edges[pre[pos]^1].flow -= flow; pos = edges[pre[pos]].from; &#125; return flow;&#125;int ISAP(int s, int t)&#123; int flow = 0; bool flag = false; bfs(t, s); memset(cur, 0, sizeof(cur)); memset(num, 0, sizeof(num)); for(int i = 0; i &lt; n; i++)&#123; num[deep[i]]++; &#125; int pos = s; while(deep[s] &lt; n)&#123; if(pos == t)&#123; //augument one path successfully flow += augument(s, t); //continue the next one pos = s; &#125; flag = false; for(int i = cur[pos]; i &lt; mp[pos].size(); i++)&#123; Edge &amp;e = edges[mp[pos][i]]; if(e.cap &gt; e.flow &amp;&amp; deep[pos] == deep[e.to] + 1)&#123; flag = true; cur[pos] = i; pre[e.to] = mp[pos][i]; pos = e.to; break; &#125; &#125; if(flag == false)&#123; int mi = n-1; for(int i = 0; i &lt; mp[pos].size(); i++)&#123; Edge &amp;e = edges[mp[pos][i]]; if(e.cap &gt; e.flow)&#123; mi = min(mi, deep[e.to]); &#125; &#125; //gap num[deep[pos]]--; if(num[deep[pos]] == 0) break; num[mi+1]++; deep[pos] = mi+1; cur[pos] = 0; if(pos != s) pos = edges[pre[pos]].from; &#125; &#125; return flow;&#125;int main()&#123; while(~scanf("%d%d%d%d", &amp;n, &amp;np, &amp;nc, &amp;m))&#123; n += 2; for(int i = 0; i &lt; n; i++)&#123; mp[i].clear(); prefix[i].clear(); &#125; edges.clear(); int from, to, cap; for(int i = 0; i &lt; m; i++)&#123; scanf(" (%d,%d)%d", &amp;from, &amp;to, &amp;cap); add(from, to, cap); prefix[to].push_back(from); &#125; for(int i = 0; i &lt; np; i++)&#123; scanf(" (%d)%d", &amp;from, &amp;cap); add(n-2, from, cap); prefix[from].push_back(n-2); &#125; for(int i = 0; i &lt; nc; i++)&#123; scanf(" (%d)%d", &amp;from, &amp;cap); add(from, n-1, cap); prefix[n-1].push_back(from); &#125; int ans = ISAP(n-2, n-1); printf("%d\n", ans); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>ç½‘ç»œæµ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 3020 Antenna Placementï¼ˆåŒˆç‰™åˆ©ç®—æ³•ï¼‰]]></title>
    <url>%2F2018%2F10%2F01%2Fpoj3020%2F</url>
    <content type="text"><![CDATA[åŒˆç‰™åˆ©ç®—æ³• C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;using namespace std;int n, m;int mp[45][15];bool grid[405][405];char in[15];int dir[4][2] = &#123;0,1,0,-1,1,0,-1,0&#125;;int cnt;bool vis[405];int link[405];int num;bool dfs(int x)&#123; for(int y = 0; y &lt; num; y++)&#123; if(grid[x][y] &amp;&amp; !vis[y])&#123; vis[y] = true; if(link[y] == -1 || dfs(link[y]))&#123; link[y] = x; return true; &#125; &#125; &#125; return false;&#125;void search()&#123; memset(link, -1, sizeof(link)); for(int i = 0; i &lt; num; i++)&#123; memset(vis, 0, sizeof(vis)); if(dfs(i))&#123; cnt++; &#125; &#125;&#125;int main()&#123; int ca; scanf("%d", &amp;ca); while(ca--)&#123; memset(mp, -1, sizeof(mp)); memset(grid, 0, sizeof(grid)); num = 0; scanf("%d%d", &amp;n, &amp;m); for(int i = 1; i &lt;= n; i++)&#123; scanf("%s", in+1); for(int j = 1; j &lt;= m; j++)&#123; if(in[j] == '*')&#123; mp[i][j] = num++; &#125; &#125; &#125; for(int i = 1; i &lt;= n; i++)&#123; for(int j = 1; j &lt;= m; j++)&#123; if(mp[i][j] &gt;= 0) for(int k = 0; k &lt; 4; k++)&#123; int x = i + dir[k][0]; int y = j + dir[k][1]; if(mp[x][y] &gt;= 0)&#123; grid[mp[i][j]][mp[x][y]] = true; &#125; &#125; &#125; &#125; cnt = 0; search(); printf("%d\n", num - cnt/2); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>äºŒåˆ†å›¾æœ€å¤§åŒ¹é…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 3041 Asteroids]]></title>
    <url>%2F2018%2F09%2F30%2Fpoj3041%2F</url>
    <content type="text"><![CDATA[åŒˆç‰™åˆ©ç®—æ³•æ¨¡æ¿ C++ Code 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#define M 500using namespace std;bool grid[M][M];bool vis[M];//æœ¬è½®æ˜¯å¦å·²ç»å°è¯•é€šè¿‡yæ¥å¢žå¹¿å¹¶ä¸”å¤±è´¥int n, k;int cnt;int link[M];bool dfs(int x)&#123; for(int i = 1; i &lt;= n; i++)&#123; if(grid[x][i] &amp;&amp; !vis[i])&#123; vis[i] = true; if(link[i] == -1 || dfs(link[i]) == true)&#123; link[i] = x; return true; &#125; &#125; &#125; return false;&#125;void search()&#123; for(int i = 1; i &lt;= n; i++)&#123; memset(vis, false, sizeof(vis)); if(dfs(i)) cnt++; &#125;&#125;int main()&#123; int x, y; while(~scanf("%d%d", &amp;n, &amp;k))&#123; memset(link, -1, sizeof(link)); memset(grid, false, sizeof(grid)); for(int i = 0; i &lt; k; i++)&#123; scanf("%d%d", &amp;x, &amp;y); grid[x][y] = true; &#125; cnt = 0; search(); printf("%d\n", cnt); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>äºŒåˆ†å›¾æœ€å¤§åŒ¹é…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 2485 Highways]]></title>
    <url>%2F2018%2F09%2F29%2Fpoj2485%2F</url>
    <content type="text"><![CDATA[è¦æ±‚èƒ½å¤Ÿè®©æ‰€æœ‰èŠ‚ç‚¹è”é€šå¹¶ä¸”æœ€å¤§è¾¹æƒæœ€å°çš„é—®é¢˜ï¼Œå…¶å®žæ±‚çš„å°±æ˜¯æœ€å°ç”Ÿæˆæ ‘çš„æœ€å¤§è¾¹æƒï¼› è¯æ˜Žï¼šæœ€å°ç”Ÿæˆæ ‘çš„æœ€å¤§è¾¹æƒä¸€å®šæ˜¯æ‰€æœ‰æœ€å°ç”Ÿæˆæ ‘ä¸­æœ€å°çš„ åè¯æ³•ï¼šå‡è®¾æœ€å°ç”Ÿæˆæ ‘T1çš„æœ€å¤§è¾¹(u, v)ï¼Œå’Œä¸€ä¸ªéžæœ€å°ç”Ÿæˆæ ‘T2çš„æœ€å¤§è¾¹(a, b)ï¼Œä¸”(u, v) &gt; (a, b) &gt; T2ä¸­çš„å…¶ä»–æ‰€æœ‰è¾¹ åŽ»æŽ‰(u, v)ï¼Œæœ€å°ç”Ÿæˆæ ‘ä¼šå½¢æˆä¸€ä¸ªéš”ï¼Œuï¼Œvåˆ†åˆ«åœ¨å‰²çš„ä¸¤ä¸ªåˆ†é‡ä¸­ï¼Œä¸”uï¼Œvåœ¨T2ä¸­ä¸€å®šå­˜åœ¨ä¸€æ¡å”¯ä¸€çš„è·¯å¾„ï¼Œåˆç”±äºŽuï¼Œvåœ¨T1ä¸­å±žäºŽä¸åŒçš„åˆ†é‡ï¼Œæ‰€ä»¥è¿™æ¡è·¯å¾„ä¸­ä¸€å®šå­˜åœ¨ç€æŸæ¡è¾¹ä¸¤ç«¯åˆ†åˆ«åœ¨å‰²çš„ä¸¤ä¸ªåˆ†é‡ä¸­ï¼Œåœ¨T1ä¸­è¿žä¸Šè¿™æ¡è¾¹å°±èƒ½å¤Ÿå½¢æˆæ–°çš„ç”Ÿæˆæ ‘ï¼Œä¸”æ¯”åŽŸæ¥çš„æœ€å°ç”Ÿæˆæ ‘å°ï¼ŒçŸ›ç›¾ï¼› C++ Code 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;queue&gt;#include &lt;vector&gt;#define MAX 501using namespace std;int arr[MAX][MAX];bool vis[MAX];int ca, num;struct node&#123; int num; int v; bool operator&lt;(const node &amp;b) const&#123; return v &gt; b.v; &#125;&#125;;int prim(int start)&#123; int ans = 0; priority_queue&lt;node&gt; q; memset(vis, false, sizeof(vis)); node tmp; tmp.num = start; tmp.v = 0; q.push(tmp); for(int k = 0; k &lt; num; k++)&#123; node cur; do&#123; cur = q.top(); q.pop(); &#125;while(vis[cur.num]); vis[cur.num] = true; ans = max(ans, cur.v); for(int i = 0; i &lt; num; i++)&#123; if(!vis[i] &amp;&amp; arr[cur.num][i] &gt; 0)&#123; node tmp; tmp.num = i; tmp.v = arr[cur.num][i]; q.push(tmp); &#125; &#125; &#125; return ans;&#125;int main()&#123; while(~scanf("%d", &amp;ca))&#123; while(ca--)&#123; scanf("%d", &amp;num); for(int i = 0; i &lt; num; i++)&#123; for(int j = 0; j &lt; num; j++)&#123; scanf("%d", &amp;arr[i][j]); &#125; &#125; int ans = prim(0); printf("%d\n", ans); &#125; &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æœ€çŸ­è·¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 3026 Borg Maze]]></title>
    <url>%2F2018%2F09%2F29%2Fpoj3026%2F</url>
    <content type="text"><![CDATA[æŠŠæ¯ä¸ªSå’ŒAéƒ½çœ‹æˆèŠ‚ç‚¹ï¼ŒBFSæ±‚ä¹‹é—´çš„è·ç¦»ç„¶åŽå¥—ç”¨Primæ¥è®¡ç®—æœ€å°ç”Ÿæˆæ ‘ã€‚æ³¨æ„è¾“å…¥æœ‰å‘ï¼Œæ•´æ•°è¾“å…¥å®ŒåŽå¯èƒ½æœ‰å¤šä¸ªç©ºæ ¼ï¼Œè¦ç”¨gets()è€Œä¸èƒ½ç”¨getchar() C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;string&gt;#include &lt;queue&gt;#define M 55#define M_ROBOT 105using namespace std;struct node&#123; int x; int y; int step; node(int a, int b, int c)&#123; x = a; y = b; step = c; &#125; node()&#123; x = 0; y = 0; step = 0; &#125;&#125;robots[M_ROBOT];struct queueEdge&#123; int num; int v; queueEdge()&#123; num = 0; v = 0; &#125; queueEdge(to, len)&#123; num = to; v = len; &#125;&#125;;char mp[M][M];int arr[M_ROBOT][M_ROBOT];bool vis[M][M];int n, m, num;void bfs(int start)&#123; memset(vis, 0, sizeof(vis)); queue&lt;node&gt; q; robots[start].step = 0; q.push(robots[start]); while(!q.empty())&#123; node cur = q.front(); q.pop(); vis[cur.x][cur.y] = true; char tmp = mp[cur.x][cur.y]; if(tmp != '#' &amp;&amp; tmp != ' ')&#123; arr[start][(int)tmp] = cur.step; &#125; if(mp[cur.x-1][cur.y] != '#' &amp;&amp; !vis[cur.x-1][cur.y]) q.push(node(cur.x-1, cur.y, cur.step+1)); if(mp[cur.x+1][cur.y] != '#' &amp;&amp; !vis[cur.x+1][cur.y]) q.push(node(cur.x+1, cur.y, cur.step+1)); if(mp[cur.x][cur.y-1] != '#' &amp;&amp; !vis[cur.x][cur.y-1]) q.push(node(cur.x, cur.y-1, cur.step+1)); if(mp[cur.x][cur.y+1] != '#' &amp;&amp; !vis[cur.x][cur.y+1]) q.push(node(cur.x, cur.y+1, cur.step+1)); &#125;&#125;int prim(int start)&#123; int ans = 0; memset(vis, false, sizeof(vis)); priority_queue&lt;queueEdge&gt; q; q.push(queueEdge(start, 0)); for(int k = 0; k &lt; num; k++)&#123; do&#123; node cur = q.top(); q.pop(); &#125;while(vis[cur.num]); vis[cur.num] = true; ans += vis.v; for(int i = 0; i &lt; num; i++)&#123; if(!vis[i]) q.push(queueEdge(i, arr[cur.num][i])); &#125; &#125; return ans;&#125;int main()&#123; int ca; scanf("%d", &amp;ca); while(ca--)&#123; num = 0; scanf("%d%d", &amp;m, &amp;n); getchar(); for(int i = 0; i &lt; n; i++)&#123; gets(mp[i]); for(int j = 0; j &lt; m; j++)&#123; if(mp[i][j] == 'A' || mp[i][j] == 'S')&#123; mp[i][j] = num; robots[num].x = i; robots[num].y = j; num++; &#125; &#125; &#125; for(int i = 0; i &lt; num; i++)&#123; bfs(i); &#125; int ans = prim(0); printf("%d\n", ans); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æœ€å°ç”Ÿæˆæ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 1258 Agri-Net]]></title>
    <url>%2F2018%2F09%2F28%2Fpoj1258%2F</url>
    <content type="text"><![CDATA[Primæ¨¡æ¿ C++ Code 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;queue&gt;#include &lt;vector&gt;#define MAX 101using namespace std;int arr[MAX][MAX];bool vis[MAX];int num;struct node&#123; int num; int v; bool operator&lt;(const node &amp;b) const&#123; return v &gt; b.v; &#125;&#125;;int prim(int start)&#123; int ans = 0; priority_queue&lt;node&gt; q; memset(vis, false, sizeof(vis)); node tmp; tmp.num = start; tmp.v = 0; q.push(tmp); for(int k = 0; k &lt; num; k++)&#123; node cur; do&#123; cur = q.top(); q.pop(); &#125;while(vis[cur.num]); vis[cur.num] = true; ans += cur.v; for(int i = 0; i &lt; num; i++)&#123; if(!vis[i] &amp;&amp; arr[cur.num][i] &gt; 0)&#123; node tmp; tmp.num = i; tmp.v = arr[cur.num][i]; q.push(tmp); &#125; &#125; &#125; return ans;&#125;int main()&#123; while(~scanf("%d", &amp;num))&#123; for(int i = 0; i &lt; num; i++)&#123; for(int j = 0; j &lt; num; j++)&#123; scanf("%d", &amp;arr[i][j]); &#125; &#125; int ans = prim(0); printf("%d\n", ans); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æœ€çŸ­è·¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 1094 Sorting It All Out]]></title>
    <url>%2F2018%2F09%2F27%2Fpoj1094%2F</url>
    <content type="text"><![CDATA[æ‹“æ‰‘æŽ’åºï¼ŒåŠ å…¥ä¸€ä¸ªå…³ç³»åŽå°±åˆ¤æ–­ä¸€æ¬¡ï¼Œæ³¨æ„åˆ¤æ–­æŽ’åºä¸èƒ½ç¡®å®šåŽä¸èƒ½é©¬ä¸Šè·³è¿‡ï¼Œè¿˜è¦ç»§ç»­çœ‹çœ‹ä¼šä¸ä¼šå½¢æˆçŽ¯ C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;queue&gt;using namespace std;bool arr[26][26];int n, m;int degree[26];char ans[30];int topoSort()&#123; int ret = 1; int pos = 0; int tmpDegree[26]; memcpy(tmpDegree, degree, sizeof(tmpDegree)); queue&lt;int&gt; q; for(int i = 0; i &lt; n; i++) if(degree[i] == 0) q.push(i); while(!q.empty())&#123; if(q.size() &gt; 1) ret = 0; int cur = q.front(); q.pop(); ans[pos++] = cur + 'A'; for(int i = 0; i &lt; n; i++)&#123; if(arr[cur][i])&#123; tmpDegree[i]--; if(tmpDegree[i] == 0) q.push(i); &#125; &#125; &#125; if(pos &lt; n)&#123; return -1; &#125; ans[pos] = '\0'; return ret;&#125;int main()&#123; char ch[4]; bool flag = false; while(~scanf("%d%d", &amp;n, &amp;m) &amp;&amp; n != 0)&#123; memset(arr, 0, sizeof(arr)); memset(degree, 0, sizeof(degree)); flag = false; for(int i = 0; i &lt; m; i++)&#123; scanf("%s", ch); arr[ch[0]-'A'][ch[2]-'A'] = true; if(flag) continue; degree[ch[2]-'A']++; int topo = topoSort(); if(topo == 1)&#123; flag = true; printf("Sorted sequence determined after %d relations: %s.\n", i+1, ans); &#125;else if(topo == -1)&#123; flag = true; printf("Inconsistency found after %d relations.\n", i+1); &#125; &#125; if(!flag) printf("Sorted sequence cannot be determined.\n"); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æ‹“æ‰‘æŽ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 1789 Truck Historyï¼ˆPrimï¼‰]]></title>
    <url>%2F2018%2F09%2F26%2Fpoj1789%2F</url>
    <content type="text"><![CDATA[æœ€å°ç”Ÿæˆæ ‘ C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;queue&gt;#define M 2000using namespace std;char t[M][10];int arr[M][M];bool vis[M];int num;struct node&#123; int num; int len; bool operator&lt;(const node &amp;b) const&#123; return len &gt; b.len; &#125;&#125;;int dist(int a, int b)&#123; int cnt = 0; for(int i = 0; i &lt; 7; i++)&#123; if(t[a][i] != t[b][i]) cnt++; &#125; return cnt;&#125;int prim(int start)&#123; int ans = 0; priority_queue&lt;node&gt; q; memset(vis, 0, sizeof(vis)); node tmp; tmp.num = start; tmp.len = 0; q.push(tmp); for(int k = 0; k &lt; num; k++)&#123; node cur; do&#123; cur = q.top(); q.pop(); &#125;while(vis[cur.num]); vis[cur.num] = true; ans += cur.len; for(int i = 0; i &lt; num; i++)&#123; if(!vis[i])&#123; node tmp; tmp.num = i; tmp.len = arr[cur.num][i]; q.push(tmp); &#125; &#125; &#125; return ans;&#125;int main()&#123; while(~scanf("%d", &amp;num) &amp;&amp; num != 0)&#123; for(int i = 0; i &lt; num; i++)&#123; scanf("%s", t[i]); &#125; for(int i = 0; i &lt; num; i++)&#123; arr[i][i] = 0; for(int j = i+1; j &lt; num; j++)&#123; arr[i][j] = arr[j][i] = dist(i, j); &#125; &#125; int ans = prim(0); printf("The highest possible quality is 1/%d.\n", ans); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æœ€å°ç”Ÿæˆæ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 2240 Arbitrage]]></title>
    <url>%2F2018%2F09%2F25%2Fpoj2240%2F</url>
    <content type="text"><![CDATA[SPFAæ‰¾æ­£çŽ¯æˆ–è€…ç”¨Floydæ‰¾è‡ªå·±åˆ°è‡ªå·±æœ€é•¿è·¯å¤§äºŽ1çš„ç‚¹ C++ Code SPFA 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;map&gt;#include &lt;queue&gt;#define M 35#define INF 80000000using namespace std;double arr[M][M];bool isInqueue[M];int numInqueue[M];int num, numedge;double dis[M];bool spfa()&#123; memset(numInqueue, 0, sizeof(numInqueue)); memset(isInqueue, 0, sizeof(isInqueue)); queue&lt;int&gt; q; for(int i = 1; i &lt;= num; i++)&#123; dis[i] = INF; q.push(i); isInqueue[i] = true; numInqueue[i]++; &#125; while(!q.empty())&#123; int cur = q.front(); q.pop(); isInqueue[cur] = false; for(int i = 1; i &lt;= num; i++)&#123; if(arr[cur][i] &gt; 0)&#123; if(dis[i] &lt; dis[cur]*arr[cur][i])&#123; dis[i] = dis[cur] * arr[cur][i]; if(!isInqueue[i])&#123; q.push(i); isInqueue[i] = true; numInqueue[i] ++; if(numInqueue[i] &gt;= num) return true; &#125; &#125; &#125; &#125; &#125; return false;&#125;int main()&#123; int ca = 1; while(scanf("%d", &amp;num) &amp;&amp; num != 0)&#123; memset(arr, 0 , sizeof(arr)); map&lt;string, int&gt; m; string name, c1, c2; double rate; for(int i = 1; i &lt;= num; i++)&#123; cin &gt;&gt; name; m[name] = i; &#125; scanf("%d", &amp;numedge); for(int i = 1; i &lt;= numedge; i++)&#123; cin &gt;&gt; c1 &gt;&gt; rate &gt;&gt; c2; arr[m[c1]][m[c2]] = rate; &#125; bool flag = spfa(); if(flag) printf("Case %d: Yes\n", ca++); else printf("Case %d: No\n", ca++); &#125; return 0;&#125; Floyd 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;map&gt;#include &lt;cstring&gt;#include &lt;string&gt;using namespace std;double arr[31][31];double max(double a, double b)&#123; return a &gt; b ? a : b;&#125;int main()&#123; map&lt;string, int&gt; name; int num , m; int a, b; double trans; string cash1, cash2; int ca = 1; while(cin &gt;&gt; num &amp;&amp; num) &#123; memset(arr, 0, sizeof(arr)); for(int i = 0; i &lt; num; i++) &#123; cin &gt;&gt; cash1; name[cash1] = i; &#125; cin &gt;&gt; m; for(int i = 0; i &lt; m; i++) &#123; cin &gt;&gt; cash1; a = name[cash1]; cin &gt;&gt; trans; cin &gt;&gt; cash2; b = name[cash2]; arr[a][b] = trans; &#125; for(int k = 0; k &lt; num; k++) for(int i = 0; i &lt; num; i++) for(int j = 0; j &lt; num; j++) arr[i][j] = max(arr[i][j], arr[i][k]*arr[k][j]); bool flag = false; for(int i = 0; i &lt; num; i++) &#123; if(arr[i][i] &gt; 1) &#123; cout &lt;&lt; "Case " &lt;&lt; ca++ &lt;&lt; ": Yes" &lt;&lt;endl; flag = true; break; &#125; &#125; if(!flag) printf("Case %d: No\n", ca++); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æœ€çŸ­è·¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 1125 Stockbroker Grapevine]]></title>
    <url>%2F2018%2F09%2F24%2Fpoj1125%2F</url>
    <content type="text"><![CDATA[Floyd C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#define M 101#define INF 1000000using namespace std;int arr[M][M];int main()&#123; int num, contact; int to, cost; while(scanf("%d", &amp;num) &amp;&amp; num != 0)&#123; for(int i = 1; i &lt;= num; i++)&#123; for(int j = 1; j &lt;= num; j++)&#123; if(i == j) arr[i][j] = 0; else arr[i][j] = INF; &#125; &#125; for(int i = 1; i &lt;= num; i++)&#123; scanf("%d", &amp;contact); for(int j = 0; j &lt; contact; j++)&#123; scanf("%d%d", &amp;to, &amp;cost); arr[i][to] = cost; &#125; &#125; for(int k = 1; k &lt;= num; k++)&#123; for(int i = 1; i &lt;= num; i++)&#123; for(int j = 1; j &lt;= num; j++)&#123; arr[i][j] = min(arr[i][j], arr[i][k] + arr[k][j]); &#125; &#125; &#125; bool flag = false; int mi = INF; int pos; for(int i = 1; i &lt;= num; i++)&#123; flag = false; int mx = -1; for(int j = 1; j &lt;= num; j++)&#123; if(arr[i][j] &gt;= INF)&#123; flag = true; break; &#125; mx = max(mx, arr[i][j]); &#125; if(flag == false &amp;&amp; mi &gt; mx)&#123; mi = mx; pos = i; &#125; &#125; if(mi == INF) printf("disjoint\n"); else printf("%d %d\n", pos, mi); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æœ€çŸ­è·¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 2253 Froggerï¼ˆFloydï¼‰]]></title>
    <url>%2F2018%2F09%2F23%2Fpoj2253%2F</url>
    <content type="text"><![CDATA[åˆ©ç”¨Floydçš„æ›´æ–°ç­–ç•¥ï¼Œåªä¸è¿‡æŠŠè¦æ›´æ–°çš„å€¼ç±»åž‹ä»Žæœ€çŸ­è·¯å˜æˆæœ€å¤§è·¨åº¦ã€‚è¾“å‡ºç”¨%lf WAæ­»æˆ‘äº†ï¼Œæ”¹ç”¨%fæˆ–coutå°±å¥½äº†ã€‚ C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;math.h&gt;#define MAX 202using namespace std;struct node&#123; double x; double y;&#125;stones[MAX];double arr[MAX][MAX];int main()&#123; int num; int ca = 1; while(~scanf("%d", &amp;num) &amp;&amp; num != 0)&#123; for(int i = 0; i &lt; num; i++)&#123; scanf("%lf%lf", &amp;stones[i].x, &amp;stones[i].y); &#125; for(int i = 0; i &lt; num; i++)&#123; arr[i][i] = 0; for(int j = i+1; j &lt; num; j++)&#123; arr[i][j] = arr[j][i] = sqrt((stones[i].x - stones[j].x)*(stones[i].x - stones[j].x) + (stones[i].y - stones[j].y)*(stones[i].y - stones[j].y)); &#125; &#125; for(int k = 0; k &lt; num; k++)&#123; for(int i = 0; i &lt; num; i++)&#123; for(int j = 0; j &lt; num; j++)&#123; arr[i][j] = min(arr[i][j], max(arr[i][k], arr[k][j])); &#125; &#125; &#125; printf("Scenario #%d\n", ca++); printf("Frog Distance = %.3f\n\n", (arr[0][1])); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æœ€çŸ­è·¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 1062 æ˜‚è´µçš„è˜ç¤¼]]></title>
    <url>%2F2018%2F09%2F22%2Fpoj1062%2F</url>
    <content type="text"><![CDATA[æ¯ä¸ªç‰©å“æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½“å‰disæ˜¯ç›´æŽ¥ç”¨é’±æ¢çš„ä»·å€¼ï¼Œä»Žè¢«ç”³è¯·äº¤æ¢çš„ç‰©å“å‘ç”³è¯·äº¤æ¢çš„ç‰©å“æ–¹å‘å»ºè¾¹ï¼Œè¾¹æƒæ˜¯äº¤æ¢åŽè¿˜éœ€è¦çš„ä¼˜æƒ ä»·ã€‚è‡³äºŽç­‰çº§çš„é™åˆ¶ï¼Œå› ä¸ºæœ€åŽä¸€å®šè¦å’Œé…‹é•¿äº¤æ¢ï¼Œå¦åˆ™ç­”æ¡ˆå°±æ˜¯é…‹é•¿ç»™å‡ºçš„åŽŸä»·ï¼Œæ‰€ä»¥å°†æ‰€æœ‰åŒ…å«é…‹é•¿çš„ç­‰çº§é•¿ä¸ºmçš„åŒºé—´éƒ½æžšä¸¾å‡ºæ¥ï¼Œæ±‚æ‰€æœ‰ç‚¹åˆ°é…‹é•¿çš„æœ€çŸ­è·¯ï¼Œspfaå°±ç›´æŽ¥æŠŠæ‰€æœ‰ç‚¹pushä¸€éåˆ°queueä¸­å°±è¡Œã€‚ C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;queue&gt;#include &lt;math.h&gt;#define MAX_NODE 101#define INF 0x7fffffffusing namespace std;int arr[MAX_NODE][MAX_NODE];int ranks[MAX_NODE];int cost[MAX_NODE];int dis[MAX_NODE];bool isInqueue[MAX_NODE];int m, n;int p, l, x;int t, v;bool spfa(int pos)&#123; memset(isInqueue, 0, sizeof(isInqueue)); queue&lt;int&gt; q; for(int i = 1; i &lt;= n; i++)&#123; dis[i] = cost[i]; if(ranks[i] &gt;= ranks[1]-m+pos &amp;&amp; ranks[i] &lt;= ranks[1]+pos)&#123; q.push(i); isInqueue[i] = true; &#125; &#125; while(!q.empty())&#123; int cur = q.front(); q.pop(); isInqueue[cur] = false; for(int i = 1; i &lt;= n; i++)&#123; if(arr[cur][i] &gt; 0 &amp;&amp; (ranks[i] &gt;= ranks[1]-m+pos &amp;&amp; ranks[i] &lt;= ranks[1]+pos))&#123; if(dis[i] &gt; arr[cur][i] + dis[cur])&#123; dis[i] = arr[cur][i] + dis[cur]; if(!isInqueue[i])&#123; isInqueue[i] = true; q.push(i); &#125; &#125; &#125; &#125; &#125;&#125;int main()&#123; while(~scanf("%d%d", &amp;m, &amp;n))&#123; memset(arr, -1, sizeof(arr)); for(int i = 1; i &lt;= n; i++)&#123; scanf("%d%d%d", &amp;p, &amp;l, &amp;x); cost[i] = dis[i] = p; ranks[i] = l; for(int j = 0; j &lt; x; j++)&#123; scanf("%d%d", &amp;t, &amp;v); arr[t][i] = v; &#125; &#125; int mi = INF; for(int i = 0; i &lt;= m; i++)&#123; spfa(i); mi = min(mi, dis[1]); &#125; printf("%d\n", mi); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æœ€çŸ­è·¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 3259 Wormholes]]></title>
    <url>%2F2018%2F09%2F21%2Fpoj3259%2F</url>
    <content type="text"><![CDATA[åŒæ ·åˆ¤æ–­æ˜¯å¦å­˜åœ¨è´ŸçŽ¯/æ­£çŽ¯çš„æœ€çŸ­è·¯/æœ€é•¿è·¯é—®é¢˜ï¼Œç”¨SPFAæˆ–Bellman-Fordç›´æŽ¥æ±‚è´ŸçŽ¯å°±è¡Œ C++ Code è¿™æ˜¯è¿™æ¬¡å†™çš„SPFAçš„ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;queue&gt;#define MAX_NODE 501#define MAX_EDGE 5402#define INF 1e9using namespace std;int ca, n, m, w;int head[MAX_NODE];int cnt;int dis[MAX_NODE];bool isInqueue[MAX_NODE];int num_inqueue[MAX_NODE];struct edge&#123; int v; int cap; int nex;&#125;edges[MAX_EDGE];void add(int s, int t, int cap)&#123; edges[cnt].cap = cap; edges[cnt].v = t; edges[cnt].nex = head[s]; head[s] = cnt++;&#125;bool spfa(int start)&#123; queue&lt;int&gt; q; while(!q.empty()) q.pop(); memset(num_inqueue, 0, sizeof(num_inqueue)); memset(isInqueue, false, sizeof(isInqueue)); for(int i = 0; i &lt; MAX_NODE; i++) dis[i] = INF; dis[start] = 0; q.push(start); isInqueue[start] = true; while(!q.empty())&#123; int cur = q.front(); q.pop(); isInqueue[cur] = false; for(int pos = head[cur]; pos != -1; pos = edges[pos].nex)&#123; int v = edges[pos].v; if(dis[v] &gt; dis[cur] + edges[pos].cap)&#123; dis[v] = dis[cur] + edges[pos].cap; if(!isInqueue[v])&#123; q.push(v); isInqueue[v] = true; num_inqueue[v]++; if(num_inqueue[v] &gt;= n) return true; &#125; &#125; &#125; &#125; return false;&#125;int main()&#123; int from, to, cap; scanf("%d", &amp;ca); while(ca--)&#123; cnt = 0; memset(head, -1, sizeof(head)); scanf("%d%d%d", &amp;n, &amp;m, &amp;w); for(int i = 0; i &lt; m; i++)&#123; scanf("%d%d%d", &amp;from, &amp;to, &amp;cap); add(from, to, cap); add(to, from, cap); &#125; for(int i = 0; i &lt; w; i++)&#123; scanf("%d%d%d", &amp;from, &amp;to, &amp;cap); add(from, to, -cap); &#125; bool ans = spfa(1); if(ans) printf("YES\n"); else printf("NO\n"); &#125; return 0;&#125; ç¿»æ¨¡æ¿çš„æ—¶å€™å‘çŽ°äº†å‡ å¹´å‰å†™çš„æ—¶å€™ç”¨Bellman-Fordçš„ç‰ˆæœ¬ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;string.h&gt;#define INF 0x3f3f3f3fusing namespace std;struct node&#123; int u, v, cap;&#125;edge[5040];int cnt;int dis[520];int n, m, w;int Bellman_Ford()&#123; int i; for(i = 1; i &lt;= n; i++) dis[i] = INF; dis[1] = 0; for(i = 1; i &lt;= n; i++) &#123; int flag = 0; for(int j = 0; j &lt; cnt; j++) &#123; if(dis[edge[j].v] &gt; dis[edge[j].u] + edge[j].cap) &#123; flag = 1; dis[edge[j].v] = dis[edge[j].u] + edge[j].cap; &#125; &#125; if(flag == 0) break; &#125; return (i == n+1);&#125;void add(int u, int v, int c)&#123; edge[cnt].u = u; edge[cnt].v = v; edge[cnt++].cap = c;&#125;int main()&#123; int ca; scanf("%d", &amp;ca); while(ca--) &#123; scanf("%d%d%d", &amp;n, &amp;m, &amp;w); cnt = 0; int a, b, c; while(m--) &#123; scanf("%d%d%d", &amp;a, &amp;b, &amp;c); add(a, b, c); add(b, a, c); &#125; while(w--) &#123; scanf("%d%d%d", &amp;a, &amp;b, &amp;c); add(a, b, -c); &#125; int ans = Bellman_Ford(); if(ans == 1) printf("YES\n"); else printf("NO\n"); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æœ€çŸ­è·¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 1860 Currency Exchangeï¼ˆSPFAï¼‰]]></title>
    <url>%2F2018%2F09%2F20%2Fpoj1860%2F</url>
    <content type="text"><![CDATA[åˆ¤æ–­æ˜¯å¦å­˜åœ¨è´ŸçŽ¯/æ­£çŽ¯çš„æœ€çŸ­è·¯/æœ€é•¿è·¯é—®é¢˜ï¼ŒæŠŠæ¯ç§è´§å¸å½“ä½œèŠ‚ç‚¹ï¼Œå…‘æ¢è´§å¸å°±æ˜¯å›¾ä¸Šçš„æœ‰å‘è¾¹ï¼Œä½¿ç”¨SPFAæŸ¥æ‰¾æ˜¯å¦ä¼šè®©èµ·ç‚¹è¿›å…¥ä¸€ä¸ªæ­£çŽ¯å°±è¡Œäº† C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;queue&gt;#define MAX 101#define INF 1e9using namespace std;double rate[MAX][MAX];double com[MAX][MAX];queue&lt;int&gt; q;bool isInqueue[MAX];double dis[MAX];int n, m, start;double v;int c1, c2;bool spfa()&#123; dis[start] = v; q.push(start); isInqueue[start] = true; while(!q.empty())&#123; int cur = q.front(); q.pop(); isInqueue[cur] = false; for(int i = 1; i &lt;= n; i++)&#123; if(dis[i] &lt; (dis[cur] - com[cur][i])*rate[cur][i])&#123; dis[i] = (dis[cur] - com[cur][i])*rate[cur][i]; if(!isInqueue[i])&#123; q.push(i); isInqueue[i] = true; &#125; &#125; &#125; if(dis[start] &gt; v) return true; &#125; return false;&#125;int main()&#123; while(~scanf("%d%d%d%lf", &amp;n, &amp;m, &amp;start, &amp;v))&#123; memset(rate, 0, sizeof(rate)); memset(com, 0, sizeof(com)); memset(isInqueue, 0, sizeof(isInqueue)); for(int i = 0; i &lt; MAX; i++)&#123; dis[i] = -INF; &#125; while(!q.empty())&#123; q.pop(); &#125; for(int i = 0; i &lt; m; i++)&#123; scanf("%d%d", &amp;c1, &amp;c2); scanf("%lf%lf%lf%lf", &amp;rate[c1][c2], &amp;com[c1][c2], &amp;rate[c2][c1], &amp;com[c2][c1]); &#125; bool isIncrease = spfa(); if(isIncrease)&#123; printf("YES\n"); &#125;else&#123; printf("NO\n"); &#125; &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æœ€çŸ­è·¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 2996 Help Me with the Game]]></title>
    <url>%2F2018%2F09%2F19%2Fpoj2996%2F</url>
    <content type="text"><![CDATA[åˆæ˜¯å¤§æ¨¡æ‹Ÿï¼Œæ³¨æ„é»‘ç™½çš„è¿­ä»£é¡ºåºä¸å¤§ä¸€æ ·ï¼Œå’Œpoj2993ç›¸åçš„é¢˜ç›®ï¼ˆ2993ä¸åšäº†ðŸ˜‚ï¼Œå•çº¯å°±æ˜¯åœ¨å„ç§æ“ä½œå­—ç¬¦ä¸²ï¼‰ C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;vector&gt;using namespace std;int main()&#123; vector&lt;string&gt; white[6]; vector&lt;string&gt; black[6]; char tmp[100]; char board[8][8]; memset(board, 0, sizeof(board)); for(int i = 7; i &gt;= 0; i--)&#123; scanf("%s", tmp); scanf("%s", tmp); for(int j = 0; j &lt; 8; j++)&#123; board[i][j] = tmp[2+j*4]; &#125; &#125; scanf("%s", tmp); for(int i = 0; i &lt; 8; i++)&#123; for(int j = 0; j &lt; 8; j++)&#123; if(board[i][j] == 'K')&#123; string pushStr = "Ka1"; pushStr[1] = 'a' + j; pushStr[2] = '1' + i; white[0].push_back(pushStr); &#125;else if(board[i][j] == 'Q')&#123; string pushStr = "Qa1"; pushStr[1] = 'a' + j; pushStr[2] = '1' + i; white[1].push_back(pushStr); &#125;else if(board[i][j] == 'R')&#123; string pushStr = "Ra1"; pushStr[1] = 'a' + j; pushStr[2] = '1' + i; white[2].push_back(pushStr); &#125;else if(board[i][j] == 'B')&#123; string pushStr = "Ba1"; pushStr[1] = 'a' + j; pushStr[2] = '1' + i; white[3].push_back(pushStr); &#125;else if(board[i][j] == 'N')&#123; string pushStr = "Na1"; pushStr[1] = 'a' + j; pushStr[2] = '1' + i; white[4].push_back(pushStr); &#125;else if(board[i][j] == 'P')&#123; string pushStr = "a1"; pushStr[0] = 'a' + j; pushStr[1] = '1' + i; white[5].push_back(pushStr); &#125; &#125; &#125; for(int i = 7; i &gt;= 0; i--)&#123; for(int j = 0; j &lt; 8; j++)&#123; if(board[i][j] == 'k')&#123; string pushStr = "Ka1"; pushStr[1] = 'a' + j; pushStr[2] = '1' + i; black[0].push_back(pushStr); &#125;else if(board[i][j] == 'q')&#123; string pushStr = "Qa1"; pushStr[1] = 'a' + j; pushStr[2] = '1' + i; black[1].push_back(pushStr); &#125;else if(board[i][j] == 'r')&#123; string pushStr = "Ra1"; pushStr[1] = 'a' + j; pushStr[2] = '1' + i; black[2].push_back(pushStr); &#125;else if(board[i][j] == 'b')&#123; string pushStr = "Ba1"; pushStr[1] = 'a' + j; pushStr[2] = '1' + i; black[3].push_back(pushStr); &#125;else if(board[i][j] == 'n')&#123; string pushStr = "Na1"; pushStr[1] = 'a' + j; pushStr[2] = '1' + i; black[4].push_back(pushStr); &#125;else if(board[i][j] == 'p')&#123; string pushStr = "a1"; pushStr[0] = 'a' + j; pushStr[1] = '1' + i; black[5].push_back(pushStr); &#125; &#125; &#125; bool flag = false; printf("White:"); for(int i = 0; i &lt; 6; i++)&#123; for(int j = 0; j &lt; white[i].size(); j++)&#123; if(flag == false)&#123; printf(" "); flag = true; &#125; else printf(","); cout &lt;&lt; white[i][j]; &#125; &#125; flag = false; printf("\nBlack:"); for(int i = 0; i &lt; 6; i++)&#123; for(int j = 0; j &lt; black[i].size(); j++)&#123; if(flag == false)&#123; printf(" "); flag = true; &#125; else printf(","); cout &lt;&lt; black[i][j]; &#125; &#125; printf("\n"); return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æ¨¡æ‹Ÿæ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 1573 Robot Motion]]></title>
    <url>%2F2018%2F09%2F18%2Fpoj1573%2F</url>
    <content type="text"><![CDATA[å¤§æ¨¡æ‹Ÿï¼Œå°±é…± C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;using namespace std;char arr[500][500];int flags[500][500];int main()&#123; int n, m, start; while(~scanf("%d%d%d", &amp;n, &amp;m, &amp;start) &amp;&amp; n != 0)&#123; memset(flags, -1, sizeof(flags)); for(int i = 1; i &lt;= n; i++)&#123; scanf("%s", &amp;arr[i][1]); &#125; int x = 1; int y = start; int cnt = 0; while(x &gt;= 1 &amp;&amp; x &lt;= n &amp;&amp; y &gt;= 1 &amp;&amp; y &lt;= m)&#123; if(flags[x][y] != -1)&#123; printf("%d step(s) before a loop of %d step(s)\n", flags[x][y], cnt-flags[x][y]); break; &#125;else&#123; flags[x][y] = cnt++; &#125; if(arr[x][y] == 'W') y-=1; else if(arr[x][y] == 'E') y+=1; else if(arr[x][y] == 'N') x-=1; else if(arr[x][y] == 'S') x+=1; &#125; if(!(x &gt;= 1 &amp;&amp; x &lt;= n &amp;&amp; y &gt;= 1 &amp;&amp; y &lt;= m)) printf("%d step(s) to exit\n", cnt); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æ¨¡æ‹Ÿæ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 2632 Crashing Robots]]></title>
    <url>%2F2018%2F09%2F16%2Fpoj2632%2F</url>
    <content type="text"><![CDATA[æ¨¡æ‹Ÿæœºå™¨äººèµ°çš„åºåˆ—ï¼Œç”¨ä¸€ä¸ªæ•°ç»„æ ‡è®°å½“å‰æ¯ä¸ªä½ç½®æ˜¯å¦æœ‰æœºå™¨äººä»¥åŠæœºå™¨äººçš„ç¼–å·å°±è¡Œ C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;using namespace std;struct robot&#123; int x; int y; int dir;&#125;robots[101];int main()&#123; int ca; int num, step; int A, B, N, M; char tmp; int arr[101][101]; bool flag; scanf("%d", &amp;ca); while(ca--)&#123; flag = true; memset(arr, 0, sizeof(arr)); scanf("%d%d%d%d", &amp;A, &amp;B, &amp;N, &amp;M); for(int i = 1; i &lt;= N; i++)&#123; scanf("%d%d", &amp;robots[i].x, &amp;robots[i].y); arr[robots[i].x][robots[i].y] = i; getchar(); scanf("%c", &amp;tmp); if(tmp == 'W') robots[i].dir = 0; else if(tmp == 'N') robots[i].dir = 1; else if(tmp == 'E') robots[i].dir = 2; else if(tmp == 'S') robots[i].dir = 3; &#125; for(int i = 0; i &lt; M; i++)&#123; scanf("%d", &amp;num); getchar(); scanf("%c", &amp;tmp); scanf("%d", &amp;step); if(flag == false) continue; if(tmp == 'F')&#123; if(robots[num].dir == 0)&#123; for(int j = 1; j &lt;= step &amp;&amp; robots[num].x-j &gt; 0; j++)&#123; if(arr[robots[num].x - j][robots[num].y] != 0)&#123; printf("Robot %d crashes into robot %d\n", num, arr[robots[num].x-j][robots[num].y]); flag = false; break; &#125; &#125; if(flag == false) continue; if(robots[num].x-step &gt; 0)&#123; arr[robots[num].x][robots[num].y] = 0; robots[num].x -= step; arr[robots[num].x][robots[num].y] = num; &#125;else&#123; printf("Robot %d crashes into the wall\n", num); flag = false; &#125; &#125;else if(robots[num].dir == 1)&#123; for(int j = 1; j &lt;= step &amp;&amp; robots[num].y+j &lt;= B; j++)&#123; if(arr[robots[num].x][robots[num].y+j] != 0)&#123; printf("Robot %d crashes into robot %d\n", num, arr[robots[num].x][robots[num].y+j]); flag = false; break; &#125; &#125; if(flag == false) continue; if(robots[num].y+step &lt;= B)&#123; arr[robots[num].x][robots[num].y] = 0; robots[num].y += step; arr[robots[num].x][robots[num].y] = num; &#125;else&#123; printf("Robot %d crashes into the wall\n", num); flag = false; &#125; &#125;else if(robots[num].dir == 2)&#123; for(int j = 1; j &lt;= step &amp;&amp; robots[num].x+j &lt;= A; j++)&#123; if(arr[robots[num].x + j][robots[num].y] != 0)&#123; printf("Robot %d crashes into robot %d\n", num, arr[robots[num].x+j][robots[num].y]); flag = false; break; &#125; &#125; if(flag == false) continue; if(robots[num].x+step &lt;= A)&#123; arr[robots[num].x][robots[num].y] = 0; robots[num].x += step; arr[robots[num].x][robots[num].y] = num; &#125;else&#123; printf("Robot %d crashes into the wall\n", num); flag = false; &#125; &#125;else if(robots[num].dir == 3)&#123; for(int j = 1; j &lt;= step &amp;&amp; robots[num].y-j &gt; 0; j++)&#123; if(arr[robots[num].x][robots[num].y-j] != 0)&#123; printf("Robot %d crashes into robot %d\n", num, arr[robots[num].x][robots[num].y-j]); flag = false; break; &#125; &#125; if(flag == false) continue; if(robots[num].y-step &gt; 0)&#123; arr[robots[num].x][robots[num].y] = 0; robots[num].y -= step; arr[robots[num].x][robots[num].y] = num; &#125;else&#123; printf("Robot %d crashes into the wall\n", num); flag = false; &#125; &#125; &#125;else if(tmp == 'L')&#123; robots[num].dir = (robots[num].dir - (step%4) + 4) % 4; &#125;else if(tmp == 'R')&#123; robots[num].dir = (robots[num].dir + (step%4) + 4) % 4; &#125; &#125; if(flag == true) printf("OK\n"); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æ¨¡æ‹Ÿæ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 1068 Parencodings]]></title>
    <url>%2F2018%2F09%2F15%2Fpoj1068%2F</url>
    <content type="text"><![CDATA[ç»™å®šæ‹¬å·ä¸²çš„ä¸¤ç§ç¼–ç ï¼Œç¬¬ä¸€ç§æ˜¯æ˜¾ç¤ºæ¯ä¸ªå³æ‹¬å·å·¦è¾¹æœ‰å¤šå°‘ä¸ªå·¦æ‹¬å·ï¼Œç¬¬äºŒç§æ˜¾ç¤ºæ¯ä¸ªå³æ‹¬å·ä¸Žå…¶åŒ¹é…çš„å·¦æ‹¬å·é—´æœ‰å¤šå°‘ä¸ªå³æ‹¬å·ï¼ˆåŒ…æ‹¬è‡ªå·±ï¼‰ï¼Œç»™å‡ºç¬¬ä¸€ç§ç¼–ç ï¼Œæ±‚ç¬¬äºŒç§ç¼–ç  å¯ä»¥ç›´æŽ¥æ¨¡æ‹Ÿï¼Œç®—å‡ºåŽŸæ‹¬å·ä¸²ç„¶åŽåŽ»æ•°å‡ºç¬¬äºŒç§ç¼–ç ï¼Œä¹Ÿå¯ä»¥å®šä½ä¸Žå³æ‹¬å·åŒ¹é…çš„å·¦æ‹¬å·åœ¨å“ªä¸ªå³æ‹¬å·åˆ†å‰²å‡ºçš„åŒºé—´å†…ï¼Œå³ç»™å‡ºçš„ç¬¬ä¸€ç§ç¼–ç ä¸¤ä¸ªæ•°ä¹‹é—´æ˜¯ä¸¤ä¸ªç›¸é‚»å³æ‹¬å·ä¹‹é—´çš„å·¦æ‹¬å·æ•°ï¼Œæ‰¾çš„æ—¶å€™å°±ä»Žå·¦è¾¹ç›¸é‚»çš„å³æ‹¬å·å¼€å§‹æžšä¸¾ï¼Œæ¯æ¬¡åŠ ä¸€ä¸ªå³æ‹¬å·æ•°num_rightåŒæ—¶åŠ ä¸Šä¸­é—´ç›¸åº”çš„å·¦æ‹¬å·æ•°num_leftç›´åˆ°num_left &gt; num_rightä¸ºæ­¢ C++ Code 1234567891011121314151617181920212223242526272829303132333435363738#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;using namespace std;int main()&#123; int ca; int num; int diff[25]; int arr[25]; arr[0] = 0; scanf("%d", &amp;ca); while(ca--)&#123; memset(diff, 0, sizeof(diff)); scanf("%d", &amp;num); for(int i = 1; i &lt;= num; i++)&#123; scanf("%d", &amp;arr[i]); diff[i] = arr[i] - arr[i-1]; &#125; for(int i = 1; i &lt;= num; i++)&#123; int j = i; /*number of right parentheses between (j-1)th and (i)th right parentheses, including (i)th*/ int num_right = 1; /*number of left parentheses between (j-1)th and (i)th right parentheses*/ int num_left = diff[j]; while(num_right &gt; num_left)&#123; num_right += 1; j--; num_left += diff[j]; &#125; printf("%d ", num_right); &#125; printf("\n"); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æ¨¡æ‹Ÿæ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 3295 Tautology]]></title>
    <url>%2F2018%2F09%2F15%2Fpoj3295%2F</url>
    <content type="text"><![CDATA[æ±‚ä¸€ä¸ªå¼å­æ˜¯å¦æ˜¯é‡è¨€å¼ï¼Œç¬¦å·åœ¨å‰ï¼Œç›´æŽ¥æž„é€ ä¸€ä¸ªæ ˆæ¥æžšä¸¾å¹¶æ±‚å‡ºå¼å­æ˜¯å¦éƒ½ä¸ºçœŸ C++ Code 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;using namespace std;bool valid(char* wff, int num)&#123; bool st[101]; int top = 0; int len = strlen(wff); for(int i = len-1; i &gt;= 0; i--)&#123; if(wff[i] == 'p')&#123; st[top++] = ((1&amp;num) == 1); &#125;else if(wff[i] == 'q')&#123; st[top++] = (((1&lt;&lt;1)&amp;num) == (1&lt;&lt;1)); &#125;else if(wff[i] == 'r')&#123; st[top++] = (((1&lt;&lt;2)&amp;num) == (1&lt;&lt;2)); &#125;else if(wff[i] == 's')&#123; st[top++] = (((1&lt;&lt;3)&amp;num) == (1&lt;&lt;3)); &#125;else if(wff[i] == 't')&#123; st[top++] = (((1&lt;&lt;4)&amp;num) == (1&lt;&lt;4)); &#125;else if(wff[i] == 'K')&#123; st[top-2] = (st[top-1] &amp;&amp; st[top-2]); top--; &#125;else if(wff[i] == 'A')&#123; st[top-2] = (st[top-1] || st[top-2]); top--; &#125;else if(wff[i] == 'C')&#123; st[top-2] = ((!st[top-2]) || st[top-1]); top--; &#125;else if(wff[i] == 'E')&#123; st[top-2] = (st[top-1] == st[top-2]); top--; &#125;else if(wff[i] == 'N')&#123; st[top-1] = !st[top-1]; &#125; &#125; return st[0];&#125;int main()&#123; char wff[101]; bool flag; while(scanf("%s", wff) &amp;&amp; strcmp(wff, "0") != 0)&#123; flag = true; for(int i = 0; i &lt; (1&lt;&lt;5); i++)&#123; if(valid(wff, i) == false)&#123; flag = false; break; &#125; &#125; if(flag) printf("tautology\n"); else printf("not\n"); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æž„é€ æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 2586 Y2K Accounting Bug]]></title>
    <url>%2F2018%2F09%2F14%2Fpoj2586%2F</url>
    <content type="text"><![CDATA[ç»™å‡ºç›ˆåˆ©å’ŒäºæŸçš„å›ºå®šå€¼ï¼Œä»»æ„è¿žç»­äº”ä¸ªæœˆéƒ½æ˜¯äºæŸçš„ï¼Œé—®æœ€å¤§èƒ½å¤Ÿç›ˆåˆ©å¤šå°‘ã€‚ å…ˆæ±‚å‡º5ä¸ªæœˆä¸­èƒ½å¤Ÿæœ€å°åŒ–äºæŸçš„ç»„åˆç„¶åŽä¾æ¬¡å¾ªçŽ¯ï¼ŒæŽ’åˆ—ä¸­åº”å°½é‡å°†ç›ˆåˆ©æœˆæŽ’åœ¨å‰é¢ï¼Œè¿™æ ·æœ€åŽä¸¤ä¸ªæœˆæ‰èƒ½æœ€å¤§åŒ–ç›ˆåˆ©ã€‚ C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;stdio.h&gt;using namespace std;int main()&#123; int s, d; while(~scanf("%d%d", &amp;s, &amp;d)) &#123; if(s*4 &lt; d) &#123; if(10*s &gt; 2*d) &#123; printf("%d\n", 10*s - 2*d); &#125; else &#123; printf("Deficit\n"); &#125; &#125; else if(s*3 &lt; d*2) &#123; if(8*s &gt; 4*d) &#123; printf("%d\n", 8*s - 4*d); &#125; else &#123; printf("Deficit\n"); &#125; &#125; else if(s*2 &lt; d*3) &#123; if(6*s &gt; 6*d) &#123; printf("%d\n", 6*s - 6*d); &#125; else &#123; printf("Deficit\n"); &#125; &#125; else if(s &lt; d*4) &#123; if(3*s &gt; 9*d) &#123; printf("%d\n", 3*s - 9*d); &#125; else &#123; printf("Deficit\n"); &#125; &#125; else &#123; printf("Deficit\n"); &#125; &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>è´ªå¿ƒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 2109 Power of Cryptography]]></title>
    <url>%2F2018%2F09%2F13%2Fpoj2109%2F</url>
    <content type="text"><![CDATA[ç»™ä¸¤ä¸ªæ•°n, pï¼Œæ±‚kä½¿å¾—kçš„næ¬¡æ–¹ç­‰äºŽpã€‚ç†è®ºä¸Šåº”è¯¥ä½¿ç”¨å¤§æ•°æ¥ä¿è¯ç²¾åº¦ï¼Œä½†æ˜¯è¿™é¢˜ç”¨C++ç¼–è¯‘å™¨çš„æƒ…å†µä¸‹ç›´æŽ¥powä¹Ÿæ˜¯å¯ä»¥çš„ã€‚å¤§æ•°çš„ä»£ç ä»ŠåŽæœ‰æ—¶é—´è°ƒè¯•å¥½åŽè¡¥ä¸Šã€‚ C++ Code 123456789101112131415/*Only C++ compiler can Accepted*/#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;math.h&gt;using namespace std;int main()&#123; double n, p; while(~scanf("%lf%lf", &amp;n, &amp;p))&#123; printf("%.0lf\n", pow(p, 1/n)); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>è´ªå¿ƒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 1328 Radar Installation]]></title>
    <url>%2F2018%2F09%2F12%2Fpoj1328%2F</url>
    <content type="text"><![CDATA[é¢„å¤„ç†å‡ºæ¯ä¸ªå²›æ‰€èƒ½å®¹è®¸çš„é›·è¾¾èŒƒå›´ï¼ŒæŒ‰ç…§å³ç«¯ç‚¹æŽ’åºï¼Œæ¯æ¬¡éƒ½æ–°æ”¾ç½®ä¸€ä¸ªåœ¨æ–°çº¿æ®µçš„å³è¾¹ï¼Œç„¶åŽå¾€åŽæ‰¾å“ªä¸ªçš„å·¦ç«¯ç‚¹å¤Ÿä¸ç€äº†ï¼Œå†æ”¾åœ¨è¿™ä¸ªçº¿æ®µçš„å³ç«¯ç‚¹ï¼Œä»¥æ­¤ç±»æŽ¨ C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;math.h&gt;using namespace std;struct land&#123; double l; double r; int y; bool operator&lt;(const land&amp; b) const&#123; if(r == b.r)&#123; return l &lt; b.l; &#125; return r &lt; b.r; &#125;&#125;lands[1000];int main()&#123; int n, d; int cas = 1; bool flag = true; int cnt = 1; while(~scanf("%d%d", &amp;n, &amp;d) &amp;&amp; n != 0)&#123; flag = true; cnt = 1; int x; for(int i = 0; i &lt; n; i++)&#123; scanf("%d%d", &amp;x, &amp;lands[i].y); if(lands[i].y &gt; d || lands[i].y &lt; 0) flag = false; lands[i].l = x - sqrt(d*d - lands[i].y*lands[i].y); lands[i].r = x + sqrt(d*d - lands[i].y*lands[i].y); &#125; if(flag == false)&#123; printf("Case %d: %d\n", cas++, -1); continue; &#125; sort(lands, lands+n); double cur = lands[0].r; for(int i = 1; i &lt; n; i++)&#123; if(lands[i].l &gt; cur)&#123; cur = lands[i].r; cnt++; &#125; &#125; printf("Case %d: %d\n", cas++, cnt); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>è´ªå¿ƒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 2965 The Pilots Brothers' refrigerator]]></title>
    <url>%2F2018%2F09%2F11%2Fpoj2965%2F</url>
    <content type="text"><![CDATA[ä¸ƒç¯é—®é¢˜å˜å½¢ï¼Œä¸€å…±æœ‰16ä¸ªå¼€å…³ï¼Œé€’å½’æžšä¸¾å˜åŠ¨çš„ä¸ªæ•° C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;using namespace std;bool isSame(int* pan)&#123; for(int i = 0; i &lt; 16; i++)&#123; if(pan[i] != 1) return false; &#125; return true;&#125;void flip(int* pan, int pos)&#123; int x = pos / 4; int y = pos % 4; pan[pos] = !(pan[pos]); for(int i = 0; i &lt; 4; i++)&#123; pan[4*x + i] = !(pan[4*x + i]); pan[4*i + y] = !(pan[4*i + y]); &#125;&#125;void dfs(int* pan, int cur, int* ans, int curPos, int* result, int* tmpResult)&#123; if(isSame(pan))&#123; *ans = min((int)(*ans), cur); for(int i = 0; i &lt; (int)(*ans); i++) result[i] = tmpResult[i]; return; &#125; if(curPos == 16) return; dfs(pan, cur, ans, curPos+1, result, tmpResult); flip(pan, curPos); tmpResult[cur] = curPos; dfs(pan, cur+1, ans, curPos+1, result, tmpResult); flip(pan, curPos);&#125;int main()&#123; int pan[16]; char row[5]; int pos = 0; int result[16]; int tmpResult[16]; for(int i = 0; i &lt; 4; i++)&#123; scanf("%s", row); getchar(); for(int j = 0; j &lt; 4; j++)&#123; if(row[j] == '+') pan[pos++] = 0; else pan[pos++] = 1; &#125; &#125; int ans = 20; dfs(pan, 0, &amp;ans, 0, result, tmpResult); printf("%d\n", ans); for(int j = 0; j &lt; ans; j++)&#123; printf("%d %d\n", result[j]/4 + 1, result[j]%4 + 1); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æžšä¸¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[POJ 1753 Flip Game]]></title>
    <url>%2F2018%2F09%2F10%2Fpoj1753%2F</url>
    <content type="text"><![CDATA[å¤ªä¹…ä¸ç»ƒå®žåœ¨æ˜¯æ‰‹ç”Ÿå•Šï¼Œå¹²è„†ä»ŽPOJçš„åˆ†ç±»é¢˜ç›®å¼€å§‹é‡æ–°è®­ç»ƒã€‚è™½ç„¶ç ”ç©¶åƒ§æ—¶é—´è¿˜æ˜¯è›®ç´§çš„ï¼Œä½†æ˜¯è¿˜æ˜¯è¦æŠ½ç‚¹æ—¶é—´å‡ºæ¥å•Šï¼ï¼ï¼ðŸ˜‚ ä¸ƒç¯é—®é¢˜å˜å½¢ï¼Œä¸€å…±æœ‰16ä¸ªå¼€å…³ï¼Œé€’å½’æžšä¸¾å˜åŠ¨çš„ä¸ªæ•° C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;using namespace std;bool isSame(int* pan)&#123; for(int i = 1; i &lt; 16; i++)&#123; if(pan[i] != pan[i-1]) return false; &#125; return true;&#125;void flip(int* pan, int pos)&#123; int x = pos / 4; int y = pos % 4; pan[pos] = !(pan[pos]); if(y &lt; 3)&#123; pan[pos+1] = !(pan[pos+1]); &#125; if(y &gt; 0)&#123; pan[pos-1] = !(pan[pos-1]); &#125; if(x &lt; 3)&#123; pan[pos + 4] = !(pan[pos + 4]); &#125; if(x &gt; 0)&#123; pan[pos - 4] = !(pan[pos - 4]); &#125;&#125;bool dfs(int* pan, int cur, int len, int curPos)&#123; if(cur == len) if(isSame(pan))&#123; return true; &#125; else return false; if(16 - curPos &lt; len - cur) return false; int* new_pan = new int[16]; for(int i = curPos; i &lt; 16; i++)&#123; for(int j = 0; j &lt; 16; j++)&#123; new_pan[j] = pan[j]; &#125; flip(new_pan, i); if(dfs(new_pan, cur+1, len, i+1))&#123; return true; &#125; &#125; return false;&#125;int main()&#123; int pan[16]; char row[5]; int pos = 0; for(int i = 0; i &lt; 4; i++)&#123; scanf("%s", row); getchar(); for(int j = 0; j &lt; 4; j++)&#123; if(row[j] == 'b') pan[pos++] = 0; else pan[pos++] = 1; &#125; &#125; if(isSame(pan))&#123; printf("0\n"); &#125;else&#123; int ans; int i; for(i = 1; i &lt;= 16; i++)&#123; /*number of flipped*/ if(dfs(pan, 0, i, 0))&#123; printf("%d\n", i); break; &#125; &#125; if(i == 17) printf("Impossible\n"); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>poj</tag>
        <tag>pojåˆ†ç±»è®­ç»ƒ</tag>
        <tag>æžšä¸¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨Spring Bootæ¡†æž¶å†…ä½¿ç”¨Shiroä¸ŽMybatiså®Œæˆç”¨æˆ·ç™»å½•]]></title>
    <url>%2F2018%2F09%2F09%2Fspringboot_shiro%2F</url>
    <content type="text"><![CDATA[åœ¨é‡‡ç”¨Spring Bootæ¡†æž¶çš„Webåº”ç”¨å†…ä½¿ç”¨Shiroä¸ŽMybatiså®Œæˆç”¨æˆ·çš„ç™»å½•çš„éªŒè¯ å‰é¢çš„ç¬”è®°å·²ç»è¯´åˆ°äº†å¦‚ä½•åˆ›å»ºä¸€ä¸ªSpring Booté¡¹ç›®å¹¶åœ¨Spring Bootæ¡†æž¶å†…ä½¿ç”¨Mybatisï¼ŒæŽ¥ä¸‹æ¥å°±è¦åœ¨çŽ°æœ‰çš„åŸºç¡€ä¸Šç»“åˆShiroæ¡†æž¶æ¥å®žçŽ°ä¸€ä¸ªç®€å•çš„ç”¨æˆ·ç™»å½•åŠŸèƒ½äº† é¦–å…ˆéœ€è¦åˆ›å»ºéœ€è¦çš„æ•°æ®è¡¨ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸€å…±éœ€è¦åˆ›å»º5å¼ è¡¨ï¼Œåˆ†åˆ«æ˜¯ï¼š userï¼ˆç”¨æˆ·è¡¨ï¼‰ roleï¼ˆè§’è‰²è¡¨ï¼‰ permissionï¼ˆæƒé™è¡¨ï¼‰ user_roleï¼ˆç”¨æˆ·-è§’è‰²æ˜ å°„è¡¨ï¼‰ role_permissionï¼ˆè§’è‰²-æƒé™æ˜ å°„è¡¨ï¼‰ é‡‡ç”¨çš„æ˜¯ç”¨æˆ·ä¸Žè§’è‰²å…³è”ï¼Œç„¶åŽå†ç»™ä¸åŒè§’è‰²åˆ†é…æƒé™çš„æ¨¡å¼ï¼Œå…·ä½“è¡¨æ ¼å¼å¦‚ä¸‹æ‰€ç¤º 1234567891011121314151617181920212223242526272829303132create table user( id int(11) not null auto_increment, name varchar(30) not null unique, password varchar(50) not null, primary key(id));create table role( id int(11) not null auto_increment, name varchar(30) not null unique, primary key(id));create table permission( id int(11) not null auto_increment, name varchar(30) not null unique, primary key(id));create table user_role( user_id int(11), role_id int(11), foreign key(user_id) references user(id) on delete cascade, foreign key(role_id) references role(id) on delete cascade);create table role_permission( role_id int(11), permission_id int(11), foreign key(role_id) references role(id) on delete cascade, foreign key(permission_id) references permission(id) on delete cascade); ä¸ºäº†ä½œä¸ºæ¨¡æ¿ç¤ºèŒƒï¼Œæ·»åŠ ä¸¤ç§è§’è‰²userä¸Žadmin ä¸ºuseræ·»åŠ readæƒé™ï¼Œä¸ºadminåŒæ—¶æ·»åŠ readä¸Žwriteæƒé™ 123456789insert into role(name) value('user');insert into role(name) value('admin');insert into permission(name) value('read');insert into permission(name) value('write');insert into role_permission(role_id, permission_id) value(1, 1);insert into role_permission(role_id, permission_id) value(2, 1);insert into role_permission(role_id, permission_id) value(2, 2); ç„¶åŽå°±è¦å‚ç…§æ¯ä¸€å¼ è¡¨åˆ›å»ºMyBatiså®žä¾‹å’Œæ˜ å°„æ–‡ä»¶ï¼Œåˆ›å»ºæ–¹æ³•å‚è€ƒåœ¨Spring Bootæ¡†æž¶å†…ä½¿ç”¨Mybatis ç´§æŽ¥ç€å°±æ˜¯é…ç½®Shiroï¼Œæœ€é‡è¦çš„å°±æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶å’Œä¸€ä¸ªRealmï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶æ˜¯shiroå·¥ä½œçš„æ ¸å¿ƒ é¦–å…ˆæ˜¯é…ç½®æ–‡ä»¶ï¼Œä¸»è¦è´Ÿè´£Shiroçš„ä¸»ä½“è®¾ç½®ã€Realmè®¾ç½®ï¼ŒåŠ å¯†è®¾ç½®ï¼Œè¿™åœ¨ä¹‹å‰Shiroæ¡†æž¶ä¸­å·²ç»æåˆ°è¿‡ã€‚æœ€é‡è¦çš„ï¼ŒShiroä¸ŽSpring Boot Webæ¡†æž¶æ•´åˆï¼Œè¿˜éœ€è¦è®¾ç½®è¿‡æ»¤å™¨ï¼Œå³è®©Shiroæ”¶åˆ°ç½‘é¡µè¯·æ±‚åŽé€ä¸ªæ£€æŸ¥æ”¹è¯·æ±‚è®¿é—®çš„é¡µé¢æˆ–æ–¹æ³•æ˜¯å¦éœ€è¦èº«ä»½éªŒè¯ï¼Œéœ€è¦ä»€ä¹ˆèº«ä»½æˆ–æƒé™ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091package org.phoenix.shiro;import org.apache.shiro.authc.credential.HashedCredentialsMatcher;import org.apache.shiro.cache.ehcache.EhCacheManager;import org.apache.shiro.spring.LifecycleBeanPostProcessor;import org.apache.shiro.spring.web.ShiroFilterFactoryBean;import org.apache.shiro.web.filter.authc.LogoutFilter;import org.apache.shiro.web.mgt.DefaultWebSecurityManager;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.context.annotation.DependsOn;import javax.servlet.Filter;import java.util.LinkedHashMap;import java.util.Map;@Configurationpublic class ShiroConfiguration &#123; /** * è´Ÿè´£org.apache.shiro.util.Initializableç±»åž‹beançš„ç”Ÿå‘½å‘¨æœŸçš„ï¼Œåˆå§‹åŒ–å’Œé”€æ¯ * @return */ @Bean(name = "lifecycleBeanPostProcessor") public LifecycleBeanPostProcessor lifecycleBeanPostProcessor()&#123; return new LifecycleBeanPostProcessor(); &#125; /** * å¯†ç ç¼–ç  * @return */ @Bean(name = "hashCredentialsMatcher") public HashedCredentialsMatcher hashedCredentialsMatcher()&#123; HashedCredentialsMatcher credentialsMatcher = new HashedCredentialsMatcher(); credentialsMatcher.setHashAlgorithmName("MD5"); credentialsMatcher.setHashIterations(1); credentialsMatcher.setStoredCredentialsHexEncoded(true); return credentialsMatcher; &#125; @Bean(name = "myRealm") @DependsOn("lifecycleBeanPostProcessor") public MyRealm myRealm()&#123; MyRealm realm = new MyRealm(); realm.setCredentialsMatcher(hashedCredentialsMatcher()); return realm; &#125; @Bean(name = "ehCacheManager") @DependsOn("lifecycleBeanPostProcessor") public EhCacheManager ehCacheManager()&#123; return new EhCacheManager(); &#125; @Bean(name = "securityManager") public DefaultWebSecurityManager securityManager()&#123; DefaultWebSecurityManager securityManager = new DefaultWebSecurityManager(); securityManager.setRealm(myRealm());// add later// securityManager.setCacheManager(ehCacheManager()); return securityManager; &#125; @Bean(name = "shiroFilter") public ShiroFilterFactoryBean shiroFilterFactoryBean()&#123; ShiroFilterFactoryBean shiroFilterFactoryBean = new ShiroFilterFactoryBean(); shiroFilterFactoryBean.setSecurityManager(securityManager()); Map&lt;String, Filter&gt; filters = new LinkedHashMap&lt;&gt;(); LogoutFilter logoutFilter = new LogoutFilter(); logoutFilter.setRedirectUrl("/login"); shiroFilterFactoryBean.setFilters(filters); Map&lt;String, String&gt; filterChainDefinitionManger = new LinkedHashMap&lt;&gt;(); //logoutç›´æŽ¥åŠ è½½logout filterChainDefinitionManger.put("/logout", "logout"); //è®¿é—®indexä¸‹urléœ€è¦authentication filterChainDefinitionManger.put("/index", "authc, perms[read]"); filterChainDefinitionManger.put("/admin", "authc, perms[write]"); filterChainDefinitionManger.put("/**", "anon"); shiroFilterFactoryBean.setFilterChainDefinitionMap(filterChainDefinitionManger); shiroFilterFactoryBean.setSuccessUrl("/index"); shiroFilterFactoryBean.setLoginUrl("/login"); shiroFilterFactoryBean.setUnauthorizedUrl("/403"); return shiroFilterFactoryBean; &#125;&#125; åœ¨shiroFilterFactoryBean()ä¸­è®¾ç½®äº†/indexé¡µé¢å’Œ/adminé¡µé¢éœ€è¦èº«ä»½éªŒè¯authcï¼Œä¹Ÿå°±æ˜¯ç™»å½•çŠ¶æ€ï¼Œå¦åˆ™å°±ä¼šè·³è½¬åˆ°ã€‚åŒæ—¶/indexéœ€è¦ç”¨æˆ·å…·æœ‰readæƒé™è€Œ/adminéœ€è¦æœ‰readå’Œwriteæƒé™ï¼Œå¦‚ä¸å…·æœ‰ç›¸åº”æƒé™åˆ™ä¼šè·³è½¬åˆ°é”™è¯¯é¡µé¢ã€‚ å¯¹äºŽRealmè®¾ç½®å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364package org.phoenix.shiro;import org.apache.shiro.authz.SimpleAuthorizationInfo;import org.phoenix.bean.Permission;import org.phoenix.bean.Role_Permission;import org.phoenix.bean.User;import org.phoenix.bean.User_Role;import org.phoenix.dao.PermissionDao;import org.phoenix.dao.RoleDao;import org.phoenix.dao.UserDao;import org.apache.shiro.SecurityUtils;import org.apache.shiro.authc.*;import org.apache.shiro.authz.AuthorizationInfo;import org.apache.shiro.realm.AuthorizingRealm;import org.apache.shiro.session.Session;import org.apache.shiro.subject.PrincipalCollection;import org.apache.shiro.util.ByteSource;import org.springframework.beans.factory.annotation.Autowired;public class MyRealm extends AuthorizingRealm&#123; @Autowired private UserDao userDao; @Autowired private RoleDao roleDao; @Autowired private PermissionDao permissionDao; @Override protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) &#123; SimpleAuthorizationInfo authorizationInfo = new SimpleAuthorizationInfo(); String username = (String)principalCollection.getPrimaryPrincipal(); User user = userDao.getByUserName(username); for(User_Role user_role : userDao.getRoles(user.getId()))&#123; for(Role_Permission role_permission: roleDao.getPermissions(user_role.getRoleId()))&#123; Permission permission = permissionDao.getById(role_permission.getPermissionId()); authorizationInfo.addStringPermission(permission.getName()); &#125; &#125; return authorizationInfo; &#125; @Override protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException &#123; UsernamePasswordToken token = (UsernamePasswordToken) authenticationToken; String userName = token.getUsername(); User user = userDao.getByUserName(userName); if(user != null)&#123; Session session = SecurityUtils.getSubject().getSession(); session.setAttribute("user", user); SimpleAuthenticationInfo authenticationInfo = new SimpleAuthenticationInfo(userName, user.getPassword(), getName()); authenticationInfo.setCredentialsSalt(ByteSource.Util.bytes(userName)); return authenticationInfo; &#125;else&#123; return null; &#125; &#125;&#125; Realmè¿›è¡Œèº«ä»½éªŒè¯çš„æ—¶å€™éœ€è¦åˆ›å»ºä¸€ä¸ªè¯¥ç”¨æˆ·çš„ä¼šè¯ï¼ˆè¿™ä¸€ç‚¹ä¸Žå•ç‹¬çš„Shiroæ¡†æž¶ä¸åŒï¼‰ è¿›è¡Œèº«ä»½æŽˆæƒçš„æ—¶å€™é¦–å…ˆè¦æŸ¥è¯¢ç”¨æˆ·çš„Roleï¼Œç„¶åŽå†æ ¹æ®RoleæŸ¥è¯¢ç›¸åº”çš„PermissionåŠ å…¥AuthorizationInfoä¸­è¿”å›ž æ³¨å†Œä¸¤ä¸ªç”¨æˆ·ï¼Œç„¶åŽåˆ†åˆ«èµ‹äºˆuserè§’è‰²å’Œadminè§’è‰² 12insert into user_role value(1, 1);insert into user_role value(2, 2); ç³»ç»Ÿæ•ˆæžœ ç™»å½•ç•Œé¢ é¦–å…ˆä»¥userèº«ä»½è¿›è¡Œç™»å½•è¿›å…¥/index ç‚¹å‡»è¯•è¯•ç®¡ç†å‘˜æƒé™ï¼Œå‘çŽ°å¹¶ä¸èƒ½è¿›å…¥/adminé¡µé¢ï¼Œè€Œæ˜¯è·³è½¬åˆ°äº†/403é¡µé¢ è¿”å›žé€‰æ‹©ç™»å‡ºé‡æ–°ä»¥ç®¡ç†å‘˜èº«ä»½ç™»å½•ï¼Œç„¶åŽå†è¯•è¯•ç®¡ç†å‘˜æƒé™ï¼ŒæˆåŠŸè¿›å…¥]]></content>
      <categories>
        <category>çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Shiro</tag>
        <tag>Mybatis</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntu 18.04ä¸­å®‰è£…MySQLä»¥åŠæ™®é€šç”¨æˆ·æ— æ³•ç™»å½•é—®é¢˜]]></title>
    <url>%2F2018%2F09%2F06%2Fubuntu_mysql%2F</url>
    <content type="text"><![CDATA[åœ¨ubuntu 18.04ä¸‹å®‰è£…/å‡çº§MySQLæ•°æ®åº“å¹¶è§£å†³å®‰è£…åŽæ™®é€šç”¨æˆ·æ— æ³•ç™»å½•MySQLï¼Œå¿…é¡»ä½¿ç”¨sudoæ‰èƒ½å¤Ÿç™»å½•çš„é—®é¢˜ã€‚ å®‰è£…åˆ é™¤æ—§ç‰ˆæœ¬ 1sudo apt --purge remove mysql-server mysql-common mysql-client å®‰è£…æ–°ç‰ˆæœ¬ 1sudo apt install mysql-server mysql-common mysql-client è¿™æ—¶å€™ç™»å½•mysql 1mysql -u root -p è¾“å…¥å¯†ç åŽæ— æ³•ç™»å½•ï¼Œå‡ºçŽ°Errorï¼Œä½†æ˜¯ 1sudo mysql -u root -p å´èƒ½å¤Ÿæ­£å¸¸ç™»å½•çš„è¯ï¼Œé‚£ä¹ˆå°±æŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤ä¿®æ”¹rootå¯†ç  ä¿®æ”¹rootå¯†ç 123sudo mysql -u rootmysql&gt; use mysql;mysql&gt; select User, plugin from user; å‘çŽ°rootç”¨æˆ·çš„pluginä¸å¤ªä¸€æ ·ï¼Œé‡å»ºä¸€ä¸ªroot 1234mysql&gt; drop user 'root'@'localhost';Query OK, 0 rows affected (0,00 sec)mysql&gt; create user 'root'@'localhost' identified by 'new_password'Query OK, 0 rows affected (0,00 sec) åˆ·æ–°æƒé™ 1234mysql&gt; grant all privileges on *.* to 'root'@'localhost' with grant option;Query OK, 0 rows affected (0,00 sec)mysql&gt; flush privileges;Query OK, 0 rows affected (0,00 sec) å†æ¬¡è¾“å…¥å‘½ä»¤ 1mysql -u root -p åº”è¯¥å°±å¯ä»¥æ­£å¸¸ç™»å½•äº†]]></content>
      <categories>
        <category>çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨Spring Bootæ¡†æž¶å†…ä½¿ç”¨Mybatis]]></title>
    <url>%2F2018%2F09%2F03%2Fspringboot_mybatis%2F</url>
    <content type="text"><![CDATA[Mybatisæ˜¯ä¸€ä¸ªåŸºäºŽJavaçš„æŒä¹…å±‚æ¡†æž¶ï¼Œå¸®åŠ©å°†SQLæ•°æ®å¯ä»¥ä¸­çš„å®žä½“æ˜ å°„åˆ°Javaå®žä¾‹ä¸­ï¼Œæ–¹ä¾¿å¢žåˆ æ”¹æŸ¥çš„å®žçŽ°ã€‚æœ¬ç¯‡ç¬”è®°è®°å½•å¦‚ä½•å°†Mybatisä¸ŽSpring Bootæ¡†æž¶ç›¸ç»“åˆè¿›è¡Œä½¿ç”¨ é¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªSpring Booté¡¹ç›® ç„¶åŽä»¥ç”¨æˆ·ï¼ˆUserï¼‰ä¸ºä¾‹æ¥ä½¿ç”¨Mybatis Mavenä¾èµ– 1234567891011121314151617181920&lt;properties&gt; &lt;mybatis.version&gt;3.2.7&lt;/mybatis.version&gt; &lt;mybatis-spring.version&gt;1.2.2&lt;/mybatis-spring.version&gt;&lt;/properties&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;$&#123;mybatis.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;$&#123;mybatis-spring.version&#125;&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt; â€‹ åˆ›å»ºå®žä½“ç±» 1234567891011121314151617181920212223242526272829303132333435363738394041424344package org.phoenix.bean;public class User &#123; private Integer uid; private String username; //ä¸è¿”å›žpassword// @JsonIgnore private String password; public Integer getId() &#123; return uid; &#125; public void setId(Integer id)&#123; this.uid = id; &#125; public String getUsername()&#123; return username; &#125; public void setUsername(String username) &#123; this.username = username; &#125; public String getPassword() &#123; return password; &#125; public void setPassword(String password) &#123; this.password = password; &#125; @Override public String toString()&#123; return "UserDao&#123;" + "id=" + uid + ", username=" + username + ", password=" + password + "&#125;"; &#125;&#125; â€‹ DAOï¼ˆData Access Objectï¼‰å±‚ 12345678910111213141516package org.phoenix.dao;import org.phoenix.bean.User;import org.springframework.dao.DataAccessException;import java.util.List;import java.util.Map;public interface UserDao &#123; List&lt;User&gt; getByMap(Map&lt;String, Object&gt; map); User getById(Integer id); Integer create(User user) throws DataAccessException; int update(User user); int delete(Integer id); User getByUserName(String userNmae);&#125; â€‹ Serviceå±‚ 123456789101112131415161718192021222324252627282930313233343536373839404142package org.phoenix.Service;import org.phoenix.bean.User;import org.phoenix.dao.UserDao;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.dao.DataAccessException;import org.springframework.stereotype.Service;import java.util.List;import java.util.Map;@Servicepublic class UserService &#123; @Autowired private UserDao userDao; public List&lt;User&gt; getByMap(Map&lt;String, Object&gt; map)&#123; return userDao.getByMap(map); &#125; public User getById(Integer id)&#123; return userDao.getById(id); &#125; public User create(User user)throws DataAccessException &#123; userDao.create(user); return user; &#125; public User update(User user)&#123; userDao.update(user); return user; &#125; public int delete(Integer id)&#123; return userDao.delete(id); &#125; public User getByUserName(String userName)&#123; return userDao.getByUserName(userName); &#125;&#125; â€‹ UserDaoMapperï¼Œè¿žæŽ¥äº†Daoå±‚ä¸ŽMapperï¼Œå°±æ˜¯Mybatiså·¥ä½œçš„åœ°æ–¹ï¼Œè¿™é‡Œé¢ç”¨XMLè¯­æ³•ç¼–å†™äº†æ‰€æœ‰æ“ä½œè¦ç”¨åˆ°çš„SQLè¯­å¥ï¼Œå¹¶ä¸ŽDAOå±‚å†…çš„æŽ¥å£ä¸€ä¸€å¯¹åº”ï¼Œå½“è°ƒç”¨DAOå±‚å†…æŽ¥å£çš„æ—¶å€™ï¼Œå°±ä¼šå®Œæˆå¯¹æ•°æ®åº“çš„æ“ä½œ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="org.phoenix.dao.UserDao"&gt; &lt;resultMap id="userMap" type="org.phoenix.bean.User"&gt; &lt;id property="uid" column="uid"/&gt; &lt;result property="username" column="username"/&gt; &lt;result property="password" column="password"/&gt; &lt;/resultMap&gt; &lt;sql id="queryCondition"&gt; &lt;where&gt; &lt;if test="uid != null and uid != ''"&gt; and uid = #&#123;uid&#125; &lt;/if&gt; &lt;if test="username != null and username != ''"&gt; and username = #&#123;username&#125; &lt;/if&gt; &lt;if test="password != null and password != ''"&gt; and password = #&#123;password&#125; &lt;/if&gt; &lt;if test="keywords != null and keywords != ''"&gt; and username like CONCAT('%', #&#123;keywords&#125;,'%') &lt;/if&gt; &lt;/where&gt; &lt;/sql&gt; &lt;select id="getByMap" parameterType="map" resultMap="userMap"&gt; SELECT * FROM user &lt;include refid="queryCondition" /&gt; &lt;/select&gt; &lt;select id="getById" parameterType="int" resultMap="userMap"&gt; SELECT * FROM user WHERE uid =#&#123;uid&#125; &lt;/select&gt; &lt;select id="getByUserName" parameterType="String" resultMap="userMap"&gt; SELECT * FROM user WHERE username =#&#123;username&#125; &lt;/select&gt; &lt;insert id="create" parameterType="org.phoenix.bean.User"&gt; &lt;!--&lt;selectKey resultType="int" order="AFTER" keyProperty="id" &gt;--&gt; &lt;!--SELECT LAST_INSERT_ID()--&gt; &lt;!--&lt;/selectKey&gt;--&gt; INSERT INTO user( username, password )VALUES( #&#123;username&#125;, #&#123;password&#125; ) &lt;/insert&gt; &lt;update id="update" parameterType="org.phoenix.bean.User"&gt; UPDATE user SET username = #&#123;username&#125;, password = #&#123;password&#125; WHERE uid = #&#123;uid&#125; &lt;/update&gt; &lt;delete id="delete" parameterType="int"&gt; DELETE FROM user WHERE uid = #&#123;uid&#125; &lt;/delete&gt;&lt;/mapper&gt; â€‹ æŽ¥ä¸‹æ¥å°±æ˜¯è¦é…ç½®Mybatisï¼Œè®©å®ƒçŸ¥é“è¦åœ¨å“ªé‡Œæ‰¾Daoå±‚ï¼Œå“ªé‡Œæ‰¾Mapperï¼Œç”¨ä»€ä¹ˆæ•°æ®åº“ï¼Œæ•°æ®åº“åœ°å€æ˜¯ä»€ä¹ˆï¼Œç”¨æˆ·å¯†ç æ˜¯ä»€ä¹ˆï¼Œåœ¨ç”¨å“ªä¸ªdatabaseç­‰ç­‰ é…ç½®æ•°æ®è¿žæŽ¥ï¼Œæä¾›æ•°æ®åº“è¿žæŽ¥çš„ä¿¡æ¯ 123456789101112131415161718192021222324252627282930313233343536package org.phoenix.config;import com.mchange.v2.c3p0.ComboPooledDataSource;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.core.env.Environment;import java.beans.PropertyVetoException;/** * é…ç½®æ•°æ®åº“è¿žæŽ¥ */@Configurationpublic class DataSourceConfig &#123; @Autowired private Environment env; @Bean(name = "dataSource") public ComboPooledDataSource dataSource() throws PropertyVetoException&#123; ComboPooledDataSource dataSource = new ComboPooledDataSource(); dataSource.setDriverClass(env.getProperty("jdbc.driverClassName")); dataSource.setJdbcUrl(env.getProperty("jdbc.url")); dataSource.setUser(env.getProperty("jdbc.username")); dataSource.setPassword(env.getProperty("jdbc.password")); dataSource.setMaxPoolSize(20); dataSource.setMinPoolSize(5); dataSource.setInitialPoolSize(10); dataSource.setMaxIdleTime(300); dataSource.setAcquireIncrement(5); dataSource.setIdleConnectionTestPeriod(60); return dataSource; &#125;&#125; ç„¶åŽéœ€è¦æä¾›DAOå±‚æ‰€åœ¨çš„ä½ç½® 1234567891011121314151617181920package org.phoenix.config;import org.mybatis.spring.mapper.MapperScannerConfigurer;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;/** * æ‰«æDAOæ–‡ä»¶ */@Configurationpublic class MapperSacnnerConfig &#123; @Bean public MapperScannerConfigurer mapperSacnnerConfigurer()&#123; MapperScannerConfigurer mapperScannerConfigurer = new MapperScannerConfigurer(); mapperScannerConfigurer.setBasePackage("**.dao"); mapperScannerConfigurer.setSqlSessionFactoryBeanName("sqlSessionFactory"); return mapperScannerConfigurer; &#125;&#125; ç”¨ä¸Šé¢çš„ä¿¡æ¯æ¥è®¾ç½®MyBatisï¼Œå¹¶å‘Šè¯‰Mybatisæ˜ å°„æ–‡ä»¶Mapperçš„ä½ç½®ï¼ŒMyBatiså°±ä¼šè‡ªåŠ¨å°†UserDaoè‡ªåŠ¨å¯¹åº”åˆ°åŒå‰ç¼€æ–‡ä»¶UserDaoMapper.xmlä¸Š 1234567891011121314151617181920212223242526272829303132333435package org.phoenix.config;import org.apache.ibatis.type.JdbcType;import org.mybatis.spring.SqlSessionFactoryBean;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.context.ApplicationContext;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import javax.sql.DataSource;/** * é…ç½®Mybatisæ˜ å°„æ–‡ä»¶ */@Configurationpublic class MyBatisConfig &#123; @Autowired private DataSource dataSource; @Bean(name = "sqlSessionFactory") public SqlSessionFactoryBean sqlSessionFactory( ApplicationContext applicationContext) throws Exception&#123; SqlSessionFactoryBean sessionFactory = new SqlSessionFactoryBean(); sessionFactory.setDataSource(dataSource); org.apache.ibatis.session.Configuration configuration = new org.apache.ibatis.session.Configuration(); configuration.setMapUnderscoreToCamelCase(true); configuration.setJdbcTypeForNull(JdbcType.NULL); sessionFactory.setMapperLocations(applicationContext.getResources("classpath:mapper/*.xml")); return sessionFactory; &#125;&#125; â€‹ æœ€åŽé…ç½®Spring Bootçš„RESTæŽ¥å£æ¥é€šè¿‡UserServiceè°ƒç”¨UserDao 123456789101112131415161718192021222324252627282930package org.phoenix.controller;import org.phoenix.Service.UserService;import org.phoenix.bean.User;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.PathVariable;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.RestController;import javax.servlet.http.HttpServletRequest;import java.util.List;@RequestMapping(value = "/users")@RestControllerpublic class UserController &#123; @Autowired private UserService userService; @RequestMapping(method = RequestMethod.GET) public List&lt;User&gt; list(HttpServletRequest request)&#123; return userService.getByMap(null); &#125; @RequestMapping(value = "/&#123;id&#125;", method = RequestMethod.GET) public User detail(@PathVariable Integer id)&#123; return userService.getById(id); &#125;&#125; â€‹ å¯åŠ¨åº”ç”¨ï¼Œåœ¨æµè§ˆå™¨åœ°å€æ å†…è¾“å…¥http://localhost:8080/users å°±ä¼šå‡ºçŽ°é¢„å…ˆåœ¨æ•°æ®åº“é‡Œå­˜å·çš„ç”¨æˆ·ä¿¡æ¯ 1[&#123;"username":"123","password":"af17a6d2be6676b4cf53b3ae81796fa6","id":1&#125;,&#123;"username":"admin","password":"c0e024d9200b5705bc4804722636378a","id":2&#125;] å¦‚æžœè¦æŒ‰idæŸ¥æ‰¾ï¼Œä¾‹å¦‚æŸ¥æ‰¾id=1çš„ç”¨æˆ·ï¼Œå°±è¾“å…¥http://localhost:8080/users/1 å°±å¯ä»¥äº† é¡¹ç›®çš„Githubåœ°å€]]></content>
      <categories>
        <category>çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Mybatis</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Shiroå®‰å…¨æ¡†æž¶å…¥é—¨]]></title>
    <url>%2F2018%2F09%2F02%2Fshiro%2F</url>
    <content type="text"><![CDATA[å¯¹Shiroå®‰å…¨æ¡†æž¶çš„å„ç§æ“ä½œè¿›è¡Œç®€å•çš„å…¥é—¨ï¼Œä¸ºShiroæ¡†æž¶åµŒå…¥Webåº”ç”¨è¿›è¡ŒåŸºç¡€ç»ƒä¹ è®²è§£ ShiroApache Shiroæ˜¯ä¸€ä¸ªç®€å•å¼ºå¤§çš„Javaå®‰å…¨æ¡†æž¶ï¼Œæä¾›äº†ç”¨æˆ·èº«ä»½éªŒè¯ã€æƒé™æŽˆæƒã€åŠ å¯†å’Œä¼šè¯ç®¡ç†ç­‰åŠŸèƒ½ï¼Œé€šè¿‡Shiroå¯ä»¥ç®€å•å¿«é€Ÿåœ°å¸®åŠ©å„ç§åº”ç”¨ç¡®ä¿å®‰å…¨ Authenticationï¼ˆèº«ä»½éªŒè¯ï¼‰ é€šè¿‡æ•°æ®åº“æˆ–å…¶ä»–åœ°æ–¹å­˜å‚¨çš„ç”¨æˆ·ä¿¡æ¯è¿›è¡Œæ¯”è¾ƒï¼Œç¡®è®¤ç”¨æˆ·æ˜¯å¦ç™»å½•ç™»å½• Authorizationï¼ˆæŽˆæƒï¼‰ é€šè¿‡æ•°æ®åº“å†…å­˜å‚¨çš„ç”¨æˆ·è§’è‰²ä¿¡æ¯ç¡®è®¤ç”¨æˆ·æƒé™ Cryptographyï¼ˆåŠ å¯†ï¼‰ å¯¹ä¿¡æ¯ï¼Œå¦‚å¯†ç ï¼Œè¿›è¡ŒåŠ å¯†æ“ä½œ Session Managementï¼ˆä¼šè¯ç®¡ç†ï¼‰ è¿›è¡Œç”¨æˆ·ä¼šè¯ç®¡ç†ï¼Œä¿æŒç™»å½•çŠ¶æ€ Demo mavenä¾èµ– 12345&lt;dependency&gt; &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt; &lt;artifactId&gt;shiro-core&lt;/artifactId&gt; &lt;version&gt;1.4.0&lt;/version&gt;&lt;/dependency&gt; â€‹ Authenticationç®€å•æµ‹è¯•ï¼Œä½¿ç”¨Junitè¿›è¡Œå•å…ƒæµ‹è¯• 123456789101112131415161718192021222324252627282930313233343536373839404142package org.phoenix.test;import org.apache.shiro.SecurityUtils;import org.apache.shiro.authc.UsernamePasswordToken;import org.apache.shiro.mgt.DefaultSecurityManager;import org.apache.shiro.realm.SimpleAccountRealm;import org.apache.shiro.subject.Subject;import org.junit.Before;import org.junit.Test;public class AutenticationTest &#123; SimpleAccountRealm simpleAccountRealm = new SimpleAccountRealm(); @Before public void addUser()&#123; simpleAccountRealm.addAccount("Ph0en1x", "1234", "admin"); &#125; @Test public void testAutentication()&#123; // æž„å»ºSecurityManagerçŽ¯å¢ƒ DefaultSecurityManager defaultSecurityManager = new DefaultSecurityManager(); defaultSecurityManager.setRealm(simpleAccountRealm); // ä¸»ä½“æäº¤è®¤è¯è¯·æ±‚ SecurityUtils.setSecurityManager(defaultSecurityManager); Subject subject = SecurityUtils.getSubject(); UsernamePasswordToken token = new UsernamePasswordToken("Ph0en1x", "1234"); subject.login(token); System.out.println("isAutenticated: " + subject.isAuthenticated()); subject.checkRole("admin"); subject.logout(); System.out.println("isAutenticated: " + subject.isAuthenticated()); &#125;&#125; è¿™æ˜¯Shiroå®‰å…¨æ¨¡å—æœ€ç®€å•ç»“æž„çš„æž„å»ºï¼Œé¦–å…ˆéœ€è¦æž„å»ºSecurityManagerçŽ¯å¢ƒã€‚è€Œæž„å»ºSecurityManagerçŽ¯å¢ƒéœ€è¦ä¸€ä¸ªå«ä½œRealmçš„ç»„ä»¶ï¼ŒRealmé‡Œé¢å°†ä¼šè¿›è¡Œç”¨æˆ·èº«ä»½è®¤è¯ä»¥åŠæŽˆæƒç­‰ä¸€ç³»åˆ—æ“ä½œã€‚è¿™é‡Œæˆ‘åªåˆ›å»ºäº†ç®€å•çš„ï¼Œåªèƒ½è¿›è¡Œé¢„å…ˆåŠ å…¥åˆ°å†…å­˜ä¸­çš„ç”¨æˆ·çš„èº«ä»½éªŒè¯å’ŒæŽˆæƒçš„SimpleRealmã€‚ åœ¨Junitçš„@Beforeæ ‡ç­¾ä¸­æˆ‘ä»¬å°±é¢„å…ˆåŠ å…¥äº†ä¸€ä¸ªç”¨æˆ·ç”¨äºŽæµ‹è¯• è¿™ä¹‹åŽéœ€è¦å°†åˆšåˆšå®ŒæˆRealmé…ç½®çš„SecurityManageré…ç½®åˆ°çŽ¯å¢ƒä¸­ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªä¸»ä½“ï¼ˆSubjectï¼‰ï¼ŒåŽé¢å°†ç”±ä¸»ä½“æ¥å‘é€è®¤è¯è¯·æ±‚ç»™Realm èº«ä»½è®¤è¯è¯·æ±‚è¢«åŒ…å«åœ¨ä¸€ä¸ªUsernamePasswordTokenä¸­ï¼Œç„¶åŽç”±ä¸»ä½“å‘é€loginè¯·æ±‚ï¼ŒåŒæ—¶è¿›è¡Œadminæƒé™éªŒè¯ ä¸Šè¿°ä»£ç å°†ä¼šå¾—åˆ°ä»¥ä¸‹è¾“å‡º 12isAutenticated: trueisAutenticated: false å½“ä¸»ä½“å‘é€logoutè¯·æ±‚åŽå†è¿›è¡Œèº«ä»½éªŒè¯å°±ä¼šè¿”å›žfalse å½“UsernamePasswordTokenä¸­çš„ç”¨æˆ·å¯†ç ä¸æ­£ç¡®æ—¶ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ 1org.apache.shiro.authc.IncorrectCredentialsException: Submitted credentials for token [org.apache.shiro.authc.UsernamePasswordToken - Ph0en1x, rememberMe=false] did not match the expected credentials. å½“éªŒè¯ç”¨æˆ·ä¸å…·æœ‰ç›¸åº”èº«ä»½æˆ–æƒé™æ—¶ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ 1org.apache.shiro.authz.UnauthorizedException: Subject does not have role [admin] CustomRealmè‡ªå®šä¹‰Realm Realmæ˜¯Shiroè¿›è¡Œèº«ä»½éªŒè¯å’ŒæŽˆæƒçš„æœ€æ ¸å¿ƒç»„ä»¶ï¼Œæ‰€ä»¥ä¹Ÿä¸€å®šèƒ½å¼€æ”¾ç»™ç”¨æˆ·è¿›è¡Œè‡ªå®šä¹‰ï¼Œä¾‹å¦‚æƒ³æ ¹æ®æŸä¸ªæ•°æ®åº“æˆ–è€…æ–‡ä»¶ä¸­çš„ä¿¡æ¯æ¥è¿›è¡Œç›¸åº”çš„éªŒè¯ï¼Œå¯†ç åŠ å¯†éªŒè¯ç­‰ç­‰æ“ä½œã€‚æˆ‘è¿™é‡Œä¹Ÿå†™äº†ä¸€ä¸ªç®€å•çš„ä»Žæ•°æ®åº“ä¸­æŸ¥è¯¢ç”¨æˆ·å¯†ç æ¥éªŒè¯ç™»å½•ç”¨æˆ·èº«ä»½çš„CustomRealm 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859package org.phoenix.shiro.realm;import org.apache.shiro.authc.AuthenticationException;import org.apache.shiro.authc.AuthenticationInfo;import org.apache.shiro.authc.AuthenticationToken;import org.apache.shiro.authc.SimpleAuthenticationInfo;import org.apache.shiro.authz.AuthorizationInfo;import org.apache.shiro.crypto.hash.Md5Hash;import org.apache.shiro.realm.AuthorizingRealm;import org.apache.shiro.subject.PrincipalCollection;import org.apache.shiro.util.ByteSource;import java.sql.*;public class CustomerRealm extends AuthorizingRealm&#123; protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) &#123; //è§’è‰²æŽˆæƒ return null; &#125; protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException &#123; //è®¤è¯ç”¨æˆ· String username = (String)authenticationToken.getPrincipal(); String password = getPasswordByUserName(username); if(password == null)&#123; return null; &#125; SimpleAuthenticationInfo authenticationInfo = new SimpleAuthenticationInfo( "Ph0en1x", password, "customRealm" ); // ä¼ å›žçš„æ—¶å€™ä¹Ÿè¦å¸¦ç› authenticationInfo.setCredentialsSalt(ByteSource.Util.bytes(username)); return authenticationInfo; &#125; private String getPasswordByUserName(String username) &#123; String url = "jdbc:mysql://127.0.0.1/test"; String name = "root"; String password = "1234"; String result = null; try&#123; Connection con = DriverManager.getConnection(url, name, password); String sql = String.format("select password from user where username = \'%s\'", username); Statement statement = con.createStatement(); ResultSet rs = statement.executeQuery(sql); rs.next(); // md5åŠ ç›æ“ä½œ result = (new Md5Hash(rs.getString("password"), username)).toString(); System.out.println(result); &#125;catch(SQLException e)&#123; e.printStackTrace(); &#125; return result; &#125;&#125; CustomerRealméƒ½ç»§æ‰¿äºŽAuthorizingRealmï¼Œè€ŒAuthorizingRealmç»§æ‰¿äºŽAuthenticatingRealm è€Œå®ŒæˆCustomerRealmï¼Œéœ€è¦å®žçŽ°ä¸¤ä¸ªabstractæ–¹æ³•doGetAuthorizationInfoå’ŒdoGetAuthenticationInfoåˆ†åˆ«ç”¨äºŽæŽˆæƒå’Œèº«ä»½éªŒè¯è¯·æ±‚çš„å¤„ç†ã€‚ è¿˜æœ‰å°±æ˜¯å¯†ç çš„åŠ ç›æ“ä½œï¼Œæ•°æ®å¹¶ä¸ä¼šæ˜Žæ–‡å­˜åœ¨æ•°æ®åº“ä¸­ã€‚é€šå¸¸ä¼šé€šè¿‡ä¸€äº›åŠ å¯†æ“ä½œï¼Œä¾‹å¦‚MD5ç ï¼Œåœ¨åŠ å¯†çš„è¿‡ç¨‹ä¸­ä¸ºäº†åŠ å¤§ç ´è¯‘çš„éš¾åº¦ï¼Œå¾€å¾€è¿˜ä¼šå¸¦ä¸Šä¸€äº›åˆ«çš„ä¿¡æ¯ï¼Œå«ä½œâ€œç›â€ï¼ˆsaltï¼‰ã€‚ä¾‹å¦‚ä¸Šé¢æˆ‘èŽ·å–å¯†ç çš„æ–¹æ³•getPasswordByUserNameå°±åœ¨èŽ·å¾—å¯†ç åŽè¿›è¡Œäº†åŠ ç›åŠ å¯†çš„æ“ä½œï¼ˆç”¨æ¥æ¨¡æ‹Ÿå­˜å‚¨åŠ å¯†åŽçš„å¯†ç ï¼Œå®žé™…ä½¿ç”¨ä¸­æ˜¯åŠ ç›åŠ å¯†åŽå†å­˜å…¥æ•°æ®åº“ä¸­ï¼‰ï¼Œå¹¶ä¸”é€šè¿‡setCredentialsSaltæ–¹æ³•å‘Šè¯‰éªŒè¯ä¿¡æ¯åŠ å…¥çš„ç›æ˜¯ä»€ä¹ˆã€‚ ç›¸åº”çš„ï¼Œåœ¨Shiroçš„é…ç½®ä¸­ä¹Ÿè¦åŠ å…¥ç›¸åº”çš„åŠ å¯†æ–¹æ³•å’Œç›çš„é…ç½® 1234567891011121314151617181920212223242526272829303132333435363738394041package org.phoenix.test;import org.phoenix.shiro.realm.CustomerRealm;import org.apache.shiro.SecurityUtils;import org.apache.shiro.authc.UsernamePasswordToken;import org.apache.shiro.authc.credential.HashedCredentialsMatcher;import org.apache.shiro.mgt.DefaultSecurityManager;import org.apache.shiro.subject.Subject;import org.junit.Test;public class CustomRealmTest &#123; @Test public void testAutentication()&#123; CustomerRealm customerRealm = new CustomerRealm(); // æž„å»ºSecurityManagerçŽ¯å¢ƒ DefaultSecurityManager defaultSecurityManager = new DefaultSecurityManager(); defaultSecurityManager.setRealm(customerRealm); //åŠ å¯†è®¾ç½® HashedCredentialsMatcher matcher = new HashedCredentialsMatcher(); matcher.setHashAlgorithmName("md5"); matcher.setHashIterations(1); customerRealm.setCredentialsMatcher(matcher); // ä¸»ä½“æäº¤è®¤è¯è¯·æ±‚ SecurityUtils.setSecurityManager(defaultSecurityManager); Subject subject = SecurityUtils.getSubject(); UsernamePasswordToken token = new UsernamePasswordToken("Ph0en1x", "1234"); subject.login(token); System.out.println("isAutenticated: " + subject.isAuthenticated());// subject.checkRole("admin");// subject.checkPermission("user:delete"); subject.logout(); System.out.println("isAutenticated: " + subject.isAuthenticated()); &#125;&#125; åŠ å¯†è®¾ç½®å°±æ˜¯å‘Šè¯‰Shiroæˆ‘çš„å¯†ç æ˜¯ç”¨äº†ä¸€æ¬¡è¿­ä»£çš„md5åŠ å¯†çš„ï¼Œå†é…åˆsetCredentialsSalté‡Œçš„ç›ä¿¡æ¯ï¼Œå°±å¯ä»¥å®Œæˆèº«ä»½éªŒè¯ â€‹ è¿™é‡Œè¿˜æœ‰å…¶ä»–çš„ä¸€äº›å…³äºŽShiroçš„ç®€å•ä»£ç ]]></content>
      <categories>
        <category>çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Shiro</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ­å»ºç¬¬ä¸€ä¸ªAngular Webåº”ç”¨]]></title>
    <url>%2F2018%2F09%2F01%2Fangular%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨node.jsæ­å»ºç¬¬ä¸€ä¸ªç®€å•çš„angularåº”ç”¨ å®‰è£…node.js åœ¨nodejså®˜ç½‘ä¸Šä¸‹è½½æ–°ç‰ˆæœ¬çš„Node.jså®‰è£…åŒ…åˆ°æœ¬åœ°(è¿™é‡Œç”¨Ubuntuä¸ºä¾‹ï¼Œä½¿ç”¨apté»˜è®¤æºä¸­çš„nodejsç‰ˆæœ¬è¿‡æ—§ï¼Œæ‰€ä»¥åˆ°å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…) è§£åŽ‹ 1tar -xvf node-v8.11.4-linux-x64.tar.xz å°†è§£åŽ‹åŽç›®å½•å†…çš„bin/ä¸‹çš„nodeå’Œnpmçš„é“¾æŽ¥æ”¾ç½®åœ¨ç³»ç»Ÿç›®å½•ä¸‹ï¼Œé…ç½®å…¨å±€ä½¿ç”¨ 12sudo ln -s /home/ph0en1x/Program_Files/node-v8.11.4-linux-x64/bin/node /usr/local/bin/nodesudo ln -s /home/ph0en1x/Program_Files/node-v8.11.4-linux-x64/bin/npm /usr/local/bin/npm ç”±äºŽæˆ‘çš„æ ¹ç›®å½•ä¸Žhomeç›®å½•æŒ‚è½½ç€ä¸åŒçš„ç¡¬ç›˜ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨è½¯é“¾æŽ¥ï¼Œå¦‚æžœæ˜¯åŒä¸€å—ç¡¬ç›˜ä¹Ÿå¯ä»¥ä½¿ç”¨ç¡¬é“¾æŽ¥ ç¡®è®¤ç‰ˆæœ¬ 12node --versionnpm --version â€‹ æ­å»ºAngularåº”ç”¨ å…¨å±€å®‰è£…Angular CLI 1npm install -g @angular/cli æ–°å»ºå·¥ç¨‹ 1ng new my-app å¯åŠ¨åº”ç”¨ 12cd my-appng serve --open æœ€åŽè¿›å…¥æµè§ˆå™¨è¾“å…¥ http://localhost:4200 çœ‹åˆ°demo å…·ä½“æ•™ç¨‹å‚è€ƒAngularå®˜æ–¹æ–‡æ¡£]]></content>
      <categories>
        <category>Angular</category>
      </categories>
      <tags>
        <tag>Angular</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 42 Trapping Rain Water]]></title>
    <url>%2F2018%2F08%2F24%2Fleetcode42%2F</url>
    <content type="text"><![CDATA[2-SUM åŒç±»åž‹é¢˜ç›®ï¼Œ ä¸ŽLeetCode11æ€æƒ³ç›¸ä¼¼ Given n non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it is able to trap after raining. The above elevation map is represented by array [0,1,0,2,1,0,1,3,2,1,2,1]. In this case, 6 units of rain water (blue section) are being trapped. Thanks Marcosfor contributing this image! è¿™é¢˜ä¼šå¡æ—¶é—´é™åˆ¶ï¼Œè¦æ±‚ä½¿ç”¨O(n)çš„æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼› å®žé™…ä¸Šåªéœ€è¦è®¡ç®—æ¯ä¸ªæ ¼å­å·¦å³çš„é«˜åº¦æœ€å¤§å€¼ä¸­å–è¾ƒå°çš„é‚£ä¸ªä¸Žå½“å‰çš„é«˜åº¦å–æ­£å·®å€¼å³å¯ï¼› ä¼˜åŒ–ï¼šå¯ä»¥ä»…éåŽ†ä¸€æ¬¡å°±å®Œæˆè®¡ç®—ï¼Œå³è®¾ç½®å·¦æŒ‡é’ˆä¸Žå³æŒ‡é’ˆï¼Œå¹¶ä¸”è®°å½•å·¦æŒ‡é’ˆå·¦è¾¹çš„æœ€å¤§å€¼ä»¥åŠå³æŒ‡é’ˆå³è¾¹çš„æœ€å¤§å€¼ï¼Œæ¯æ¬¡æ¯”è¾ƒä¸¤ä¸ªæœ€å¤§å€¼ï¼Œå¦‚æžœå·¦æœ€å¤§å€¼å°äºŽå³æœ€å¤§å€¼ï¼Œé‚£ä¹ˆå³è¾¹ä¸ä¼šå¯¹å·¦æŒ‡é’ˆæŒ‡çš„ä½ç½®äº§ç”Ÿé™åˆ¶ï¼Œç›´æŽ¥ç”¨å·¦æœ€å¤§å€¼è®¡ç®—å³å¯ï¼Œå³è¾¹åŒç†ï¼› Python Code 123456789101112131415161718192021222324252627class Solution: def trap(self, height): """ :type height: List[int] :rtype: int """ length = len(height) if height == None or length == 0: return 0 l = 0 r = length - 1 result = 0 maxL = maxR = 0 while l &lt;= r: maxL = max(height[l], maxL) maxR = max(height[r], maxR) if maxL &lt; maxR: result += maxL - height[l] l += 1 else: result += maxR - height[r] r -= 1 return result]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 11 Container With Most Water]]></title>
    <url>%2F2018%2F08%2F23%2Fleetcode11%2F</url>
    <content type="text"><![CDATA[2-SUM åŒç±»åž‹é¢˜ç›® Given n non-negative integers a1, a2, â€¦, an , where each represents a point at coordinate (i, ai). n vertical lines are drawn such that the two endpoints of line i is at (i, ai) and (i, 0). Find two lines, which together with x-axis forms a container, such that the container contains the most water. Note: You may not slant the container and n is at least 2. The above vertical lines are represented by array [1,8,6,2,5,4,8,3,7]. In this case, the max area of water (blue section) the container can contain is 49. ç®—æ³•ï¼š åˆšå¼€å§‹è®¾ç½®æœ€å·¦è¾¹å’Œæœ€å³è¾¹ä¸¤ä¸ªæ¿ï¼Œè®°å½•å½“å‰é¢ç§¯ï¼Œç„¶åŽæŠŠçŸ­çš„é‚£è¾¹çš„æŒ‡é’ˆå‘ä¸­å¿ƒç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œæ¯”è¾ƒé¢ç§¯ï¼Œä»¥æ­¤ç±»æŽ¨ï¼› è¯æ˜Žï¼š ä»¥å·¦è¾¹æŒ‡é’ˆä¸ºä¾‹ï¼Œå¦‚æžœå·¦è¾¹è¾ƒçŸ­ï¼Œé‚£ä¹ˆå³è¾¹çš„æŒ‡é’ˆæ— è®ºæ€Žä¹ˆå‘å·¦ç§»åŠ¨éƒ½ä¸å¯èƒ½å¾—åˆ°æ›´å¤§çš„é¢ç§¯äº†ï¼Œæ‰€ä»¥å¯ä»¥çœ‹ä½œç›´æŽ¥è·³è¿‡å¤§å±‚å¾ªçŽ¯ï¼Œå³å·¦è¾¹æŒ‡é’ˆå‘å³ä¸€ä½ã€‚å³è¾¹æŒ‡é’ˆåŒç†ï¼› å·¦è¾¹å‘å³ä¸€ä½åŽï¼Œå³è¾¹çš„æŒ‡é’ˆä¸éœ€è¦å›žåˆ°æœ€å³è¾¹ï¼Œå› ä¸ºå³è¾¹æŒ‡é’ˆçš„å³è¾¹ä¸å¯èƒ½æœ‰æ¯”å·¦è¾¹æŒ‡é’ˆç§»åŠ¨å‰æ›´å¤§çš„ï¼ˆç›¸å½“äºŽåŒæ–¹æ‰“æ“‚å°ï¼Œå®ˆæ“‚çš„ä¸€å®šæ¯”å¯¹æ–¹ä¹‹å‰æ‰“æ“‚å¤±è´¥çš„éƒ½è¦å¼ºï¼‰ï¼Œæ‰€ä»¥å·¦æŒ‡é’ˆç§»åŠ¨åŽä¸å¯èƒ½é€šè¿‡å³æŒ‡é’ˆå³è¾¹çš„æ•°å¾—åˆ°æ›´å¥½çš„ç­”æ¡ˆã€‚ Python Code 1234567891011121314151617class Solution(object): def maxArea(self, height): """ :type height: List[int] :rtype: int """ mx = 0 i = 0 j = len(height) - 1 while i &lt; j: v = min(height[i], height[j]) * (j-i) mx = max(mx, v) if height[i] &lt; height[j]: i += 1 else: j -= 1 return mx]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 41 First Missing Positive]]></title>
    <url>%2F2018%2F08%2F23%2Fleetcode41%2F</url>
    <content type="text"><![CDATA[æ¡¶æŽ’åºæ€æƒ³ï¼Œä¸€ç§ç†æƒ³æƒ…å†µä¸‹æŽ¥è¿‘O(n)çš„æŽ’åºç®—æ³• Given an unsorted integer array, find the smallest missing positive integer. Example 1: 123&gt; Input: [1,2,0]&gt; Output: 3&gt; Example 2: 123&gt; Input: [3,4,-1,1]&gt; Output: 2&gt; Example 3: 123&gt; Input: [7,8,9,11,12]&gt; Output: 1&gt; Note: Your algorithm should run in O(n) time and uses constant extra space. å‡è®¾è¿™nä¸ªæ•°å°±æ˜¯1-nè¿›è¡ŒæŽ’åºï¼Œå³iåº”è¯¥æ”¾åœ¨nums[i-1]ä¸Š æ‰«æä¸€éæ•°ç»„ï¼Œåªè¦å½“å‰ä½ç½®ä¸Šçš„æ•°ä¸æ˜¯åœ¨1-nä¹‹é—´å¹¶ä¸”æ²¡æœ‰æ­£ç¡®æ‘†æ”¾ï¼Œå°±ä¸Žæ­£ç¡®ä½ç½®ä¸Šçš„æ•°è¿›è¡Œä¸€æ¬¡äº¤æ¢ æ‰€æœ‰çš„æ•°éƒ½ä¼šè¢«æ‰«æåˆ°ä¸€éï¼Œæ¯ä¸€æ¬¡äº¤æ¢éƒ½ä¼šä½¿å¾—ä¸€ä¸ªæ•°åˆ°è¾¾å®ƒåº”è¯¥åœ¨çš„ä½ç½®ä¸Šï¼Œæ‰€ä»¥æœ€å¤šäº¤æ¢næ¬¡ï¼Œæ‰«æè¿‡åŽæ‰€æœ‰åœ¨1-nåŒºé—´å†…çš„æ•°éƒ½ä¼šè¢«æ¢åˆ°å®ƒåº”è¯¥åœ¨çš„ä½ç½®ä¸Š å†ä»Žå¤´æ‰«æä¸€éæ•°ç»„ï¼Œç¬¬ä¸€ä¸ªæ”¾ç½®é”™è¯¯çš„ä½ç½®å°±æ˜¯ç¬¬ä¸€ä¸ªç¼ºå¤±çš„æ•°ï¼Œå¦‚æžœéƒ½æ­£ç¡®äº†ï¼Œé‚£ä¹ˆå°±æ˜¯n+1ç¼ºå¤± Python Code 12345678910111213141516171819class Solution: def firstMissingPositive(self, nums): """ :type nums: List[int] :rtype: int """ length = len(nums) if length == 0: return 1 for i in range(length): while nums[i] &gt; 0 and nums[i] &lt;= length and nums[i] != i+1 and nums[i] != nums[nums[i]-1]: tmp = nums[nums[i]-1] nums[nums[i]-1] = nums[i] nums[i] = tmp for i in range(length): if nums[i] != i+1: return i+1 return length+1]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Jsoupç¼–å†™ç½‘ç»œçˆ¬è™«]]></title>
    <url>%2F2018%2F07%2F16%2Fjsoup%2F</url>
    <content type="text"><![CDATA[ä»¥çˆ¬å–Stack Overflowçš„æœç´¢ç»“æžœä¸ºä¾‹ï¼Œä½¿ç”¨Jsoupåº“ç¼–å†™Javaç½‘ç»œçˆ¬è™« Jsoupæ˜¯ä¸€ä¸ªéžå¸¸å¥½ç”¨å¹¶ä¸”å¼€æºçš„Javaçˆ¬è™«ï¼ˆç”¨æ¥å‘é€è¯·æ±‚å’Œè§£æžHtmlçš„åº“ï¼‰ï¼Œæœ¬ç¯‡ç¬”è®°å°†ä¼šä»‹ç»å¦‚ä½•ä½¿ç”¨Jsoupç¼–å†™ä¸€ä¸ªç®€å•çš„ç½‘ç»œçˆ¬è™«ï¼Œç”¨æ¥èŽ·å–Stack Overflowçš„æœç´¢ç»“æžœ Jsoupå®˜ç½‘æœ‰éžå¸¸æ£’çš„æ–‡æ¡£ï¼Œå»ºè®®æœ‰èƒ½åŠ›çš„å¯ä»¥ç›´æŽ¥å‚è€ƒ; ä¸‹é¢å¼€å§‹ç¼–å†™ä¸€ä¸ªè‡ªå·±çš„Demo é¦–å…ˆåˆ›å»ºä¸€ä¸ªMavenå·¥ç¨‹é¡¹ç›®ï¼Œå¹¶åœ¨pom.xmlæ–‡ä»¶ä¸­å¯¼å…¥jsoupåŒ…å¼•ç”¨ 12345&lt;dependency&gt; &lt;groupId&gt;org.jsoup&lt;/groupId&gt; &lt;artifactId&gt;jsoup&lt;/artifactId&gt; &lt;version&gt;1.11.2&lt;/version&gt;&lt;/dependency&gt; â€‹ åˆ›å»ºä¸€ä¸ªjavaæ–‡ä»¶ï¼Œå‘½åä¸ºJsoupTest.java å¼•å…¥éœ€è¦çš„ç›¸åº”çš„å¼•ç”¨ 12345import org.jsoup.Jsoup;import org.jsoup.nodes.Document;import org.jsoup.nodes.Element;import org.jsoup.select.Elements;import java.io.IOException; â€‹ è¿›å…¥Stack Overflowé¦–é¡µï¼Œä»¥IOExceptionä¸ºä¾‹æœç´¢ä¸€ä¸‹ï¼Œç„¶åŽæ‰“å¼€è°ƒè¯•å·¥å…·æŸ¥çœ‹ç½‘é¡µçš„ç»“æž„ï¼Œæˆ‘ä»¬éœ€è¦èŽ·å–æ¯ä¸ªé—®é¢˜ã€é—®é¢˜çš„æ‘˜è¦ä»¥åŠé—®é¢˜çš„é“¾æŽ¥ã€‚ é€‰å–æˆ‘ä»¬éœ€è¦çš„ç»“æžœåŒºåŸŸï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬è¦çš„å…ƒç´ åœ¨ä¸€ä¸ªç±»åž‹ä¸ºquestion-summaryçš„divä¸‹ä¸€ä¸ªç±»åž‹ä¸ºsummaryçš„divä¸‹ï¼Œå…¶ä¸­ï¼š class=&quot;result-link&quot;é‡Œé¢å­˜ç€é—®é¢˜ä»¥åŠé—®é¢˜çš„é“¾æŽ¥; class=&quot;excerpt&quot;é‡Œé¢å­˜ç€é—®é¢˜çš„æ‘˜è¦; class=&quot;tags&quot;é‡Œé¢å­˜ç€é—®é¢˜çš„æ ‡ç­¾; class=&quot;started&quot;é‡Œé¢å­˜ç€æé—®æ—¥æœŸ â€‹ çŸ¥é“ç»“æž„ä»¥åŽå°±å¯ä»¥å¼€å§‹ç¼–å†™çˆ¬è™«äº† é¦–å…ˆå®šä¹‰URLï¼ŒStackoverflowä½¿ç”¨GETè¯·æ±‚çš„æ–¹å¼æ¥è¿›è¡Œæœç´¢ï¼Œæ‰€ä»¥åˆ›å»ºä¸¤ä¸ªä¸² 12static String url = "https://stackoverflow.com/search?q=";static String query = "IOException"; ç¬¬äºŒä¸ªqueryä¸²å°±æ˜¯è¦æœç´¢çš„å†…å®¹ï¼Œå‰é¢æ˜¯æŸ¥è¯¢urlçš„å‰ç¼€ ç„¶åŽä½¿ç”¨Jsoupå‘é€è¯·æ±‚ï¼ŒæŠŠqueryç›´æŽ¥æŽ¥åœ¨urlåŽé¢å°±è¡Œ 1Document doc = Jsoup.connect(url+query).get(); docä¸ºæ”¶åˆ°çš„responseï¼Œä¹Ÿå°±æ˜¯æ•´ä¸ªé¡µé¢ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨Jsoupçš„è§£æžåŠŸèƒ½æ¥æå–æˆ‘ä»¬éœ€è¦çš„å†…å®¹äº†ï¼š æå–question-summaryç±»ä¸‹çš„summaryç±»(CSSè¯­æ³•) 1Elements elements = doc.select(".question-summary .summary"); è¿™æ ·å°†å¾—åˆ°ä¸€ä¸ªHtmlå…ƒç´ çš„é˜Ÿåˆ—ï¼Œç„¶åŽè¿­ä»£åœ°è¿›è¡Œå†…å®¹çš„æå– 1234567for(Element e : elements)&#123; Elements title = e.select(".result-link h3 a"); System.out.println("title: " + title.get(0).attr("title")); System.out.println("url: " + title.get(0).absUrl("href")); Elements excerpt = e.select(".excerpt"); System.out.println("Excerpt: " + excerpt.text() + "\n");&#125; åŒæ ·ä¹Ÿæ˜¯é‡‡ç”¨CSSè¯­æ³•ï¼Œattr()æ–¹æ³•ä¼šèŽ·å–å…ƒç´ é‡Œçš„æŸä¸ªå±žæ€§å€¼(Attribute)ï¼Œç”±äºŽå¾ˆå¤šé¡µé¢å†…çš„é“¾æŽ¥éƒ½æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œabsurl()ä¼šèŽ·å–hrefå±žæ€§ä¸­çš„urlåŽï¼Œè‡ªåŠ¨å½¢æˆæˆ‘ä»¬éœ€è¦çš„ç»å¯¹è·¯å¾„ï¼Œtext()å°†ä¼šèŽ·å–å…ƒç´ ä¸­çš„æ–‡æœ¬å…ƒç´ (ä¸åŒ…å«æ ‡ç­¾)ï¼Œhtml()åˆ™æ˜¯èŽ·å¾—è¯¥å…ƒç´ ä¸‹çš„æ‰€æœ‰å†…å®¹; â€‹ ç„¶åŽæŸ¥çœ‹æ˜¾ç¤ºç»“æžœ 123456789101112title: HttpClient request throws IOExceptionurl: https://stackoverflow.com/questions/13141434/httpclient-request-throws-ioexceptionExcerpt: The following code throws a IOException with the message: &quot;The specified registry key does not exist.&quot; HttpClient client = new HttpClient(); Uri uri = new Uri(&quot;http://www.google.com â€¦title: How to avoid Java code in JSP files?url: https://stackoverflow.com/questions/3177733/how-to-avoid-java-code-in-jsp-files/3180202#3180202Excerpt: , IOException &#123; if (((HttpServletRequest) request).getSession().getAttribute(&quot;user&quot;) == null) &#123; ((HttpServletResponse) response).sendRedirect(&quot;login&quot;); // Not logged in, redirect to login page â€¦ ServletException, IOException &#123; try &#123; List&lt;Product&gt; products = productService.list(); // Obtain all products. request.setAttribute(&quot;products&quot;, products); // Store products in â€¦title: Understanding Java IOExceptionurl: https://stackoverflow.com/questions/5819121/understanding-java-ioexceptionExcerpt: I need some help with understanding the IOException. I&apos;ve reviewed a lot of information on the internet, and looked at the technical specifications at Oracle&apos;s Java website. Am I correct in my â€¦ understanding of the IOException class and all of it&apos;s sub-classes, that there are no associated &quot;error messages&quot; or &quot;return code&quot; values? So if one wanted to issue some message and/or return code value â€¦... â€‹ å®Œæˆæˆ‘ä»¬è¦çš„æå– å®Œæ•´çš„ä»£ç ]]></content>
      <categories>
        <category>ç½‘ç»œçˆ¬è™«</category>
      </categories>
      <tags>
        <tag>ç½‘ç»œçˆ¬è™«</tag>
        <tag>Java</tag>
        <tag>Jsoup</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 34 Search for a Range]]></title>
    <url>%2F2018%2F06%2F03%2Fleetcode34%2F</url>
    <content type="text"><![CDATA[ç”¨ä¸åŒçš„äºŒåˆ†æŸ¥æ‰¾æ–¹å¼æ‰¾åˆ°æœ€å·¦è¾¹å’Œæœ€å³è¾¹çš„target Given an array of integers nums sorted in ascending order, find the starting and ending position of a given target value. Your algorithmâ€™s runtime complexity must be in the order of O(log n). If the target is not found in the array, return [-1, -1]. Example 1: 123&gt; Input: nums = [5,7,7,8,8,10], target = 8&gt; Output: [3,4]&gt; Example 2: 123&gt; Input: nums = [5,7,7,8,8,10], target = 6&gt; Output: [-1,-1]&gt; Python Code 123456789101112131415161718192021222324252627282930313233class Solution: def searchRange(self, nums, target): """ :type nums: List[int] :type target: int :rtype: List[int] """ if len(nums) == 0: return [-1, -1] l = 0 r = len(nums)-1 # left most while l &lt;= r: mid = (l+r) // 2 if nums[mid] &gt;= target: r = mid-1 else: l = mid+1 if l &gt;= len(nums) or nums[l] != target: return [-1, -1] left = l l = 0 r = len(nums)-1 # right most while l &lt;= r: mid = (l+r) // 2 if nums[mid] &gt; target: r = mid-1 else: l = mid+1 right = r return [left, right]]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœºå™¨å­¦ä¹ å®žæˆ˜--Aprioriç®—æ³•æŒ–æŽ˜å…³è”è§„åˆ™]]></title>
    <url>%2F2018%2F05%2F29%2FApriori2%2F</url>
    <content type="text"><![CDATA[Aprioriç®—æ³•æ˜¯æœ€è‘—åçš„å…³è”è§„åˆ™çš„æŒ–æŽ˜æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨å®ƒæŒ–æŽ˜é¢‘ç¹é¡¹é›†å‘çŽ°æ•°æ®ä¸­çš„è§„å¾‹ã€‚è‘—åçš„â€œå•¤é…’ä¸Žå°¿å¸ƒâ€æ¡ˆä¾‹å°±æ˜¯åœ¨åˆ†æžå¤§é‡è¶…å¸‚çš„äº‹åŠ¡ä¹‹åŽå‘çŽ°äº†â€œå•¤é…’â€ä¸Žâ€œå°¿å¸ƒâ€è¿™ä¸€é¢‘ç¹é¡¹é›†ã€‚è¿™ç¯‡ç¬”è®°ä¸»è¦æ˜¯è®°å½•Aprioriçš„Python3ä»£ç å®žçŽ°çš„ï¼Œä¼šå°±ç®—æ³•æ¥è®²è§£AprioriæŒ–æŽ˜é¢‘ç¹é¡¹é›†çš„æ­¥éª¤ï¼Œç®—æ³•çš„è¯¦ç»†å†…å®¹åœ¨ã€Šæ•°æ®æŒ–æŽ˜-æ¦‚å¿µä¸ŽæŠ€æœ¯ã€‹ä¸€ä¹¦ä¸­æœ‰éžå¸¸è¯¦ç»†çš„è®²è§£ï¼Œè¿™é‡Œä¸å†èµ˜è¿° å®Œæ•´ä»£ç åœ¨è¿™é‡Œ å‰é¢æ–‡ç« https://www.ph0en1x.space/2018/05/13/Apriori/ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨Aprioriç®—æ³•æŒ–æŽ˜é¢‘ç¹é¡¹é›†ï¼Œè¿™ç¯‡æ–‡ç« å°†ç»§ç»­ä»‹ç»å¦‚ä½•æ‰¾åˆ°å…³è”è§„åˆ™ ç”Ÿæˆå…³è”è§„åˆ™çš„å…¥å£å‡½æ•°ï¼Œä»Žå…ˆå‡å°‘ä¸€ä¸ªé¡¹é›†å¼€å§‹ï¼Œç„¶åŽäº¤ç”±rulesFromConseqè¿›è¡Œé€’å½’ 123456789101112131415def generateRules(L, supportData, minConf=0.7): ''' L: itemsets supportData: map of the item to the number ''' bigRuleList = [] for i in range(1, len(L)): for freqSet in L[i]: Hl = [frozenset([item]) for item in freqSet] if i &gt; 1: rulesFromConseq(freqSet, Hl, supportData, bigRuleList, minConf) else: calcConf(freqSet, Hl, supportData, bigRuleList, minConf) return bigRuleList â€‹ è®¡ç®—ç½®ä¿¡åº¦æ˜¯å¦è¶…è¿‡é˜ˆå€¼ 12345678910def calcConf(freqSet, H, supportData, brl, minConf=0.7): prunedH=[] for conseq in H: conf = supportData[freqSet] / supportData[freqSet-conseq] if conf &gt;= minConf: print (freqSet-conseq, '---&gt;', conseq, 'conf:', conf) brl.append((freqSet-conseq, conseq, conf)) # å‰ªæžï¼Œå¦‚æžœç½®ä¿¡åº¦å·²ç»ä½ŽäºŽé˜ˆå€¼ï¼Œå°±ä¸ç”¨ç»§ç»­åŠ äº† prunedH.append(conseq) return prunedH â€‹ é€’å½’å¢žåŠ åˆ†å­ä¸­çš„itemæ•°é‡ 1234567891011def rulesFromConseq(freqSet, H, supportData, brl, minConf=0.7): ''' é€’å½’æ‰«æå…³è”å…³ç³» å°‘1ä¸ª å°‘2ä¸ª... ''' m = len(H[0]) if len(freqSet) &gt; (m+1): Hmp1 = aprioriGen(H, m+1) Hmp1 = calcConf(freqSet, Hmp1, supportData, brl, minConf) if len(Hmp1) &gt; 1: rulesFromConseq(freqSet, Hmp1, supportData, brl, minConf) åœ¨mainå‡½æ•°ä¸­æ·»åŠ å…³è”å…³ç³»çš„è°ƒç”¨ 123456789101112131415if __name__ == "__main__": # dataSet, dataMap = loadDataSet() dataSet = loadDataSet() start = time.time() L, suppData = apriori(dataSet, minSupport=100) end = time.time() cnt = 1 for i in L: print(cnt, i) cnt += 1 print('Apriori total time:', end-start, 's') print("Generate Rule Begin:") # ç”Ÿæˆå…³è”å…³ç³» generateRules(L, suppData, minConf=0.3) â€‹]]></content>
      <categories>
        <category>æ•°æ®æŒ–æŽ˜</category>
      </categories>
      <tags>
        <tag>Data Mining</tag>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœºå™¨å­¦ä¹ å®žæˆ˜--Aprioriç®—æ³•æŒ–æŽ˜é¢‘ç¹é¡¹é›†]]></title>
    <url>%2F2018%2F05%2F13%2FApriori%2F</url>
    <content type="text"><![CDATA[Aprioriç®—æ³•æ˜¯æœ€è‘—åçš„å…³è”è§„åˆ™çš„æŒ–æŽ˜æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨å®ƒæŒ–æŽ˜é¢‘ç¹é¡¹é›†å‘çŽ°æ•°æ®ä¸­çš„è§„å¾‹ã€‚è‘—åçš„â€œå•¤é…’ä¸Žå°¿å¸ƒâ€æ¡ˆä¾‹å°±æ˜¯åœ¨åˆ†æžå¤§é‡è¶…å¸‚çš„äº‹åŠ¡ä¹‹åŽå‘çŽ°äº†â€œå•¤é…’â€ä¸Žâ€œå°¿å¸ƒâ€è¿™ä¸€é¢‘ç¹é¡¹é›†ã€‚è¿™ç¯‡ç¬”è®°ä¸»è¦æ˜¯è®°å½•Aprioriçš„Python3ä»£ç å®žçŽ°çš„ï¼Œä¼šå°±ç®—æ³•æ¥è®²è§£AprioriæŒ–æŽ˜é¢‘ç¹é¡¹é›†çš„æ­¥éª¤ï¼Œç®—æ³•çš„è¯¦ç»†å†…å®¹åœ¨ã€Šæ•°æ®æŒ–æŽ˜-æ¦‚å¿µä¸ŽæŠ€æœ¯ã€‹ä¸€ä¹¦ä¸­æœ‰éžå¸¸è¯¦ç»†çš„è®²è§£ï¼Œè¿™é‡Œä¸å†èµ˜è¿° å®Œæ•´ä»£ç åœ¨è¿™é‡Œ æ•°æ®æ ¼å¼ ç±»ä¼¼ä¸‹æ–¹çš„äºŒç»´æ•°ç»„ï¼Œæ¯ä¸€ä¸ªlistä»£è¡¨ä¸€ä¸ªtransactionï¼Œé‡Œé¢çš„æ¯ä¸ªæ•°éƒ½æ˜¯itemçš„ç¼–å· 1[[1,2,5], [2,4], [2,3], [1,2,4],[1,3], [2,3], [1,3], [1,2,3,5], [1,2,3]] è¯»å–æ•°æ® 12345678def loadDataSet(): thing_arr = [] with open('data/Groceries.txt', 'r') as f: X = f.read() thing_arr = json.loads(X) f.close() return thing_arr â€‹ é¦–å…ˆç”ŸæˆC1é›†åˆï¼Œå°†æ‰€æœ‰å‡ºçŽ°è¿‡çš„itemç¼–å·éƒ½åŠ å…¥åˆ°C1ä¸­ 1234567891011121314def createC1(dataSet): ''' ç”ŸæˆC1 :param dataSet: :return: ''' C1 = [] for transaction in dataSet: for item in transaction: if not [item] in C1: C1.append([item]) C1.sort() #å°†é¡¹é›†åˆ—è¡¨è½¬æ¢ä¸ºä¸å¯å˜é›†å’Œ return [frozenset(item) for item in C1] â€‹ æ‰«ææ•°æ®é›†è®¡æ•°ï¼ŒåŽ»é™¤Ckä¸­çš„éžé¢‘ç¹é¡¹é›†ï¼Œç”ŸæˆL1 1234567891011121314151617181920212223def scanD(D, Ck, minSupport = 50): ''' æ‰«æäº‹åŠ¡é›†Dè¿‡æ»¤Ck :param D: :param Ck: :param minSupport: :return: ''' ssCnt = &#123;&#125; for tid in D: for can in Ck: if can.issubset(tid): if can not in ssCnt.keys() : ssCnt[can] = 1 else: ssCnt[can] += 1 retList = [] supportData = &#123;&#125; for key in ssCnt: support = ssCnt[key] if support &gt;= minSupport: retList.insert(0, key) supportData[key] = support return retList, supportData â€‹ ä»ŽLk-1é›†ä¸­ç”ŸæˆCké›†åˆï¼Œéœ€è¦å°†Lk-1é¡¹é›†è¿›è¡ŒæŽ’åºï¼Œç„¶åŽå°†å‰k-2é¡¹ç›¸åŒçš„é›†åˆè¿›è¡Œåˆå¹¶ 123456789101112131415161718def aprioriGen(Lk, k): ''' ç”ŸæˆCk :param Lk: :param k: :return: ''' retList = [] lenLk = len(Lk) for i in range(lenLk): for j in range(i+1, lenLk): L1 = list(Lk[i])[:k-2] L2 = list(Lk[j])[:k-2] L1.sort() L2.sort() if L1 == L2: retList.append(Lk[i] | Lk[j]) return retList â€‹ å°†ä¸Šè¿°æ­¥éª¤ç»“åˆèµ·æ¥ï¼Œå°±å¯ä»¥ç”Ÿæˆæ‰€æœ‰çš„é¢‘ç¹é¡¹é›†ï¼Œç›´åˆ°ä¸ºç©ºç»ˆæ­¢ç®—æ³• 12345678910111213def apriori(dataSet, minSupport = 50): C1 = createC1(dataSet=dataSet) D = [set(item) for item in dataSet] L1, supportData = scanD(D, C1, minSupport) L = [L1] k = 2 while(len(L[k-2]) &gt; 0): Ck = aprioriGen(L[k-2], k) Lk, supK = scanD(D, Ck, minSupport) supportData.update(supK) L.append(Lk) k += 1 return L, supportData åˆ°æ­¤ä½¿ç”¨AprioriæŒ–æŽ˜é¢‘ç¹é¡¹é›†å°±ç¼–å†™å®Œäº†ï¼ŒåŽé¢è¿˜æœ‰å…³è”è§„åˆ™çš„æŒ–æŽ˜ï¼Œæœªå®Œã€‚ã€‚ â€‹]]></content>
      <categories>
        <category>æ•°æ®æŒ–æŽ˜</category>
      </categories>
      <tags>
        <tag>Data Mining</tag>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœºå™¨å­¦ä¹ å®žæˆ˜--FP-growthç®—æ³•æŒ–æŽ˜é¢‘ç¹é¡¹é›†]]></title>
    <url>%2F2018%2F05%2F13%2FFPgrowth%2F</url>
    <content type="text"><![CDATA[FP-growthæ˜¯é¢‘ç¹é¡¹é›†æŒ–æŽ˜çš„ä¸€ç§ä¼˜åŒ–ç®—æ³•ã€‚å®ƒå…ˆå°†äº‹åŠ¡å…ˆæž„é€ æˆä¸€æ£µFPæ ‘ï¼Œè¿™æ ·ä¸€æ¥å°±ä¸ç”¨åƒAprioriä¸€é¡¹åå¤åœ°æ‰«æåŽŸæ¥çš„äº‹åŠ¡äº†ï¼Œå¤§å¤§æé«˜äº†æ•ˆçŽ‡ã€‚è¿™ç¯‡ç¬”è®°ä¸»è¦æ˜¯è®°å½•FP-growthçš„Python3ä»£ç å®žçŽ°çš„ï¼Œä¼šå°±ç®—æ³•æ¥è®²è§£FP-growthæŒ–æŽ˜é¢‘ç¹é¡¹é›†çš„æ­¥éª¤ï¼Œç®—æ³•çš„è¯¦ç»†å†…å®¹åœ¨ã€Šæ•°æ®æŒ–æŽ˜-æ¦‚å¿µä¸ŽæŠ€æœ¯ã€‹ä¸€ä¹¦ä¸­æœ‰éžå¸¸è¯¦ç»†çš„è®²è§£ï¼Œè¿™é‡Œä¸å†èµ˜è¿° å®Œæ•´ä»£ç åœ¨è¿™é‡Œ æ•°æ®æ ¼å¼ ç±»ä¼¼ä¸‹æ–¹çš„äºŒç»´æ•°ç»„ï¼Œæ¯ä¸€ä¸ªlistä»£è¡¨ä¸€ä¸ªtransactionï¼Œé‡Œé¢çš„æ¯ä¸ªæ•°éƒ½æ˜¯itemçš„ç¼–å· 1[[1,2,5], [2,4], [2,3], [1,2,4],[1,3], [2,3], [1,3], [1,2,3,5], [1,2,3]] è¯»å–æ•°æ® 12345678def loadDataSet(): thing_arr = [] with open('data/Groceries.txt', 'r') as f: X = f.read() thing_arr = json.loads(X) f.close() return thing_arr â€‹ FP-Growthå®žçŽ°èµ·æ¥ç›¸å¯¹å¤æ‚ï¼Œéœ€è¦å®šä¹‰æ ‘ç»“ç‚¹ç»“æž„ 1234567891011121314151617181920class treeNode: def __init__(self, nameValue, numOccur, parentNode): # å€¼ self.name = nameValue # è®¡æ•° self.count = numOccur # ä¸‹ä¸€ä¸ªç›¸åŒå€¼çš„ç»“ç‚¹ self.nodeLink = None # çˆ¶èŠ‚ç‚¹ self.parent = parentNode # å­©å­ç»“ç‚¹ self.children = &#123;&#125; def inc(self, numOccur): self.count += numOccur def disp(self, ind=1): print(" "*ind, self.name, ' ', self.count) for child in self.children.values(): child.disp(ind+1) â€‹ åˆå§‹åŒ–transactionè®¡æ•° 12345def createInitSet(dataSet): retDict = &#123;&#125; for trans in dataSet: retDict[frozenset(trans)] = 1 return retDict â€‹ å»ºç«‹FPæ ‘ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879def createTree(dataSet, minSup = 1): ''' åˆ›å»ºæ ¹ç»“ç‚¹ä»¥åŠæœç´¢é“¾è¡¨è¡¨å¤´ :param dataSet: :param minSup: :return: ''' # æœç´¢é“¾è¡¨å¤´ headerTable = &#123;&#125; # åœ¨æœç´¢ç”¨çš„é“¾è¡¨å¤´é™¤è®°å½•æ¯ä¸ªitemçš„é¢‘æ•° for trans in dataSet: for item in trans: headerTable[item] = headerTable.get(item, 0) + dataSet[trans] # å°äºŽæœ€å°æ”¯æŒåº¦çš„itemä¸ç”¨è€ƒè™‘ for k in list(headerTable.keys()): if headerTable[k] &lt; minSup: del(headerTable[k]) freqItemSet = set(headerTable.keys()) # å¦‚æžœä¸å­˜åœ¨é¢‘ç¹é¡¹é›†åˆ™ç›´æŽ¥è¿”å›žç©º if len(freqItemSet) == 0: return None, None # ä¸ºæ¯ä¸ªç»“ç‚¹å¢žåŠ ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªåŒå€¼ç»“ç‚¹çš„æŒ‡é’ˆ for k in headerTable.keys(): headerTable[k] = [headerTable[k], None] # æ ‘æ ¹ retTree = treeNode('Null Set', 1, None) for tranSet, count in dataSet.items(): localD = &#123;&#125; for item in tranSet: if item in freqItemSet: localD[item] = headerTable[item][0] if len(localD) &gt; 0: # æ¯ä¸ªtransactionä¸­çš„itemæŒ‰å‡ºçŽ°çš„æ¬¡æ•°ä»Žé«˜åˆ°ä½ŽæŽ’ orderedItems = [v[0] for v in sorted(localD.items(), key=lambda p: p[1], reverse=True)] # å»ºæ ‘ updateTree(orderedItems, retTree, headerTable, count) return retTree, headerTabledef updateTree(items, inTree, headerTable, count): ''' æ¯ä¸ªtransactioné€’å½’æ›´æ–°åˆ°æ ‘ä¸Šï¼Œå¹¶æ›´æ–°æœç´¢é“¾è¡¨ :param items: :param inTree: :param headerTable: :param count: æ¯ä¸ªtransactionçš„å‡ºçŽ°æ¬¡æ•° :return: ''' # æ¯ä¸ªtransactionçš„æœ€é«˜å‡ºçŽ°è¯æ•°itemç›´æŽ¥æŽ¥åœ¨rootä¸Š if items[0] in inTree.children: # æœ‰è¯¥å…ƒç´ é¡¹æ—¶è®¡æ•°å€¼+1 inTree.children[items[0]].inc(count) else: # æ²¡æœ‰è¿™ä¸ªå…ƒç´ é¡¹æ—¶åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹ inTree.children[items[0]] = treeNode(items[0], count, inTree) # æ›´æ–°å¤´æŒ‡é’ˆè¡¨æˆ–å‰ä¸€ä¸ªç›¸ä¼¼å…ƒç´ é¡¹èŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹ if headerTable[items[0]][1] == None: headerTable[items[0]][1] = inTree.children[items[0]] else: updateHeader(headerTable[items[0]][1], inTree.children[items[0]]) # é€’å½’å»ºæ ‘ if len(items) &gt; 1: # å¯¹å‰©ä¸‹çš„å…ƒç´ é¡¹è¿­ä»£è°ƒç”¨updateTreeå‡½æ•° updateTree(items[1:], inTree.children[items[0]], headerTable, count) def updateHeader(nodeToTest, targetNode): ''' æ‰¾åˆ°é“¾è¡¨å°¾åŠ ä¸Šä¸€ä¸ª :param nodeToTest: :param targetNode: :return: ''' while (nodeToTest.nodeLink != None): nodeToTest = nodeToTest.nodeLink nodeToTest.nodeLink = targetNode â€‹ åœ¨æ¯æ¬¡æŸ¥è¯¢æ¡ä»¶FPæ ‘æ—¶ï¼Œéœ€è¦é€’å½’å¯»æ‰¾å…¶æ¡ä»¶å‰ç¼€è·¯å¾„ 12345678910111213141516171819202122def ascendTree(leafNode, prefixPath): ''' é€’å½’å¯»æ‰¾çˆ¶èŠ‚ç‚¹ :param leafNode: :param prefixPath: :return: ''' if leafNode.parent != None: prefixPath.append(leafNode.name) ascendTree(leafNode.parent, prefixPath)def findPrefixPath(basePat, treeNode): condPats = &#123;&#125; while treeNode != None: prefixPath = [] # èŽ·å¾—æŸä¸ªå¶å­èŠ‚ç‚¹çš„å‰ç¼€è·¯å¾„ ascendTree(treeNode, prefixPath) if len(prefixPath) &gt;= 2: # åŽ»æŽ‰è‡ªå·±èŽ·å¾—å‰ç¼€è·¯å¾„ï¼Œä¸”æƒé‡ä¸ºå½“å‰ç»“ç‚¹çš„æƒé‡ï¼Œç”¨äºŽå»ºç«‹æ¡ä»¶å‰ç¼€æ ‘ condPats[frozenset(prefixPath[1:])] = treeNode.count treeNode = treeNode.nodeLink return condPats è¿›è¡Œé¢‘ç¹é¡¹æŒ–æŽ˜ 12345678910111213141516171819202122def mineTree(inTree, headerTable, minSup, preFix, freqItemList): ''' é€’å½’æŸ¥æ‰¾é¢‘ç¹é¡¹é›† :param inTree: FPæ ‘ :param headerTable: :param minSup: :param preFix: å½“å‰å‰ç¼€ :param freqItemList: å­˜å‚¨é¢‘ç¹é¡¹é›† :return: ''' # ä»Žå‡ºçŽ°æ¬¡æ•°å°‘çš„å¼€å§‹æ‰¾ bigL = [v[0] for v in sorted(headerTable.items(), key=lambda p: p[1][0])] for basePat in bigL: newFreqSet = preFix.copy() newFreqSet.add(basePat) freqItemList.append(newFreqSet) condPattBases = findPrefixPath(basePat, headerTable[basePat][1]) CondTree, Header = createTree(condPattBases, minSup) if Header != None: mineTree(CondTree, Header, minSup, newFreqSet, freqItemList) â€‹]]></content>
      <categories>
        <category>æ•°æ®æŒ–æŽ˜</category>
      </categories>
      <tags>
        <tag>Data Mining</tag>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntuè‡ªå·±åˆ›å»ºæ¡Œé¢å¿«æ·æ–¹å¼]]></title>
    <url>%2F2018%2F04%2F25%2Fubuntu_shortcut%2F</url>
    <content type="text"><![CDATA[æœ¬ç¯‡æ–‡ç« å°†ä¼šä»‹ç»å¦‚ä½•åœ¨Ubuntuä¸‹åˆ›å»ºè‡ªå·±çš„å¿«æ·æ–¹å¼ æ“ä½œæ­¥èšï¼š æ–°å»ºç©ºç™½æ–‡æ¡£ å†™å…¥ 1234567[Desktop Entry]Name = Studiocomment= android studioExec=å¯æ‰§è¡Œæ–‡ä»¶ä½ç½®Icon=å›¾æ ‡ä½ç½®Terminal=falseType=Application æ›´æ”¹æ–‡ä»¶åä¸ºxxx.desktop å³é”®å±žæ€§â€”æƒé™â€”å…è®¸ä½œä¸ºç¨‹åºæ‰§è¡Œæ–‡ä»¶ åˆ›å»ºå®Œæˆ]]></content>
      <categories>
        <category>çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>çŽ¯å¢ƒæ­å»º</tag>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntuä¸‹å®‰è£…Matlab 2018a]]></title>
    <url>%2F2018%2F04%2F23%2Fubuntu_matlab%2F</url>
    <content type="text"><![CDATA[åœ¨Ubuntuåœ¨å®‰è£…Matlabç”¨äºŽå­¦ä¹ ã€ç ”ç©¶ç”¨é€”ã€‚Linuxä¸Šå¯ä»¥ä½¿ç”¨å¼€æºå…è´¹çš„Octaveä»£æ›¿ ä¸‹è½½Matlab 2018a å®‰è£…åŒ… matlabæ˜¯æ”¶è´¹è½¯ä»¶ï¼Œæ‰€ä»¥è¿™ç¯‡ç¬”è®°æ²¡æœ‰æä¾›ä¸‹è½½å’Œç ´è§£èµ„æºï¼Œå„ä½æƒ³æŠŠMatlabç”¨åšå­¦ä¹ ç ”ç©¶ç”¨é€”çš„ç«¥éž‹å¯ä»¥åˆ°å„å¤§PTç«™å–ä¸‹è½½ â€‹ è¿›å…¥å®‰è£…åŒ…å†…ï¼Œå’ŒWindowså®‰è£…ä¸€æ ·ï¼Œé‡Œé¢ä¼šæœ‰ä¸‰ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯ç ´è§£ç”¨çš„è¯ä¹¦æ–‡ä»¶ï¼Œå…‰ç›˜é•œåƒ1ï¼Œå…‰ç›˜é•œåƒ2 â€‹ åˆ›å»ºæŒ‚è½½ç‚¹~/matlabæŒ‚è½½æ˜ åƒæ–‡ä»¶1 123$ cd ~$ mkdir matlab $ sudo mount -t auto -o loop YOUR_DOWNLOAD_DIR/R2018a_glnxa64_dvd1.iso ~/matlab/ â€‹ æŒ‚è½½ä¹‹åŽï¼Œè¿›å…¥æ ¹ç›®å½•å¼€å§‹å®‰è£…(æ³¨æ„ä¸èƒ½ç›´æŽ¥åœ¨æŒ‚è½½ç›®å½•ä¸‹å¯åŠ¨install) 12$ cd /$ sudo ./home/phoenix/matlab/install â€‹ å®‰è£…ä¸­æç¤ºè¾“å…¥keyçš„å¯ä»¥åˆ°ç ´è§£æ–‡ä»¶Crackä¸­çš„readme.txtä¸­æ‰¾ æŒ‰ç…§æç¤ºè¿›è¡Œå®‰è£…ï¼Œå®‰è£…åˆ°ä¸€åŠæ—¶ä¼šæç¤ºæ’å…¥å…‰ç›˜2ï¼Œè¿™æ—¶å€™å°±è¦æŒ‚è½½æ˜ åƒæ–‡ä»¶2 1$ sudo mount -t auto -o loop YOUR_DOWNLOAD_DIR/R2018a_glnxa64_dvd2.iso ~/matlab/ â€‹ å®‰è£…å¥½åŽç¬¬ä¸€æ¬¡å¯åŠ¨ 12$ cd /usr/local/MATLAB/R2018a/bin$ sudo ./matlab â€‹ é€‰æ‹©ä¸è¦è”ç½‘æ¿€æ´»ï¼Œå¯¼å…¥Crackä¸­çš„license_standalone.licæ–‡ä»¶ â€‹ å¤åˆ¶æ–‡ä»¶ 1sudo cp -f YOUR_DOWNLOAD_DIR/Matlab2018aLinux64Crack/R2018a/bin/glnxa64/matlab_startup_plugins/lmgrimpl/libmwlmgrimpl.so /usr/local/MATLAB/R2018a/bin/glnxa64/matlab_startup_plugins/lmgrimpl å†æ¬¡å¯åŠ¨ 1$ sudo ./matlab]]></content>
      <categories>
        <category>çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
        <tag>matlab</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntuä¸‹ç¼–è¯‘å®‰è£…VLfeat]]></title>
    <url>%2F2018%2F04%2F23%2Fubuntu_vlfeat%2F</url>
    <content type="text"><![CDATA[The VLFeat open source library implements popular computer vision algorithms specializing in image understanding and local features extraction and matching. Algorithms include Fisher Vector, VLAD, SIFT, MSER, k-means, hierarchical k-means, agglomerative information bottleneck, SLIC superpixels, quick shift superpixels, large scale SVM training, and many others. It is written in C for efficiency and compatibility, with interfaces in MATLAB for ease of use, and detailed documentation throughout. It supports Windows, Mac OS X, and Linux. ä¸‹è½½æºç  è§£åŽ‹è¿›å…¥vlfeatçš„æ ¹ç›®å½•vlfeat_ROOT ä¿®æ”¹Makefile è§£é™¤æ³¨é‡Šæˆ–æ·»åŠ ä¸€è¡Œ 1DISABLE_OPENMP=yes â€‹ æ‰“å¼€/etc/ld.so.confæ·»åŠ ä¸€è¡Œ 1vlfeat_ROOT/toolbox/mex/mexa64 â€‹ åˆ·æ–°çŽ¯å¢ƒé…ç½® 1sudo ldconfig â€‹ å†æ¬¡è¿›å…¥vlfeat_ROOTï¼Œè¾“å…¥å‘½ä»¤ 1make MEX=matlab_ROOT/bin/mex â€‹ ç¼–è¯‘æˆåŠŸåŽè¿›å…¥matlabå‘½ä»¤è¡Œè¾“å…¥ 1run('vlfeat_ROOT/toolbox/vl_setup.m') è¿è¡ŒæˆåŠŸåŽæŸ¥çœ‹ç‰ˆæœ¬ï¼Œæ­£å¸¸æ˜¾ç¤ºåŽå®Œæˆå®‰è£… 1vl_version â€‹ åœ¨matlabèµ·å§‹ä½ç½®ä¸‹(æˆ‘çš„æ˜¯HOMEç›®å½•ä¸‹)æ·»åŠ ä¸€ä¸ªstartup.mæ–‡ä»¶å†™ä¸Š 1run('vlfeat_ROOT/toolbox/vl_setup.m') å°±å¯ä»¥æ¯æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨åŠ è½½vlfeat â€‹]]></content>
      <categories>
        <category>çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
        <tag>matlab</tag>
        <tag>VLfeat</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é©¬æ°è·ç¦»(Mahalanobis Distance)]]></title>
    <url>%2F2018%2F04%2F18%2FMahalanobis%2F</url>
    <content type="text"><![CDATA[é©¬æ°è·ç¦»(Mahalanobis Distance)æ˜¯åº¦é‡å­¦ä¹ ä¸­ä¸€ç§å¸¸ç”¨çš„è·ç¦»æŒ‡æ ‡ï¼ŒåŒæ¬§æ°è·ç¦»ã€æ›¼å“ˆé¡¿è·ç¦»ã€æ±‰æ˜Žè·ç¦»ç­‰ä¸€æ ·è¢«ç”¨ä½œè¯„å®šæ•°æ®ä¹‹é—´çš„ç›¸ä¼¼åº¦æŒ‡æ ‡ã€‚ä½†å´å¯ä»¥åº”å¯¹é«˜ç»´çº¿æ€§åˆ†å¸ƒçš„æ•°æ®ä¸­å„ç»´åº¦é—´éžç‹¬ç«‹åŒåˆ†å¸ƒçš„é—®é¢˜ã€‚ ä»€ä¹ˆæ˜¯é©¬æ°è·ç¦»é©¬æ°è·ç¦»(Mahalanobis Distance)æ˜¯ä¸€ç§è·ç¦»çš„åº¦é‡ï¼Œå¯ä»¥çœ‹ä½œæ˜¯æ¬§æ°è·ç¦»çš„ä¸€ç§ä¿®æ­£ï¼Œä¿®æ­£äº†æ¬§å¼è·ç¦»ä¸­å„ä¸ªç»´åº¦å°ºåº¦ä¸ä¸€è‡´ä¸”ç›¸å…³çš„é—®é¢˜ã€‚ å•ä¸ªæ•°æ®ç‚¹çš„é©¬æ°è·ç¦» æ•°æ®ç‚¹x, yä¹‹é—´çš„é©¬æ°è·ç¦» å…¶ä¸­Î£æ˜¯å¤šç»´éšæœºå˜é‡çš„åæ–¹å·®çŸ©é˜µï¼ŒÎ¼ä¸ºæ ·æœ¬å‡å€¼ï¼Œå¦‚æžœåæ–¹å·®çŸ©é˜µæ˜¯å•ä½å‘é‡ï¼Œä¹Ÿå°±æ˜¯å„ç»´åº¦ç‹¬ç«‹åŒåˆ†å¸ƒï¼Œé©¬æ°è·ç¦»å°±å˜æˆäº†æ¬§æ°è·ç¦»ã€‚ é©¬æ°è·ç¦»å®žé™…æ„ä¹‰é‚£ä¹ˆé©¬æ°è·ç¦»å°±èƒ½èƒ½å¹²ä»€ä¹ˆï¼Ÿå®ƒæ¯”æ¬§æ°è·ç¦»å¥½åœ¨å“ªé‡Œï¼Ÿä¸¾å‡ ä¸ªæ —å­ æ¬§å¼è·ç¦»è¿‘å°±ä¸€å®šç›¸ä¼¼ï¼Ÿ å…ˆä¸¾ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„ä¾‹å­ï¼Œèº«é«˜å’Œä½“é‡ï¼Œè¿™ä¸¤ä¸ªå˜é‡æ‹¥æœ‰ä¸åŒçš„å•ä½æ ‡å‡†ï¼Œä¹Ÿå°±æ˜¯æœ‰ä¸åŒçš„scaleã€‚æ¯”å¦‚èº«é«˜ç”¨æ¯«ç±³è®¡ç®—ï¼Œè€Œä½“é‡ç”¨åƒå…‹è®¡ç®—ï¼Œæ˜¾ç„¶å·®10mmçš„èº«é«˜ä¸Žå·®10kgçš„ä½“é‡æ˜¯å®Œå…¨ä¸åŒçš„ã€‚ä½†åœ¨æ™®é€šçš„æ¬§æ°è·ç¦»ä¸­ï¼Œè¿™å°†ä¼šç®—ä½œç›¸åŒçš„å·®è·ã€‚ å½’ä¸€åŒ–åŽæ¬§æ°è·ç¦»è¿‘å°±ä¸€å®šç›¸ä¼¼ï¼Ÿ å½“ç„¶æˆ‘ä»¬å¯ä»¥å…ˆåšå½’ä¸€åŒ–æ¥æ¶ˆé™¤è¿™ç§ç»´åº¦é—´scaleä¸åŒçš„é—®é¢˜ï¼Œä½†æ˜¯æ ·æœ¬åˆ†å¸ƒä¹Ÿä¼šå½±å“åˆ†ç±» ä¸¾ä¸ªä¸€ç»´çš„æ —å­ï¼ŒçŽ°åœ¨æœ‰ä¸¤ä¸ªç±»åˆ«ï¼Œç»Ÿä¸€å•ä½ï¼Œç¬¬ä¸€ä¸ªç±»åˆ«å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º0.1ï¼Œç¬¬äºŒä¸ªç±»åˆ«å‡å€¼ä¸º5ï¼Œæ–¹å·®ä¸º5ã€‚é‚£ä¹ˆä¸€ä¸ªå€¼ä¸º2çš„ç‚¹å±žäºŽç¬¬ä¸€ç±»çš„æ¦‚çŽ‡å¤§è¿˜æ˜¯ç¬¬äºŒç±»çš„æ¦‚çŽ‡å¤§ï¼Ÿè·ç¦»ä¸Šè¯´åº”è¯¥æ˜¯ç¬¬ä¸€ç±»ï¼Œä½†æ˜¯ç›´è§‰ä¸Šæ˜¾ç„¶æ˜¯ç¬¬äºŒç±»ï¼Œå› ä¸ºç¬¬ä¸€ç±»ä¸å¤ªå¯èƒ½åˆ°è¾¾2è¿™ä¸ªä½ç½®ã€‚ æ‰€ä»¥ï¼Œåœ¨ä¸€ä¸ªæ–¹å·®è¾ƒå°çš„ç»´åº¦ä¸‹å¾ˆå°çš„å·®åˆ«å°±æœ‰å¯èƒ½æˆä¸ºç¦»ç¾¤ç‚¹ã€‚å°±åƒä¸‹å›¾ä¸€æ ·ï¼ŒAä¸ŽBç›¸å¯¹äºŽåŽŸç‚¹çš„è·ç¦»æ˜¯ç›¸åŒçš„ã€‚ä½†æ˜¯ç”±äºŽæ ·æœ¬æ€»ä½“æ²¿ç€æ¨ªè½´åˆ†å¸ƒï¼Œæ‰€ä»¥Bç‚¹æ›´æœ‰å¯èƒ½æ˜¯è¿™ä¸ªæ ·æœ¬ä¸­çš„ç‚¹ï¼Œè€ŒAåˆ™æ›´æœ‰å¯èƒ½æ˜¯ç¦»ç¾¤ç‚¹ã€‚ ç®—ä¸Šç»´åº¦çš„æ–¹å·®å°±å¤Ÿäº†ï¼Ÿ è¿˜æœ‰ä¸€ä¸ªé—®é¢˜â€”â€”å¦‚æžœç»´åº¦é—´ä¸ç‹¬ç«‹åŒåˆ†å¸ƒï¼Œæ ·æœ¬ç‚¹ä¸€å®šä¸Žæ¬§æ°è·ç¦»è¿‘çš„æ ·æœ¬ç‚¹åŒç±»çš„æ¦‚çŽ‡æ›´å¤§å—ï¼Ÿ å¯ä»¥çœ‹åˆ°æ ·æœ¬åŸºæœ¬æœä»Žf(x) = xçš„çº¿æ€§åˆ†å¸ƒï¼ŒAä¸ŽBç›¸å¯¹äºŽåŽŸç‚¹çš„è·ç¦»ä¾æ—§ç›¸ç­‰ï¼Œæ˜¾ç„¶Aæ›´åƒæ˜¯ä¸€ä¸ªç¦»ç¾¤ç‚¹ å³ä½¿æ•°æ®å·²ç»ç»è¿‡äº†æ ‡å‡†åŒ–ï¼Œä¹Ÿä¸ä¼šæ”¹å˜ABä¸ŽåŽŸç‚¹é—´è·ç¦»å¤§å°çš„ç›¸äº’å…³ç³»ã€‚æ‰€ä»¥è¦æœ¬è´¨ä¸Šè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±è¦é’ˆå¯¹ä¸»æˆåˆ†åˆ†æžä¸­çš„ä¸»æˆåˆ†æ¥è¿›è¡Œæ ‡å‡†åŒ–ã€‚ é©¬æ°è·ç¦»çš„å‡ ä½•æ„ä¹‰ä¸Šé¢æžæ‡‚äº†ï¼Œé©¬æ°è·ç¦»å°±å¥½ç†è§£äº†ï¼Œåªéœ€è¦å°†å˜é‡æŒ‰ç…§ä¸»æˆåˆ†è¿›è¡Œæ—‹è½¬ï¼Œè®©ç»´åº¦é—´ç›¸äº’ç‹¬ç«‹ï¼Œç„¶åŽè¿›è¡Œæ ‡å‡†åŒ–ï¼Œè®©ç»´åº¦åŒåˆ†å¸ƒå°±OKäº† ç”±ä¸»æˆåˆ†åˆ†æžå¯çŸ¥ï¼Œç”±äºŽä¸»æˆåˆ†å°±æ˜¯ç‰¹å¾å‘é‡æ–¹å‘ï¼Œæ¯ä¸ªæ–¹å‘çš„æ–¹å·®å°±æ˜¯å¯¹åº”çš„ç‰¹å¾å€¼ï¼Œæ‰€ä»¥åªéœ€è¦æŒ‰ç…§ç‰¹å¾å‘é‡æ—‹è½¬ï¼Œç„¶åŽç¼©æ”¾ç‰¹å¾å‘é‡å€å°±å¯ä»¥äº†ï¼Œå¯ä»¥å¾—åˆ°ä»¥ä¸‹çš„ç»“æžœï¼š ç¦»ç¾¤ç‚¹å°±è¢«æˆåŠŸåˆ†ç¦»ï¼Œè¿™æ—¶å€™çš„æ¬§å¼è·ç¦»å°±æ˜¯é©¬æ°è·ç¦»ã€‚ é©¬æ°è·ç¦»çš„æŽ¨å¯¼é¦–å…ˆè¦å¯¹æ•°æ®ç‚¹è¿›è¡Œæ—‹è½¬ï¼Œæ—‹è½¬è‡³ä¸»æˆåˆ†ï¼Œç»´åº¦é—´çº¿æ€§æ— å…³ï¼Œå‡è®¾æ–°çš„åæ ‡ä¸º åˆå˜æ¢åŽç»´åº¦é—´çº¿æ€§æ— å…³ä¸”æ¯ä¸ªç»´åº¦è‡ªå·±çš„æ–¹å·®ä¸ºç‰¹å¾å€¼ï¼Œæ‰€ä»¥æ»¡è¶³ï¼š é©¬æ°è·ç¦»æ˜¯æ—‹è½¬å˜æ¢ç¼©æ”¾ä¹‹åŽçš„æ¬§å¼è·ç¦»ï¼Œæ‰€ä»¥é©¬æ°è·ç¦»çš„è®¡ç®—å…¬å¼ä¸ºï¼š è¿™å°±æ˜¯ä¹‹å‰æåˆ°çš„é©¬æ°è·ç¦»çš„å…¬å¼ é©¬æ°è·ç¦»çš„é—®é¢˜ åæ–¹å·®çŸ©é˜µå¿…é¡»æ»¡ç§© é‡Œé¢æœ‰æ±‚é€†çŸ©é˜µçš„è¿‡ç¨‹ï¼Œä¸æ»¡ç§©ä¸è¡Œï¼Œè¦æ±‚æ•°æ®è¦æœ‰åŽŸç»´åº¦ä¸ªç‰¹å¾å€¼ï¼Œå¦‚æžœæ²¡æœ‰å¯ä»¥è€ƒè™‘å…ˆè¿›è¡ŒPCAï¼Œè¿™ç§æƒ…å†µä¸‹PCAä¸ä¼šæŸå¤±ä¿¡æ¯ ä¸èƒ½å¤„ç†éžçº¿æ€§æµå½¢(manifold)ä¸Šçš„é—®é¢˜ åªå¯¹çº¿æ€§ç©ºé—´æœ‰æ•ˆï¼Œå¦‚æžœè¦å¤„ç†æµå½¢ï¼Œåªèƒ½åœ¨å±€éƒ¨å®šä¹‰ï¼Œå¯ä»¥ç”¨æ¥å»ºç«‹KNNå›¾]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Data Mining</tag>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[word2vecè¯åµŒå…¥æ–¹æ³•]]></title>
    <url>%2F2018%2F04%2F10%2Fword2vec%2F</url>
    <content type="text"><![CDATA[word2vecæ¨¡åž‹ä¸Žåº”ç”¨ç”±Mikolovç­‰äººåœ¨è‡ªç„¶è¯­è¨€é¢†åŸŸå…·æœ‰å¾ˆé«˜çš„å½±å“ï¼Œå®ƒåœ¨è¯­è¨€æ¨¡åž‹è¿›è¡Œå­¦ä¹ å‰å…ˆæ‰¾å¯»åˆ°ä¸€ç§åˆé€‚çš„ç¼–ç æ–¹å¼ï¼Œè¿™ç§ç¼–ç æ–¹å¼å«ä½œè¯åµŒå…¥(Word Embedding); æœ¬ç‰‡ç¬”è®°å±žäºŽåŽŸç†ä»‹ç»ï¼Œæ²¡æœ‰å®žçŽ°ç»†èŠ‚çš„ä»£ç è®²è§£ One-hotç¼–ç åµŒå…¥å‰é€šå¸¸ä¼šä½¿ç”¨ one-hotç¼–ç æ–¹å¼ï¼Œè¿™ç§ç¼–ç æ–¹å¼æ¯ä¸ªè¯éƒ½ä¼šå•ç‹¬çš„å ä¸€ä½ï¼Œè¯¥ä½ä¸º1åˆ™è¡¨ç¤ºè¿™ä¸ªè¯å‡ºçŽ°ï¼Œä¾‹å¦‚ä½†å‰è¯­æ–™ä¸­ä¸€å…±æœ‰5ä¸ªè¯ï¼Œé‚£ä¹ˆå®ƒä»¬å°±åˆ†åˆ«è¡¨ç¤ºä¸º10000ï¼Œ01000ï¼Œ00100ï¼Œ00010ï¼Œ00001ã€‚ æ˜¾ç„¶ï¼Œè¿™æ˜¯ä¸€ç§æžä¸é«˜æ•ˆçš„ç¼–ç æ–¹å¼ï¼Œæ—¢éœ€è¦æžå¤§çš„ç©ºé—´ç”¨äºŽå­˜å‚¨ï¼Œä¹Ÿä¸èƒ½ä»Žè¯å‘é‡ä¸­èŽ·å¾—æœ‰ç”¨çš„è¯ä¹‹é—´çš„è¯­ä¹‰å…³ç³»ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆéœ€è¦è¯åµŒå…¥æŠ€æœ¯çš„åŽŸå› ã€‚ Why word2vec?ä¸ºä»€ä¹ˆWord2Vecæ–¹æ³•å—åˆ°å¦‚æ­¤å¤šçš„æ³¨æ„ï¼Œä»¥è‡³äºŽå¯¹çŽ°åœ¨çš„è‡ªç„¶è¯­è¨€å¤„ç†äº§ç”Ÿäº†æžå¤§çš„å½±å“ï¼Ÿ æ€»ç»“äº†ä¸€ä¸‹Word2Vecçš„å‡ ä¸ªç‰¹ç‚¹ï¼š å¿«ï¼Œä»¥å¾€çš„è¯åµŒå…¥å¾—åˆ°çš„è¯å‘é‡ä»…ä»…åªæ˜¯ä¸€ä¸ªå‰¯äº§ç‰©ï¼Œè€Œw2våˆ™é’ˆå¯¹è¯åµŒå…¥æå‡ºäº†å„ç§æ¨¡åž‹ä»¥åŠç›¸åº”çš„ä¼˜åŒ–ç®—æ³•(åŽé¢ä¼šæåˆ°çš„) è¯­ä¹‰ä¸Šç›¸è¿‘çš„è¯å‘é‡ç›¸ä¼¼åº¦ä¸Šä¹Ÿæ¯”è¾ƒæŽ¥è¿‘ è¿™ç‚¹æ˜¯æœ€ç¥žå¥‡çš„ï¼Œè™½ç„¶ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œw2vå¾—åˆ°çš„è¯å‘é‡ç«Ÿç„¶æ»¡è¶³è¯­ä¹‰ä¸Šçš„åŠ å‡æ³•ï¼ï¼ï¼æ¯”å¦‚Madrid-Spain+France=Paris; king-man+women=queen; (âŠ™Ï‰âŠ™)! æ­¤å¤–w2vè¿˜æ‹¥æœ‰ä¸¤ç§æ¨¡å¼Skip-gramä¸ŽCBOWï¼Œè€Œæ¯ç§æ¨¡å¼ä¸‹éƒ½æœ‰ä¸¤ç§ä¼˜åŒ–çš„å®žçŽ°æ–¹æ³•Hierarchical Softmax, Negative Sampling Skip-gramç¬¬ä¸€ç§æ¨¡å¼æ˜¯Skip-gramæ¨¡å¼ï¼Œæ ¹æ®ä¸€ä¸ªè¯æŽ¨æµ‹å‡ºå…¶æœ€æœ‰å¯èƒ½çš„ä¸Šä¸‹æ–‡(Context)ï¼Œå…¶ç»“æž„å›¾å¦‚ä¸‹ï¼š æ­¥éª¤ è¾“å…¥One-hotç¼–ç ï¼Œæ¯ä¸ªè¯å‘é‡çŽ°åœ¨éƒ½æ˜¯Vç»´çš„ï¼ŒVå°±æ˜¯è¯­æ–™ä¸­è¯æ±‡çš„æ€»æ•° ä¹˜ä¸Šå­—å…¸çŸ©é˜µWV*Nï¼Œå˜æˆä¸€ä¸ªNç»´å‘é‡ã€‚Nå°±æ˜¯åµŒå…¥åŽçš„è¯å‘é‡ç»´æ•° ä¹˜ä¸Šå­—å…¸çŸ©é˜µWâ€™N*Vï¼Œç›¸å½“äºŽæ±‚è·ç¦»ï¼Œç„¶åŽå†æ±‚ä¸€ä¸ªSoftmaxï¼Œå˜æˆä¸€ä¸ªVç»´å‘é‡ã€‚æ¯ä¸€ä½å…¶å®žéƒ½ä»£è¡¨æ”¹ä¸ºone-hotç¼–ç çš„è¯å‡ºçŽ°çš„æ¦‚çŽ‡ CBOWCBOW(Continuous Bag-of-Words)ï¼Œæ˜¯å¦å¤–ä¸€ç§Word2Vecçš„æ¨¡å¼ï¼Œç”¨äºŽæ ¹æ®ä¸Šä¸‹æ–‡æŽ¨æµ‹å‡ºç©ºç¼ºçš„è¯çš„æ–¹æ³•ï¼Œå…¶ç»“æž„ç¤ºæ„å›¾å¦‚ä¸‹ï¼š æ­¥éª¤ è¾“å…¥ä¸Šä¸‹æ–‡Cä¸ªè¯çš„One-hotç¼–ç  ä¹˜ä¸Šå­—å…¸çŸ©é˜µWV*Nï¼Œå¾—åˆ°å„è‡ªçš„Nç»´ç¼–ç  å–å®ƒä»¬çš„å¹³å‡å€¼ ä¹˜ä¸Šå­—å…¸çŸ©é˜µWâ€™N*Vï¼Œç›¸å½“äºŽæ±‚ä¸Žå…¶ä»–è¯ä¹‹é—´çš„è·ç¦»ï¼Œç„¶åŽå–Softmaxï¼Œå˜æˆä¸€ä¸ªVç»´å‘é‡ï¼Œæ¯ä½ä»£è¡¨çš„è¿˜æ˜¯è¿™ä¸ªä½ä¸Šone-hotç¼–ç çš„é‚£ä¸ªè¯çš„æ¦‚çŽ‡ï¼Œé€‰æœ€å¤§çš„é‚£ä¸ª â€‹ Hierarchical Sotfmaxä¸Šé¢è¯´çš„å°±æ˜¯Word2Vecçš„åŸºæœ¬æ€æƒ³äº†ï¼Œä½†æ˜¯å‘¢ï¼Œå½“è¯­æ–™éžå¸¸åºžå¤§çš„æ—¶å€™ï¼Œæ±‚Softmax å¼€é”€å°±ä¼šå˜å¾—å¼‚å¸¸çš„å¤§ï¼Œå…¶ä¸­ä¸€ç§è§£å†³æ–¹æ³•å°±æ˜¯ä½¿ç”¨å±‚æ¬¡Softmax(Hierarchical Sotfmax)æ¥å°†Softmaxçš„æ¦‚çŽ‡è½¬åŒ–ä¸ºä¸€ä¸ªå¤šæ¬¡äºŒåˆ†ç±»é—®é¢˜ã€‚ å±‚çº§Softmaxå‡½æ•°ä½¿ç”¨çš„æ•°æ®ç»“æž„æ˜¯ä»¥è¯é¢‘ä½œä¸ºæƒé‡æž„é€ çš„éœå¤«æ›¼æ ‘(Huffman Tree)ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯è¯é¢‘å¤§çš„è¯åªéœ€è¦æ›´å°‘çš„éåŽ†å°±å¯ä»¥æ‰¾åˆ° å¶å­èŠ‚ç‚¹ä¸ºVä¸ªè¯­æ–™ä¸­çš„è¯ï¼Œè€Œéžå¶å­èŠ‚ç‚¹ä¹Ÿæœ‰ä¸€ä¸ªå‘é‡vï¼Œä»£è¡¨ä¸€æ¬¡é€‰æ‹©ï¼Œå³æ¯èµ°ä¸€æ­¥éƒ½éœ€è¦ç¡®å®šä¸‹ä¸€æ­¥æ˜¯è¦èµ°åˆ°å·¦å­©å­èŠ‚ç‚¹è¿˜æ˜¯å³å­©å­èŠ‚ç‚¹ï¼ŒåŽŸæ¥çš„Softmaxæ¦‚çŽ‡å°±è¢«å†™æˆ Ïƒ(*)æ˜¯Sigmoidå‡½æ•°ï¼ŒåŒç«–çº¿ä¸­æ‹¬å·è¡¨ç¤ºè‹¥é€‰æ‹©å·¦å­©å­åˆ™ä¸º1ï¼Œå³å­©å­åˆ™ä¸º-1ï¼Œåœ¨sigmoidä¸­æ­£å¥½æ­£è´Ÿæ ·ä¾‹ä¸¤è€… ç›¸åŠ ç­‰1ã€‚æœ€åŽå°±æ˜¯éžå¶å­èŠ‚ç‚¹å‘é‡ä¸Žè¯å‘é‡çš„å†…ç§¯ã€‚è®­ç»ƒæ—¶åŒæ—¶è€ƒè™‘è¯çš„åµŒå…¥å‘é‡è®­ç»ƒå’Œéœå¤«æ›¼æ ‘ä¸Šéžå¶å­èŠ‚ç‚¹çš„å‚æ•°ã€‚ ä¸ŽCBOWé…åˆï¼Œå°†å åŠ ä»¥åŽçš„åµŒå…¥å‘é‡ä½œä¸ºéœå¤«æ›¼æ ‘çš„è¾“å…¥ï¼ŒåŽ»å¯»æ‰¾åŽŸä¸­å¿ƒè¯ï¼Œå¹¶ä»¥æ­¤è¿‡ç¨‹ä¼˜åŒ–éœå¤«æ›¼æ ‘ä¸Žè¯å‘é‡; ä¸ŽSkip-Gramé…åˆï¼Œå°†ç›®æ ‡è¯æ±‡ä¸€ä¸ªä¸ªä½œä¸ºéœå¤«æ›¼æ ‘çš„è¾“å…¥ ï¼ŒåŽ»å¯»æ‰¾åŽŸä¸­å¿ƒè¯ï¼Œå¹¶ä»¥æ­¤è¿‡ç¨‹ä¼˜åŒ–éœå¤«æ›¼æ ‘ä¸Žè¯å‘é‡; Negative Samplingåœ¨æ­¤å‰çš„LargeVisâ€“LINEåœ¨é«˜ç»´æ•°æ®é™ç»´ä¸Žå¯è§†åŒ–ä¸Šçš„è¿ç”¨ä¸­å·²ç»æåˆ°äº†Negative Samplingï¼Œå®žé™…ä¸Šï¼Œåœ¨Word2VecåŽï¼Œè´Ÿé‡‡æ ·æŠ€æœ¯åœ¨è¿ç”¨ä¸Šæ¯”å±‚çº§Softmaxæ›´åŠ çš„å¹¿æ³›ã€‚ åšæ³•ä¹Ÿä¸ŽLargeVisç›¸ä¼¼ï¼Œå³ä½¿å¾—æ­£æ ·æœ¬å‡ºçŽ°çš„æ¦‚çŽ‡æœ€å¤§ï¼Œè´Ÿæ ·æœ¬å‡ºçŽ°çš„æ¦‚çŽ‡å‡å°ï¼Œé‚£ä¹ˆå¦‚ä½•å–è´Ÿæ ·æœ¬å‘¢ï¼Ÿ å°†æ‰€æœ‰çš„è¯æŒ‰ç…§è¯é¢‘çš„3/4æ¬¡æ–¹ä¸ºæ­£æ¯”è¿›è¡Œé‡‡æ ·ä½œä¸ºè´Ÿæ ·æœ¬ï¼Œå³æ»¡è¶³æ¦‚çŽ‡ï¼š æŒ‰ç…§è¿™ä¸ªæ¦‚çŽ‡å–å¾—è´Ÿæ ·æœ¬(è‹¥å–åˆ°ä¸­å¿ƒè¯æœ¬èº«åˆ™é‡æ–°è¿›è¡Œé‡‡æ ·)ç”¨äºŽæ›¿æ¢ä¸­å¿ƒè¯ï¼Œä¸ŽåŽŸä¸­å¿ƒè¯çš„Contextç»„æˆä¸€ç»„è´Ÿæ ·æœ¬ï¼Œåªè¦å–å‡ ä¸ªè¯å°±å¯å·²å®Œæˆè´Ÿé‡‡æ ·ã€‚æŒ‰ç…§åŽŸæ–‡çš„è¯è¯´ï¼Œå½“æ•°æ®é›†æ¯”è¾ƒå°çš„æ—¶å€™ï¼Œ5-20ä¸ªè´Ÿæ ·æœ¬; å½“æ•°æ®é›†æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œåªéœ€è¦2-5ä¸ªå°±å¯ä»¥äº†ã€‚ è´Ÿé‡‡æ ·çš„ç›®æ ‡å‡½æ•°ä¸ºï¼š é«˜é¢‘è¯å­é‡‡æ ·è¯­æ–™ä¸­æ€»æ˜¯æœ‰å¾ˆå¤šç±»ä¼¼äºŽâ€aâ€ â€œtheâ€ â€œinâ€è¿™æ ·çš„è¯ï¼Œè¿™äº›è¯è¢«è®¤ä¸ºä¸ä¼šæä¾›å¤ªå¤šæœ‰ç”¨çš„ä¿¡æ¯ï¼Œå› ä¸ºå®ƒä»¬å‡ ä¹Žä¼šå‡ºçŽ°åœ¨æ‰€æœ‰çš„è¯çš„contextä¸­ã€‚æ‰€ä»¥å¯¹äºŽè¿™äº›è¯æˆ‘ä»¬è¿›è¡Œå­é‡‡æ ·(Subsampling)æ¥è¿›è¡Œè¿‡æ»¤ã€‚Mikolovçš„åŽŸæ–‡ä¸­é‡‡ç”¨çš„ä¸‹é‡‡æ ·å…¬å¼æ˜¯ Pæ˜¯æ¯ä¸ªè¯è¢«åˆ é™¤çš„æ¦‚çŽ‡ï¼Œtæ˜¯ä¸€ä¸ªè®¤ä¸ºå®šçš„é˜ˆå€¼ï¼Œå¤§çº¦åœ¨10-5å·¦å³ï¼Œfæ˜¯è¯é¢‘ã€‚è¿™æ ·ä¸€æ¥ï¼Œç¨€æœ‰çš„è¯å°±èƒ½å¾—åˆ°ä¿ç•™ï¼Œè€Œé¢‘ç¹å‡ºçŽ°çš„è¯å´ä¼šè¢«å¤§é¢ç§¯çš„åˆ é™¤ï¼Œä½†æ€»ä½“è¯é¢‘çš„é¡ºåºä¸å˜ï¼Œè¾¾æˆä¸‹é‡‡æ ·çš„ç›®çš„ã€‚ Tensorflowå®žçŽ°è´Ÿé‡‡æ ·Skip-gram word2vec Tensorflowå°è£…å®žçŽ° ä½œè€…æºç  å‚è€ƒDistributed Representations of Words and Phrases and their Compositionality word2vec Parameter Learning Explained Word2Vecä¸­çš„æ•°å­¦åŽŸç† Word2VecåŽŸç† æ·±åº¦å­¦ä¹ word2vecç¬”è®°ä¹‹ç®—æ³•ç¯‡]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Machine Learning</tag>
        <tag>Deep Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨Ubuntuä¸‹å®‰è£…gslç§‘å­¦è®¡ç®—åº“]]></title>
    <url>%2F2018%2F04%2F03%2Fubuntu_gsl%2F</url>
    <content type="text"><![CDATA[GSLæ˜¯GNUçš„ç§‘å­¦è®¡ç®—åº“(GNU Scientific Library)ï¼Œæ˜¯ç”¨äºŽC++çš„å¼€æºç§‘å­¦è®¡ç®—åº“ ä¸‹è½½æœ€æ–°ç‰ˆæœ¬GSL http://www.gnu.org/software/gsl/ è§£åŽ‹åŽè¿›å…¥ç›®å½•ä¸‹ï¼Œç„¶åŽæ‰§è¡Œå‘½ä»¤ 123./configuremakemake install â€‹ å°†ä¼šè‡ªåŠ¨å°†libä¸Žå¤´æ–‡ä»¶å®‰è£…åˆ°/usr/local/libå’Œ/usr/local/include ä¸‹é¢ï¼Œè¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‡ºçŽ°æƒé™ä¸Šçš„é—®é¢˜ï¼Œsudoå°±è¡Œã€‚ä¹‹åŽå°±å¯ä»¥ä½¿ç”¨GSLäº†;]]></content>
      <categories>
        <category>çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
        <tag>GSL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®­ç»ƒé›†(train set)éªŒè¯é›†(validation set)æµ‹è¯•é›†(test set)ä¸Žäº¤å‰éªŒè¯æ³•(Cross Validation)]]></title>
    <url>%2F2018%2F04%2F01%2Fcross_validation%2F</url>
    <content type="text"><![CDATA[è¿™ä¸‰ç§æ•°æ®é›†åˆéžå¸¸å®¹æ˜“å¼„æ··ï¼Œç‰¹åˆ«æ˜¯éªŒè¯é›†å’Œæµ‹è¯•é›†ï¼Œè¿™ç¯‡ç¬”è®°å†™ä¸‹æˆ‘å¯¹å®ƒä»¬ä¸‰ä¸ªçš„ç†è§£ä»¥åŠåœ¨å®žè·µä¸­æ˜¯å¦‚ä½•è¿›è¡Œåˆ’åˆ†çš„ã€‚ è®­ç»ƒé›†è¿™ä¸ªæ˜¯æœ€å¥½ç†è§£çš„ï¼Œç”¨æ¥è®­ç»ƒæ¨¡åž‹å†…å‚æ•°çš„æ•°æ®é›†ï¼ŒClassfierç›´æŽ¥æ ¹æ®è®­ç»ƒé›†æ¥è°ƒæ•´è‡ªèº«èŽ·å¾—æ›´å¥½çš„åˆ†ç±»æ•ˆæžœ éªŒè¯é›†â€‹ ç”¨äºŽåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ£€éªŒæ¨¡åž‹çš„çŠ¶æ€ï¼Œæ”¶æ•›æƒ…å†µã€‚éªŒè¯é›†é€šå¸¸ç”¨äºŽè°ƒæ•´è¶…å‚æ•°ï¼Œæ ¹æ®å‡ ç»„æ¨¡åž‹éªŒè¯é›†ä¸Šçš„è¡¨çŽ°å†³å®šå“ªç»„è¶…å‚æ•°æ‹¥æœ‰æœ€å¥½çš„æ€§èƒ½ã€‚ â€‹ åŒæ—¶éªŒè¯é›†åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è¿˜å¯ä»¥ç”¨æ¥ç›‘æŽ§æ¨¡åž‹æ˜¯å¦å‘ç”Ÿè¿‡æ‹Ÿåˆï¼Œä¸€èˆ¬æ¥è¯´éªŒè¯é›†è¡¨çŽ°ç¨³å®šåŽï¼Œè‹¥ç»§ç»­è®­ç»ƒï¼Œè®­ç»ƒé›†è¡¨çŽ°è¿˜ä¼šç»§ç»­ä¸Šå‡ï¼Œä½†æ˜¯éªŒè¯é›†ä¼šå‡ºçŽ°ä¸å‡åé™çš„æƒ…å†µï¼Œè¿™æ ·ä¸€èˆ¬å°±å‘ç”Ÿäº†è¿‡æ‹Ÿåˆã€‚æ‰€ä»¥éªŒè¯é›†ä¹Ÿç”¨æ¥åˆ¤æ–­ä½•æ—¶åœæ­¢è®­ç»ƒ æµ‹è¯•é›†æµ‹è¯•é›†ç”¨æ¥è¯„ä»·æ¨¡åž‹æ³›åŒ–èƒ½åŠ›ï¼Œå³ä¹‹å‰æ¨¡åž‹ä½¿ç”¨éªŒè¯é›†ç¡®å®šäº†è¶…å‚æ•°ï¼Œä½¿ç”¨è®­ç»ƒé›†è°ƒæ•´äº†å‚æ•°ï¼Œæœ€åŽä½¿ç”¨ä¸€ä¸ªä»Žæ²¡æœ‰è§è¿‡çš„æ•°æ®é›†æ¥åˆ¤æ–­è¿™ä¸ªæ¨¡åž‹æ˜¯å¦Workã€‚ ä¸‰è€…åŒºåˆ«å½¢è±¡ä¸Šæ¥è¯´è®­ç»ƒé›†å°±åƒæ˜¯å­¦ç”Ÿçš„è¯¾æœ¬ï¼Œå­¦ç”Ÿ æ ¹æ®è¯¾æœ¬é‡Œçš„å†…å®¹æ¥æŽŒæ¡çŸ¥è¯†ï¼ŒéªŒè¯é›†å°±åƒæ˜¯ä½œä¸šï¼Œé€šè¿‡ä½œä¸šå¯ä»¥çŸ¥é“ ä¸åŒå­¦ç”Ÿå­¦ä¹ æƒ…å†µã€è¿›æ­¥çš„é€Ÿåº¦å¿«æ…¢ï¼Œè€Œæœ€ç»ˆçš„æµ‹è¯•é›†å°±åƒæ˜¯è€ƒè¯•ï¼Œè€ƒçš„é¢˜æ˜¯å¹³å¸¸éƒ½æ²¡æœ‰è§è¿‡ï¼Œè€ƒå¯Ÿå­¦ç”Ÿä¸¾ä¸€åä¸‰çš„èƒ½åŠ›ã€‚ ä¸ºä»€ä¹ˆè¦æµ‹è¯•é›†è®­ç»ƒé›†ç›´æŽ¥å‚ä¸Žäº†æ¨¡åž‹è°ƒæ…˜çš„è¿‡ç¨‹ï¼Œæ˜¾ç„¶ä¸èƒ½ç”¨æ¥åæ˜ æ¨¡åž‹çœŸå®žçš„èƒ½åŠ›ï¼Œè¿™æ ·ä¸€äº› å¯¹è¯¾æœ¬æ­»è®°ç¡¬èƒŒçš„å­¦ç”Ÿ(è¿‡æ‹Ÿåˆ)å°†ä¼šæ‹¥æœ‰æœ€å¥½çš„æˆç»©ï¼Œæ˜¾ç„¶ä¸å¯¹ã€‚åŒç†ï¼Œç”±äºŽéªŒè¯é›†å‚ä¸Žäº†äººå·¥è°ƒå‚(è¶…å‚æ•°)çš„è¿‡ç¨‹ï¼Œä¹Ÿä¸èƒ½ç”¨æ¥æœ€ç»ˆè¯„åˆ¤ä¸€ä¸ªæ¨¡åž‹ï¼Œå°±åƒåˆ·é¢˜åº“çš„å­¦ç”Ÿä¹Ÿä¸èƒ½ç®—æ˜¯å­¦ä¹ å¥½çš„å­¦ç”Ÿæ˜¯å§ã€‚æ‰€ä»¥è¦é€šè¿‡æœ€ç»ˆçš„è€ƒè¯•(æµ‹è¯•é›†)æ¥è€ƒå¯Ÿä¸€ä¸ªå­¦(æ¨¡)ç”Ÿ(åž‹)çœŸæ­£çš„èƒ½åŠ›ã€‚ ä½†æ˜¯ä»…å‡­ä¸€æ¬¡è€ƒè¯•å°±å¯¹æ¨¡åž‹çš„å¥½åè¿›è¡Œè¯„åˆ¤æ˜¾ç„¶æ˜¯ä¸åˆç†çš„ï¼Œæ‰€ä»¥æŽ¥ä¸‹æ¥å°±è¦ä»‹ç»äº¤å‰éªŒè¯æ³• äº¤å‰éªŒè¯æ³•äº¤å‰éªŒè¯æ³•çš„ä½œç”¨å°±æ˜¯å°è¯•åˆ©ç”¨ä¸åŒçš„è®­ç»ƒé›†/æµ‹è¯•é›†åˆ’åˆ†æ¥å¯¹æ¨¡åž‹åšå¤šç»„ä¸åŒçš„è®­ç»ƒ/æµ‹è¯•ï¼Œæ¥åº”å¯¹å•è¯æµ‹è¯•ç»“æžœè¿‡äºŽç‰‡é¢ä»¥åŠè®­ç»ƒæ•°æ®ä¸è¶³çš„é—®é¢˜ã€‚ äº¤å‰éªŒè¯çš„åšæ³•å°±æ˜¯å°†æ•°æ®é›†ç²—ç•¥åœ°åˆ†ä¸ºæ¯”è¾ƒå‡ç­‰ä¸ç›¸äº¤çš„kä»½ï¼Œå³ ç„¶åŽå–å…¶ä¸­çš„ä¸€ä»½è¿›è¡Œæµ‹è¯•ï¼Œå¦å¤–çš„k-1ä»½è¿›è¡Œè®­ç»ƒï¼Œç„¶åŽæ±‚å¾—errorçš„å¹³å‡å€¼ä½œä¸ºæœ€ç»ˆçš„è¯„ä»·ï¼Œå…·ä½“ç®—æ³•æµç¨‹è¥¿ç“œä¹¦ä¸­çš„æ’å›¾å¦‚ä¸‹ï¼š]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨Ubuntuä¸‹ä¸€äº›å¸¸ç”¨è½¯ä»¶å®‰è£…]]></title>
    <url>%2F2018%2F03%2F28%2Fubuntu_env%2F</url>
    <content type="text"><![CDATA[å®‰è£…å®ŒUbuntuåŽå¸¸ç”¨è½¯ä»¶å’ŒçŽ¯å¢ƒçš„å®‰è£…ï¼Œä¹‹å‰å†™è¿‡ä¸€ç‚¹ï¼Œåœ¨è¿™é‡Œåšè¡¥å……ï¼ŒChromeï¼ŒTyporaï¼ŒAnacondaï¼Œè°ƒèŠ‚åŒç³»ç»Ÿæ—¶é—´ï¼ŒSublimeï¼Œnodejsç­‰ 1. Chrome1234567sudo wget http://www.linuxidc.com/files/repo/google-chrome.list -P /etc/apt/sources.list.d/wget -q -O - https://dl.google.com/linux/linux_signing_key.pub | sudo apt-key add -sudo apt-get updatesudo apt-get install google-chrome-stable 2. Typora123456789# optional, but recommendedsudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys BA300B7755AFCFAE# add Typora's repositorysudo add-apt-repository 'deb https://typora.io ./linux/'sudo apt-get update# install typorasudo apt-get install typora 3. Anacondaåˆ°å®˜ç½‘ä¸‹è½½æœ€æ–°anacondaçš„å®‰è£…åŒ… ä¸‹è½½åŽè¿è¡Œ 1bash Anaconda... æŒ‰ç…§æç¤ºä¸€æ­¥æ­¥ç¡®å®šå®‰è£…ä½ç½® 4. è°ƒèŠ‚åŒç³»ç»Ÿæ—¶é—´12timedatectl set-local-rtc 1 --adjust-system-clocktimedatectl set-ntp 0 5. Sublime123sudo add-apt-repository ppa:webupd8team/sublime-text-3sudo apt-get updatesudo apt-get install sublime-text-installer 6. nodejs123sudo apt-get install nodejssudo apt install nodejs-legacysudo apt install npm 7. Mysql123sudo apt install mysql-serversudo apt install mysql-clientmysql -u root -p 8. å…¶ä»–https://www.ph0en1x.space/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/]]></content>
      <categories>
        <category>çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LargeVis--LINEåœ¨é«˜ç»´æ•°æ®é™ç»´ä¸Žå¯è§†åŒ–ä¸Šçš„è¿ç”¨]]></title>
    <url>%2F2018%2F03%2F23%2Flargevis%2F</url>
    <content type="text"><![CDATA[LargeVisæ˜¯å”å»ºåœ¨2016å¹´æå‡ºçš„é«˜ç»´æ•°æ®é™ç»´å¯è§†åŒ–ç®—æ³•ï¼Œä¸»è¦å·¥ä½œæ˜¯å¤§å¤§é™ä½Žäº†t-SNEç®—æ³•çš„è®¡ç®—å¤æ‚åº¦ï¼Œä½¿ç®—æ³•èƒ½å¤Ÿæ›´é«˜çš„æ•ˆçŽ‡å¤„ç†æ›´å¤§è§„æ¨¡çš„æ•°æ®ã€‚ä¸»è¦ä½¿ç”¨çš„ä¼˜åŒ–æ–¹æ³•æ˜¯æ”¹è¿›çš„éšæœºæŠ•å½±æ ‘KNNå›¾æž„é€ æ–¹æ³•ä»¥åŠã€ä¸ŽWord2Vecç±»ä¼¼çš„é‡‡æ ·ä¸Žè´Ÿé‡‡æ ·æ–¹æ³•ä»¥åŠéšæœºæ¢¯åº¦ä¸‹é™ç®—æ³•ï¼›åœ¨è·ç¦»çš„æ˜ å°„æ–¹é¢ä»ç„¶é‡‡ç”¨äº†ä¸Žt-SNEä¸€æ ·çš„é«˜æ–¯åˆ†å¸ƒâ€”â€”Tåˆ†å¸ƒçš„ç­–ç•¥ é«˜æ•ˆKNNå›¾æž„é€ æ–¹æ³• æž„é€ ç²¾ç¡®çš„KNNå›¾åœ¨è®¡ç®—å¤æ‚åº¦ä¸Šæ˜¯éžå¸¸é«˜çš„ï¼Œéœ€è¦è®¡ç®—ä¸¤ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œè¿™éœ€è¦O(N2d)çš„å¤æ‚åº¦ã€‚åœ¨t-SNEçš„åŽç»­å·¥ä½œä¸­å·²ç»æ„è¯†åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼ŒäºŽæ˜¯Maatenæå‡ºäº†å„ç§éšæœºæŠ•å½±æ ‘çš„ç®—æ³•ï¼Œè¯¦ç»†çš„ç®—æ³•å°†åœ¨å…¶ä»–çš„ç¬”è®°ä¸­è¯¦ç»†çš„è®°å½•ï¼Œå¤§è‡´ä¸Šå°±æ˜¯å¯¹ç©ºé—´ä¸Šè¿›è¡Œåˆ’åˆ†ç›´åˆ°åŒä¸€åŒºé—´å†…çš„ç‚¹å°‘äºŽä¸€ä¸ªé˜ˆå€¼ï¼Œæœ€åŽè¢«åˆ†åœ¨åŒä¸€å—åŒºåŸŸä¸­çš„æ•°æ®ç‚¹å°±è¢«è®¤ä¸ºæ˜¯NNã€‚è¿™æ ·æ¥ç¡®å®šè¿‘é‚»æ•ˆçŽ‡é«˜äº†ä¸å°‘ï¼Œä½†æ˜¯ä¸ºäº†ä¿è¯KNNå›¾çš„ç²¾ç¡®çŽ‡ï¼Œä»ç„¶éœ€è¦åˆ›å»ºè®¸å¤šçš„æŠ•å½±æ ‘ï¼Œè¿™æ ·è¿˜æ˜¯ååˆ†å½±å“æ•ˆçŽ‡ã€‚äºŽæ˜¯LargeVisä¸­è¿ç”¨äº†ä¸€ç§å«é‚»å±…æœç´¢çš„æ–¹æ³•ï¼Œä¸»è¦æ€æƒ³å°±æ˜¯â€œé‚»å±…çš„é‚»å±…ä¹Ÿæ˜¯æˆ‘çš„é‚»å±…â€ã€‚ é¦–å…ˆåˆ›å»ºå°‘é‡çš„éšæœºæŠ•å½±æ ‘å…ˆç²—ç•¥ä¼°è®¡KNNï¼Œä¸ºæ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤ä¸€ä¸ªæœ€å¤§å †ï¼Œç„¶åŽæœç´¢å›¾æ¯ä¸ªèŠ‚ç‚¹é‚»å±…çš„é‚»å±…ï¼Œè¿™äº›èŠ‚ç‚¹ä¹Ÿæœ‰å¯èƒ½æˆä¸ºæœ€è¿‘é‚»çš„å€™é€‰ï¼Œä¸ŽåŽŸèŠ‚ç‚¹çš„æœ€å¤§å †æ¯”è¾ƒï¼Œè‹¥æ¯”å®ƒå°åˆ™pushè‹¥æ˜¯å †å†…çš„èŠ‚ç‚¹æ•°è¶…è¿‡Kï¼Œå°±popã€‚æˆ‘ä»¬å¯ä»¥å¤šè¿­ä»£å‡ æ¬¡æ¥æå‡å›¾çš„ç²¾ç¡®åº¦ï¼Œå®žè·µä¸­åªè¦å°‘é‡çš„è¿­ä»£å°±å¯ä»¥è®©ç²¾ç¡®åº¦æŽ¥è¿‘100%ã€‚ä¸‹å›¾å±•ç¤ºäº†LargeVisæž„å»ºKNNå›¾çš„ç®—æ³•æµç¨‹ï¼š â€‹ â€‹ å›¾å¯è§†åŒ– åœ¨å®šä¹‰å¥½KNNå›¾åŽï¼ŒLargeVisåŒæ ·ä¹Ÿéœ€è¦åƒt-SNEé‚£æ ·çš„ä»Žé«˜ç»´åˆ°ä½Žç»´çš„æ˜ å°„ã€‚ LargeVisåœ¨æ˜ å°„çš„è¿‡ç¨‹ä¸­ä»…ä¿ç•™äº†KNNè¾¹çš„æƒé‡ï¼Œè¿™äº›è¾¹è¢«ç§°ä½œæ˜¯æ­£è¾¹ï¼Œè€Œä¸ç›´æŽ¥ç›¸é‚»çš„èŠ‚ç‚¹ä¹‹é—´ç§°ä½œä¸ºè´Ÿè¾¹ã€‚æ­£è¾¹çš„è¾¹æƒåŒt-SNEä¸­å®šä¹‰ç›¸åŒï¼Œä½¿ç”¨é«˜æ–¯åˆ†å¸ƒè¿›è¡Œæ˜ å°„ï¼š è€Œåœ¨ä½Žç»´ï¼Œåˆ™ä¾é è§‚æµ‹çš„æ¦‚çŽ‡æ¥å†³å®šä½Žç»´çš„åæ ‡ï¼š å…¶ä¸­f(.)æ˜¯è·ç¦»å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨tåˆ†å¸ƒç­‰è·ç¦»è¶Šå°æ•°å€¼è¶Šå¤§çš„å‡½æ•°æ¥åšæ˜ å°„ï¼Œå°±æ˜¯é«˜ç»´å½“ä¸­è¶ŠæŽ¥è¿‘çš„ç‚¹ï¼Œä½Žç»´å½“ä¸­ä¹Ÿè¦æ›´åŠ çš„æŽ¥è¿‘ã€‚æ‰€ä»¥æœ€ç»ˆçš„ä¼˜åŒ–ç›®æ ‡å‡½æ•°ï¼š å…¶ä¸­ä¸¤ä¸ªEæ˜¯æ­£è¾¹é›†ä¸Žè´Ÿè¾¹é›†ã€‚ ä¼˜åŒ– â€‹ ç›´æŽ¥æŒ‰ç…§ä¸Šè¿°ç›®æ ‡å‡½æ•°è¿›è¡Œä¼˜åŒ–å¼€é”€æ˜¯å¾ˆå¤§çš„ï¼Œå› ä¸ºè´Ÿè¾¹çš„æ•°é‡æ˜¯éžå¸¸å¤§çš„ï¼Œç›´æŽ¥å¯¹æ‰€æœ‰è´Ÿè¾¹è¿›è¡Œè®­ç»ƒåˆè¦é€ æˆå¤æ‚åº¦çš„ä¸Šå‡ã€‚æ‰€ä»¥è¿™é‡Œå°±è¦é‡‡ç”¨è´Ÿé‡‡æ ·ç®—æ³•è¿›è¡Œä¼˜åŒ–ã€‚ è´Ÿé‡‡æ ·ç®—æ³•æ ¹æ®å¯¹åº”èŠ‚ç‚¹çš„åº¦æ¥å†³å®šè¢«é‡‡æ ·åˆ°çš„æ¦‚çŽ‡ï¼Œå³åº¦è¶Šå¤§çš„èŠ‚ç‚¹è¢«å½“ä½œè´Ÿè¾¹çš„å¦ä¸€ä¸ªèŠ‚ç‚¹çš„æ¦‚çŽ‡è¶Šå¤§ï¼Œæ¦‚çŽ‡æ»¡è¶³å™ªå£°åˆ†å¸ƒ è¿™æ ·ä¸€æ¥ï¼Œç›®æ ‡å‡½æ•°å°±å˜æˆäº†ï¼š â€‹ è¿™æ ·ä¸€æ¥ï¼Œç›®æ ‡å‡½æ•°å°±å¾—åˆ°ç¡®å®šï¼Œä½†æ˜¯ï¼Œå¦‚æžœç›´æŽ¥ä½¿ç”¨è¾¹çš„æƒé‡è¿›è¡Œè®­ç»ƒï¼Œæƒé‡ç›´æŽ¥ä¹˜åˆ°æ¢¯åº¦ä¸­ï¼Œä¸åŒè¾¹çš„æƒé‡ä¸åŒï¼Œä¼šå¯¹æ¢¯åº¦é€ æˆå¾ˆå¤§çš„å½±å“ï¼Œæƒé‡è¾ƒå¤§çš„è¾¹å—åˆ°çš„å˜åŠ¨æ­¥é•¿ä¹Ÿè¾ƒå¤§ï¼Œä¼šå½±å“è®­ç»ƒè¿‡ç¨‹ã€‚æ‰€ä»¥è¿™é‡Œè¦ç”¨åˆ°LINEæŠ€æœ¯ï¼Œå°†å¸¦æƒè¾¹çœ‹ä½œwijæ¡å•ä½è¾¹ï¼Œè¿™æ ·ä¸€æ¥å°±å¯ä»¥ç›´æŽ¥å¯¹æ‰€æœ‰çš„æ­£è¾¹è¿›è¡Œé‡‡æ ·ï¼Œå¯¹ç›®æ ‡å‡½æ•°ä¹Ÿæ²¡æœ‰æ”¹å˜ â€‹ æ­¤å¤–å°±æ˜¯å¼‚æ­¥éšæœºæ¢¯åº¦ä¸‹é™ç®—æ³•ï¼Œå› ä¸ºæž„å»ºçš„KNNå›¾éžå¸¸çš„ç¨€ç–ï¼ŒåŒæ—¶å¯¹å‡ ä¸ªç‚¹è¿›è¡Œæ¢¯åº¦ä¸‹é™ï¼Œä¸€èˆ¬ä¸ä¼šé‡å äº§ç”Ÿå†²çªï¼Œè¿™æ ·å°±èƒ½å¤§å¤§æé«˜è®­ç»ƒæ•ˆçŽ‡ ç»“æžœ LargeVisçš„ç»“æžœè¿˜æ˜¯å¾ˆæŽ¥è¿‘tsneçš„ï¼Œè€Œä¸”å¤„ç†é€Ÿåº¦èƒ½å¿«ä¸å°‘(æ²¡æœ‰ç”¨å®˜æ–¹ç»™çš„MNISTæ•°æ®é›†ï¼Œæ‰€ä»¥å’Œä»–ä»¬ç»™çš„ç»“æžœä¸å¤§ä¸€æ ·)ã€‚]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Data Mining</tag>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Booté¡¹ç›®ä¸­Tomcatç«¯å£å·çš„æ›´æ”¹]]></title>
    <url>%2F2018%2F03%2F20%2Fspring_boot_tomcat_port%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨IntelliJ Ideaå¼€å‘Spring Booté¡¹ç›®æ—¶ï¼ŒIdeaä¼šä½¿ç”¨å†…ç½®çš„TomcatæœåŠ¡å™¨ï¼Œé»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨çš„ç«¯å£å·çš„8080ï¼Œæœ¬ç¯‡ç¬”è®°è®°å½•å¦‚ä½•ä¿®æ”¹å†…ç½®TomcatæœåŠ¡å™¨ä½¿ç”¨çš„ç«¯å£å· åœ¨runé€‰é¡¹ä¸‹æˆ–è€…å·¥å…·æ è¿è¡Œä¸­é€‰æ‹©Edit Configurations åœ¨æ‰“å¼€çš„ç•Œé¢ä¸­çš„Override parametersé€‰é¡¹ä¸‹åŠ å…¥å¦‚ä¸‹çš„é€‰é¡¹ï¼Œå‡è®¾è¦æŠŠç«¯å£å·æ”¹æˆ8888 å¦‚æžœæ˜¯åœ¨Eclipseä¸‹é…ç½®ï¼Œåˆ™å¯ä»¥åŠ å…¥ä¸€æ¡-Dserver.port=8888]]></content>
      <categories>
        <category>JetBrains</category>
      </categories>
      <tags>
        <tag>çŽ¯å¢ƒæ­å»º</tag>
        <tag>Java</tag>
        <tag>JetBrains</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨IDEAå¿«é€Ÿæ­å»ºSpring Bootåº”ç”¨]]></title>
    <url>%2F2018%2F03%2F18%2Fspring_boot%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨IntelliJ Ideaåˆ›å»ºSpring Booté¡¹ç›®å¹¶è¿è¡Œç®€å•å®žä¾‹ æ–°å»ºé¡¹ç›®File -&gt; New -&gt; Project é€‰æ‹©Mavené¡¹ç›®(è¿™ç¯‡ç¬”è®°é‡Œä¸é€‰Spring)ï¼Œç„¶åŽä¸€è·¯Next åœ¨pom.xmlé‡Œæ·»åŠ å¦‚ä¸‹å†…å®¹åŽï¼Œç­‰å¾…maven importçš„å®Œæˆ 1234567891011&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;&lt;/parent&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt; ç‰ˆæœ¬å¯ä»¥æ ¹æ®Spring Bootä¸»é¡µé‡Œçš„å¼•å¯¼æ¥è¿›è¡Œé€‰æ‹© åœ¨/src/main/javaä¸‹æ–°å»ºJava Classï¼Œå‘½åä¸ºMainController.javaï¼Œå†™å…¥å¦‚ä¸‹å†…å®¹ 1234567891011121314151617181920import org.springframework.boot.*;import org.springframework.boot.autoconfigure.*;import org.springframework.stereotype.*;import org.springframework.web.bind.annotation.*;@Controller@EnableAutoConfigurationpublic class MainController &#123; @RequestMapping("/") @ResponseBody String home(String input) &#123; System.out.println(input); return input.toUpperCase(); &#125; public static void main(String[] args) throws Exception &#123; SpringApplication.run(MainController.class, args); &#125;&#125; è¿™æ®µä»£ç æ‰§è¡ŒåŽï¼Œå°†ä¼šç›‘å¬urlåŽçš„/æ ¹ç›®å½•ï¼ŒæŽ¥åˆ°inputå˜é‡ç„¶åŽè½¬æˆå¤§å†™å­—æ¯è¿›è¡Œè¿”å›ž å†™å¥½åŽè¿è¡ŒMainControllerSpring Bootå°±å¯ä»¥å¯åŠ¨äº† æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥localhost:8080/?input=abcï¼Œ(é»˜è®¤æƒ…å†µä¸‹Ideaå†…ç½®çš„ç«¯å£å ç”¨çš„æ˜¯8080ç«¯å£ï¼Œç”±äºŽæˆ‘åˆ«çš„ç¨‹åºéœ€è¦ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘æ”¹æˆäº†8888ç«¯å£ï¼ŒåŽé¢ä¹Ÿä¼šæœ‰ç¬”è®°è¯´æ˜Žå¦‚ä½•æ›´æ”¹) ä¸Šé¢ä½¿ç”¨äº†GETè¯·æ±‚å°†å‚æ•°input=abcå‘é€ç»™æœåŠ¡å™¨ï¼Œè¿”å›žäº†å­—ç¬¦ä¸²ABC è¿™åªæ˜¯æœ€ç®€å•çš„Spring Bootåº”ç”¨çš„é…ç½®ï¼ŒåŽ»æŽ‰@ResponseBodyannotationï¼ŒSpring Bootè¿˜å¯ä»¥ç›´æŽ¥è¿”å›žä¸€ä¸ªhtmlé¡µé¢ï¼Œå…·ä½“çš„å…¶ä»–å†…å®¹åŽé¢ä¼šæœ‰ç¬”è®°ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªæˆ‘ä½¿ç”¨Spring-Bootæ­å»ºçš„æ–‡æ¡£æœç´¢å¼•æ“Žï¼Œä½¿ç”¨Solrä½œä¸ºæœç´¢å†…æ ¸ï¼Œæ”¯æŒå„ç§mdã€pdfã€txtã€xmlæ–‡æ¡£çš„çˆ¬å–ã€‚]]></content>
      <categories>
        <category>çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JetBrains</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[t-SNEé«˜ç»´æ•°æ®é™ç»´ä¸Žå¯è§†åŒ–]]></title>
    <url>%2F2018%2F03%2F15%2Ftsne%2F</url>
    <content type="text"><![CDATA[t-SNE(åŸºäºŽtåˆ†å¸ƒçš„éšæœºè¿‘é‚»åµŒå…¥ï¼Œt-distributed stochastic neighbor embedding)ï¼Œæ˜¯Laurens van der Maatenå¤§ç¥žåœ¨Geffory Hintonå¤§ç¥žçš„SNEåŸºç¡€ä¸ŠåŠ å…¥tåˆ†å¸ƒè€Œå½¢æˆçš„ï¼Œæ˜¯ç›®å‰æ•ˆæžœæœ€å¥½çš„å¯è§†åŒ–é™ç»´ç®—æ³•ï¼Œå¯ä»¥å°†é«˜ç»´æ•°æ®å†…éƒ¨çš„ç‰¹å¾æ”¾å¤§ï¼Œä½¿å¾—ç›¸ä¼¼çš„æ•°æ®åœ¨ä½Žç»´ä¸­èƒ½æ›´åŠ æŽ¥è¿‘ï¼Œä¸ç›¸ä¼¼çš„æ•°æ®åœ¨ä½Žç»´ä¸­è·ç¦»æ›´è¿œã€‚ ä¸€ã€SNEâ€‹ SNEç”±Hintonå¤§ç¥žåœ¨2003å¹´æå‡ºï¼Œå®ƒæå‡ºçš„ç›®çš„å°±æ˜¯ä¸ºäº†æ”¹è¿›MDSä¸ŽISOPMAPå¯»æ±‚è·ç¦»å®Œå…¨æŒ‰ç…§åŽŸæœ‰ç»´åº¦å†…çš„é—®é¢˜ï¼Œè½¬è€Œæ»¡è¶³é«˜ä½Žç»´ä¹‹é—´æ»¡è¶³åˆ†å¸ƒä¸Šçš„ç»Ÿä¸€ã€‚è™½ç„¶è¿™æ ·ä¼šå¯¼è‡´è·ç¦»ä¿¡æ¯æœ‰äº†ä¸€å®šç¨‹åº¦çš„ä¸¢å¤±ï¼Œä½†æ˜¯è¿™ä¹ˆåšä¿ç•™äº†è·ç¦»çš„åˆ†å¸ƒï¼ŒèŽ·å¾—æ›´å¥½çš„å¯è§†åŒ–æ•ˆæžœã€‚ â€‹ SNEéœ€è¦é€šè¿‡è®­ç»ƒä½¿å¾—é«˜ç»´ä¸Žä½Žç»´çš„è·ç¦»çš„é«˜æ–¯åˆ†å¸ƒå°½é‡çš„æŽ¥è¿‘ï¼Œå³ï¼š â€‹ æ»¡è¶³é«˜ç»´çš„ç‚¹åœ¨pä¸­çš„å€¼ä¸Žä½Žç»´çš„qä¸­çš„å€¼èƒ½å¤Ÿå°½é‡æŽ¥è¿‘ï¼Œcostå‡½æ•°é‡‡ç”¨KLæ•£åº¦ï¼š â€‹ é‡‡ç”¨åŠ¨é‡ä¼˜åŒ–çš„æ–¹å¼è¿›è¡Œè®­ç»ƒ äºŒã€Symmetric SNEâ€‹ ä¼ ç»Ÿçš„SNEçš„åˆ†å¸ƒæ˜ å°„æ–¹æ³•ä¸å…·æœ‰å¯¹ç§°æ€§ï¼Œå³pi|jä¸Žpj|iä¸ç›¸ç­‰ï¼Œæ‰€ä»¥å¯ä»¥å°†æ˜ å°„æ–¹å¼æ”¹æˆè”åˆæ¦‚çŽ‡åˆ†å¸ƒçš„æ–¹å¼ï¼š â€‹ ä½†æ˜¯é«˜ç»´ä¸­çš„ç¦»ç¾¤ç‚¹çš„costå°±ä¼šå¾ˆä½Žï¼Œå› ä¸ºå®ƒç¦»æ‰€æœ‰ç‚¹çš„è·ç¦»éƒ½éžå¸¸çš„è¿œï¼Œpéžå¸¸å°ï¼Œæ‰€ä»¥ï¼Œå¯ä»¥æŠŠpæ”¹å†™æˆ â€‹ è¿™æ ·costçš„å€¼å°±æ”¹å†™ä¸ºï¼š ä¸‰ã€t-SNEâ€‹ ä¹‹å‰æ‰€è¯´çš„å„ç§ç®—æ³•ä¸­ï¼Œéƒ½ä¼šäº§ç”Ÿæ‹¥æŒ¤é—®é¢˜ï¼Œæ‰€è°“æ‹¥æŒ¤é—®é¢˜å°±æ˜¯é«˜ç»´æ•°æ®ä¸­çš„è·ç¦»å…³ç³»ä¸èƒ½å®Œæ•´åœ°åœ¨ä½Žç»´ç©ºé—´ä¸­å¾—ä»¥ä¿ç•™ï¼Œ10ç»´ä¸­å¯ä»¥æœ‰11ä¸ªç‚¹ç›¸äº’ç­‰è·ï¼Œè€ŒäºŒç»´ç©ºé—´ä¸­æœ€å¤šå°±åªèƒ½æœ‰3ä¸ªç‚¹ç»„æˆç­‰è¾¹ä¸‰è§’å½¢ï¼Œè¿™æ ·çš„é™ç»´è‚¯å®šä¸èƒ½å¤Ÿä¿è¯è·ç¦»çš„ä¿ç•™ã€‚åŒæ—¶å¯ä»¥å‚è€ƒè¿™ç¯‡åšå®¢ä¸­çš„å®žéªŒï¼ŒåŒæ ·æ˜¯å‡åŒ€åˆ†å¸ƒä¼šå‘çŽ°é«˜ç»´ç©ºé—´ä¸­å‡åŒ€åˆ†å¸ƒçš„ç‚¹ä¸­è·ç¦»åˆ†å¸ƒä¹Ÿæ˜¯å¾ˆä¸å‡åŒ€çš„ï¼Œéšç€ç»´åº¦çš„å¢žå¤§ï¼Œè·ç¦»è¶Šè¿œçš„ç‚¹çš„æ¯”é‡ä¼šè¶Šæ¥è¶Šå¤§ã€‚ æ‰€ä»¥ï¼Œå¦‚æžœä¸è®¾æ³•å‡è½»è¿™ç§æ‹¥æŒ¤é—®é¢˜ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºçŽ°é«˜ç»´ç©ºé—´ä¸­è·ç¦»è¾ƒè¿œä¸Žè¾ƒè¿‘çš„ç‚¹ï¼Œåœ¨ä½Žç»´ä¸­çš„è·ç¦»ç›¸åŒçš„é—®é¢˜ï¼Œä½¿å¾—ç±»ä¸Žç±»ä¹‹é—´åˆ†ä¸å¼€ã€‚ä¸ºè§£å†³æ‹¥æŒ¤é—®ï¼ŒTåˆ†å¸ƒå°±èƒ½å¤Ÿä¸€å±•ç¥žé€šã€‚ Tåˆ†å¸ƒå…·æœ‰é•¿å°¾çš„ç‰¹æ€§ï¼Œå³ç¢°åˆ°æœ‰ç¦»ç¾¤ç‚¹æ—¶ï¼Œä¸ä¼šå› ä¸ºç¦»ç¾¤ç‚¹ä½¿æ•´ä¸ªåˆ†å¸ƒè„±ç¦»åŽŸæœ‰çš„å¤§éƒ¨åˆ†æ•°æ®ï¼ŒåŒæ—¶ï¼Œä½Žç»´æ•°æ®ä½¿ç”¨Tåˆ†å¸ƒæ˜ å°„è€Œé«˜ç»´æ•°æ®ä½¿ç”¨æ­£æ€åˆ†å¸ƒä½œä¸ºæ˜ å°„ï¼Œå¦‚ä¸‹å›¾ï¼š åœ¨é«˜ç»´ç©ºé—´ä¸­è¾ƒè¿‘çš„ç‚¹åœ¨ä½Žç»´ç©ºé—´ä¸­å°†ä¼šæ›´è¿‘ï¼Œè€Œè¾ƒè¿œçš„ç‚¹å°†ä¼šæ›´è¿œï¼Œè¿™æ ·å°±èƒ½æœ‰æ•ˆç¼“è§£æ‹¥æŒ¤é—®é¢˜ï¼Œtsneçš„å…¬å¼ä¸º tsneç»“æžœï¼š tsneä»£ç  å‚è€ƒ Maaten L, Hinton G. Visualizing data using t-SNE[J]. Journal of machine learning research, 2008, 9(Nov): 2579-2605. Hinton G E, Roweis S T. Stochastic neighbor embedding[C]//Advances in neural information processing systems. 2003: 857-864.]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Data Mining</tag>
        <tag>Machine Learning</tag>
        <tag>Visualization</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç­‰åº¦é‡æ˜ å°„(ISOMAP)]]></title>
    <url>%2F2018%2F03%2F11%2FIsomap%2F</url>
    <content type="text"><![CDATA[ç­‰åº¦é‡æ˜ å°„(Isomap)æ˜¯æœ€ç»å…¸çš„éžçº¿æ€§æ˜ å°„é™ç»´æ–¹æ³•ä¹‹ä¸€ï¼Œå®ƒåœ¨MDSçš„åŸºç¡€ä¸Šå¼•å…¥äº†â€œæµ‹åœ°è·ç¦»â€çš„æ¦‚å¿µï¼Œç›´æŽ¥è§£å†³äº†MDSä½¿ç”¨æ¬§æ°è·ç¦»æ— æ³•åº”å¯¹éžçº¿æ€§æµå½¢çš„é—®é¢˜ã€‚ æµ‹åœ°è·ç¦»(Geometric Distance)æ˜¯é«˜ç»´æµå½¢ä¸­ä¸¤ç‚¹ä¹‹é—´çš„æœ€çŸ­è·ç¦»ï¼Œé«˜ç»´æµå½¢ä¸­ï¼Œç©ºé—´æ˜¯ä¸è§„åˆ™çš„ï¼Œæ‰€ä»¥æœ€çŸ­è·ç¦»ä¸ä¸€å®šæ˜¯ç›´çº¿è·ç¦»(æ¬§æ°è·ç¦»)ã€‚å°±åƒèš‚èšä»Žç«‹æ–¹ä½“çš„ä¸€é¢çˆ¬åˆ°å¦ä¸€é¢ï¼Œä¸èƒ½ç›´æŽ¥æ¨ªç©¿ç«‹æ–¹ä½“ä¸€æ ·ã€‚ ä¸Šå›¾æœ€å·¦è¾¹çš„å›¾ä¸­ä¸¤ä¸ªç‚¹çš„æœ€è¿‘è·ç¦»åº”è¯¥æ˜¯è“è‰²å®žçº¿çš„è·ç¦»ï¼Œè€Œä¸åº”è¯¥æ˜¯è™šçº¿çš„è·ç¦»ã€‚ çœŸå®žçš„æµ‹åœ°è·ç¦»æ˜¯éžå¸¸éš¾ä»¥æ±‚å‡ºçš„ï¼ŒIsomapåŸºäºŽæµå½¢å±€éƒ¨è¿‘ä¼¼äºŽæ¬§å¼ç©ºé—´çš„å®šä¹‰æå‡ºäº†ä¸€ç§è¿‘ä¼¼çš„æ±‚è§£æ–¹å¼ æ±‚å¾—åŽŸæ ·æœ¬çš„KNNå›¾ï¼Œå¹¶ä¾æ®å®šä¹‰ä¿ç•™å…¶æ¬§å¼è·ç¦» æ‰€æœ‰éžKNNçš„ç‚¹é—´çš„è·ç¦»è§„å®šä¸ºæ— ç©·å¤§ ç”¨dijkstraæˆ–floydæ±‚å‡ºä»»æ„ä¸¤ç‚¹çš„æœ€çŸ­è·¯ä¾¿å¯è¿‘ä¼¼è¡¨ç¤ºä¸¤ç‚¹é—´çš„æµ‹åœ°è·ç¦» æœ€åŽIsomapå°†å¾—åˆ°çš„æµ‹åœ°è·ç¦»çŸ©é˜µè¾“å…¥MDSå®Œæˆé™ç»´; æ„Ÿå—ä¸‹æ•ˆæžœ]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Data Mining</tag>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¤šç»´ç¼©æ”¾(MDS)]]></title>
    <url>%2F2018%2F03%2F11%2FMDS%2F</url>
    <content type="text"><![CDATA[å¤šç»´ç¼©æ”¾(multidimensional scaling ,MDS)ï¼Œæ˜¯å¦å¤–ä¸€ç§çº¿æ€§é™ç»´æ–¹å¼ï¼Œä¸Žä¸»æˆåˆ†åˆ†æžæ³•å’Œçº¿æ€§é™ç»´åˆ†æžæ³•éƒ½ä¸åŒçš„æ˜¯ï¼Œå¤šç»´ç¼©æ”¾çš„ç›®æ ‡ä¸æ˜¯ä¿ç•™æ•°æ®çš„æœ€å¤§å¯åˆ†æ€§ï¼Œè€Œæ˜¯æ›´åŠ å…³æ³¨ä¸Žé«˜ç»´æ•°æ®å†…éƒ¨çš„ç‰¹å¾ã€‚å¤šç»´ç¼©æ”¾ç®—æ³•é›†ä¸­äºŽä¿ç•™é«˜ç»´ç©ºé—´ä¸­çš„â€œç›¸ä¼¼åº¦â€ä¿¡æ¯ï¼Œè€Œåœ¨ä¸€èˆ¬çš„é—®é¢˜è§£å†³çš„è¿‡ç¨‹ä¸­ï¼Œè¿™ä¸ªâ€œç›¸ä¼¼åº¦â€é€šå¸¸ç”¨æ¬§å¼è·ç¦»æ¥å®šä¹‰ã€‚ å‡è®¾Dä¸ºmä¸ªæ ·æœ¬åœ¨é«˜ç»´ç©ºé—´ä¸­çš„è·ç¦»çŸ©é˜µï¼Œdistijä¸ºç¬¬iä¸ªæ ·æœ¬ä¸Žç¬¬jä¸ªæ ·æœ¬çš„æ¬§å¼è·ç¦» Zæ˜¯æ ·æœ¬åœ¨ä½Žç»´ä¸­æ˜ å°„çš„è¡¨ç¤ºï¼Œé‚£ä¹ˆï¼Œå¤šç»´ç¼©æ”¾çš„é™ç»´ç›®æ ‡å°±æ˜¯è¦ä¿è¯ï¼š ä»¤B=ZTZï¼ŒBä¸ºé™ç»´åŽæ ·æœ¬çš„å†…ç§¯çŸ©é˜µï¼Œbij=ziTzj è§„å®šé™ç»´åŽçš„æ ·æœ¬ä¸ºä¸­å¿ƒåŒ–æ ·æœ¬ï¼Œå› ä¸ºåªä¿ç•™äº†è·ç¦»ä¿¡æ¯ï¼Œæ— è®ºç»“æžœæ€Žä¹ˆæ—‹è½¬ã€å¹³ç§»éƒ½å¯ä»¥ï¼Œå³ é‚£ä¹ˆ ä»¤ ç»¼åˆä»¥ä¸Šå„å¼ï¼Œå¾—åˆ° æ‰€ä»¥å¯ä»¥ä½¿ç”¨è·ç¦»çŸ©é˜µDæ¥æ±‚å¾—å†…ç§¯çŸ©é˜µBï¼Œ ä¸ºäº†å®Œæˆé™ç»´ï¼Œå¯ä»¥å°†Bè¿›è¡Œç‰¹å¾å€¼åˆ†è§£ ä»…ä¿ç•™æœ€å¤§çš„å‰dâ€™ä¸ªç‰¹å¾å€¼ä»¥åŠç›¸åº”çš„ç‰¹å¾å‘é‡ï¼Œå°±å¯ä»¥å¾—å‡ºé™ç»´åŽçš„ç»“æžœ]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Data Mining</tag>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Jetbrain IDEæ’ä»¶å¼€å‘å…¥é—¨]]></title>
    <url>%2F2018%2F03%2F10%2Fjetbrain_plugin%2F</url>
    <content type="text"><![CDATA[Jetbrainå·ç§°IDEç•Œçš„Adobeï¼Œå„ä¸ªå¹³å°ã€å„ä¸ªçŽ¯å¢ƒä¸‹çš„IDEæ— è®ºä»Žæ˜“ç”¨æ€§è¿˜æ˜¯å¤–è§‚ä¸Šéƒ½æ˜¯ååˆ†ä¼˜ç§€çš„ï¼Œè¿™ä»½ç¬”è®°å°†ä¼šè®°å½•å¦‚ä½•åœ¨JetBrainsä¸­ç¼–å†™ç®€å•çš„æ’ä»¶ã€‚ ä¸€ã€åˆ›å»ºé¡¹ç›® å®‰è£…JetBrains IDEA æ–°å»ºé¡¹ç›®ï¼Œé€‰æ‹©IntelliJ Platform Pluginï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©å¼€å‘IDEAçš„æ’ä»¶ï¼Œæ‰€ä»¥Project SDKé€‰æ‹©IDEAçš„å®‰è£…ç›®å½• äºŒã€å®žçŽ° åˆ›å»ºå¥½é¡¹ç›®åŽï¼Œæ‰“å¼€resourcesç›®å½•ä¸‹çš„plugins.xmlï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬è¦æ³¨å†Œæˆ‘ä»¬çš„æ’ä»¶ åŠ ä¸€æ¡&lt;depends&gt;com.intellij.modules.platform&lt;/depends&gt;ï¼ŒåŽé¢æ‰“åŒ…çš„æ—¶å€™éœ€è¦ åœ¨&lt;actions&gt;ä¸­æ³¨å†Œè‡ªå·±çš„æ’ä»¶ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152&lt;idea-plugin&gt; &lt;id&gt;com.ph0en1x.Registration&lt;/id&gt; &lt;name&gt;Jetbrain Plugin&lt;/name&gt; &lt;version&gt;1.0&lt;/version&gt; &lt;vendor email="support@yourcompany.com" url="https://www.ph0en1x.space"&gt;Ph0en1x Notebook&lt;/vendor&gt; &lt;description&gt;&lt;![CDATA[ Jetbrain Plugin Demo ]]&gt;&lt;/description&gt; &lt;change-notes&gt;&lt;![CDATA[ Add change notes here.&lt;br&gt; &lt;em&gt;most HTML tags may be used&lt;/em&gt; ]]&gt; &lt;/change-notes&gt; &lt;!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description --&gt; &lt;idea-version since-build="173.0"/&gt; &lt;!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html on how to target different products --&gt; &lt;!-- uncomment to enable plugin in all products &lt;depends&gt;com.intellij.modules.lang&lt;/depends&gt; --&gt; &lt;depends&gt;com.intellij.modules.platform&lt;/depends&gt; &lt;!--&lt;application-components&gt;--&gt; &lt;!--&lt;component&gt;--&gt; &lt;!--&lt;implementation-class&gt;com.ph0en1x.Registration&lt;/implementation-class&gt;--&gt; &lt;!--&lt;/component&gt;--&gt; &lt;!--&lt;/application-components&gt;--&gt; &lt;extensions defaultExtensionNs="com.intellij"&gt; &lt;!-- Add your extensions here --&gt; &lt;/extensions&gt; &lt;actions&gt; &lt;!-- Add your actions here --&gt; &lt;group id="HelloWorld" text="Ph0en1x Menu"&gt; &lt;add-to-group group-id="MainMenu" anchor="last" /&gt; &lt;/group&gt; &lt;action class="com.ph0en1x.MenuAction" id="menuAction1" text="æ˜¾ç¤ºå¯¹è¯æ¡†"&gt; &lt;add-to-group group-id="HelloWorld" anchor="first" /&gt; &lt;/action&gt; &lt;action class="com.ph0en1x.MenuAction2" id="menuAction2" text="åœ¨Helpé‡Œ" description="A simple IDEA plugin."&gt; &lt;add-to-group group-id="HelpMenu" anchor="last"/&gt; &lt;/action&gt; &lt;/actions&gt;&lt;/idea-plugin&gt; æˆ‘è¿™é‡Œæ³¨å†Œäº†ä¸¤ä¸ªæ’ä»¶ï¼Œç¬¬ä¸€ä¸ªæ’ä»¶åœ¨ä¸€ä¸ªæ–°å»ºçš„é€‰é¡¹&lt;group&gt;ä¸‹é¢ï¼Œæ–°å»ºé€‰é¡¹æ˜¾ç¤ºçš„æ–‡å­—æ˜¯æ˜¾ç¤ºå¯¹è¯æ¡† classï¼šæ’ä»¶å…¥å£ç±» idï¼šå”¯ä¸€æ ‡è¯†æ’ä»¶ textï¼šé€‰é¡¹æ˜¾ç¤ºçš„æ–‡å­— descriptionï¼šçŠ¶æ€æ æ˜¾ç¤ºçš„æ–‡å­— iconï¼šæ˜¾ç¤ºçš„å›¾æ ‡ï¼ˆè¿™é‡Œæˆ‘æ²¡åŠ ï¼‰ add-to-groupï¼šè¡¨ç¤ºè¦æ·»åŠ åˆ°å“ªä¸ªé€‰é¡¹ä¸‹é¢ anchorï¼šæ’å…¥é€‰é¡¹çš„ä½ç½® å®žçŽ°Action åœ¨srcç›®å½•ä¸‹åˆ›å»ºä¸Žä¹‹å‰å®šä¹‰çš„ç›¸åº”çš„å…¥å£ç±»ï¼Œå…¥å£ç±»è¦ç»§æ‰¿äºŽcom.intellij.openapi.actionSystem.AnAction com.ph0en1x.MenuAction å®žçŽ°ç‚¹å‡»åŽæ˜¾ç¤ºä¸€ä¸ªå¯¹è¯æ¡† 123456789101112package com.ph0en1x;import com.intellij.openapi.actionSystem.AnAction;import com.intellij.openapi.actionSystem.AnActionEvent;import com.intellij.openapi.ui.Messages;public class MenuAction extends AnAction&#123; @Override public void actionPerformed(AnActionEvent anActionEvent) &#123; Messages.showInfoMessage("Show some message", "This is title"); &#125;&#125; com.ph0en1x.MenuAction2å®žçŽ°ç‚¹å‡»åŽæ˜¾ç¤ºä¸€ä¸ªå¯¹è¯æ¡†è¯¢é—®å§“åï¼Œè¾“å…¥å§“ååŽå¼¹å‡ºæ¬¢è¿Žç•Œé¢ 123456789101112131415package com.ph0en1x;import com.intellij.openapi.actionSystem.AnAction;import com.intellij.openapi.actionSystem.AnActionEvent;import com.intellij.openapi.project.Project;import com.intellij.openapi.ui.Messages;public class MenuAction2 extends AnAction&#123; @Override public void actionPerformed(AnActionEvent anActionEvent) &#123; Project project = anActionEvent.getProject(); String name = Messages.showInputDialog(project, "What's your name?", "This is title", Messages.getQuestionIcon()); Messages.showMessageDialog(project, "Hello " + name + "!", "This is title", Messages.getInformationIcon()); &#125;&#125; â€‹ å®ŒæˆåŽç‚¹å‡»runï¼Œä¼šæ‰“å¼€ä¸€ä¸ªæ–°çš„IDEAï¼Œæ‰“å¼€ä¸€ä¸ªé¡¹ç›®åŽï¼Œæ–°çš„IDEAé‡Œå°±ä¼šæœ‰æˆ‘ä»¬åˆšåˆšç¼–å†™çš„æ’ä»¶]]></content>
      <categories>
        <category>JetBrains</category>
      </categories>
      <tags>
        <tag>çŽ¯å¢ƒæ­å»º</tag>
        <tag>Java</tag>
        <tag>JetBrains</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntuä¸‹é€šè¿‡dockerè¿è¡Œeclipse che]]></title>
    <url>%2F2018%2F03%2F09%2Feclipse_che%2F</url>
    <content type="text"><![CDATA[Dockeræ˜¯ä¸€ä¸ªå¼€æºçš„å¼•æ“Žï¼Œå¯ä»¥è½»æ¾çš„ä¸ºä»»ä½•åº”ç”¨åˆ›å»ºä¸€ä¸ªè½»é‡çº§çš„ã€å¯ç§»æ¤çš„ã€è‡ªç»™è‡ªè¶³çš„å®¹å™¨ã€‚å¼€å‘è€…åœ¨ç¬”è®°æœ¬ä¸Šç¼–è¯‘æµ‹è¯•é€šè¿‡çš„å®¹å™¨å¯ä»¥æ‰¹é‡åœ°åœ¨ç”Ÿäº§çŽ¯å¢ƒä¸­éƒ¨ç½²ã€‚ä¸ªäººç†è§£ï¼šé€šè¿‡æ²™ç®±éš”ç¦»å‡ºä¸€å—åŒºåŸŸï¼Œæ¯å—åŒºåŸŸéƒ½æœ‰ä¸åŒçš„åº”ç”¨è¿è¡ŒçŽ¯å¢ƒã€‚ç±»ä¼¼è™šæ‹Ÿæœºæ˜¯ä¸ºäº†æ“ä½œç³»ç»Ÿæä¾›æ¨¡æ‹Ÿçš„ç¡¬ä»¶çŽ¯å¢ƒï¼Œdockerå®¹å™¨ç»™åº”ç”¨æä¾›äº†æ¨¡æ‹Ÿçš„ç³»ç»ŸçŽ¯å¢ƒã€‚ Eclipse Cheæ˜¯ä¸€ä¸ªçŽ°ä»£çš„ã€å¼€æ”¾æºä»£ç çš„è½¯ä»¶å¼€å‘çŽ¯å¢ƒã€‚å®ƒæ˜¯ä¸€ä¸ªé€šè¿‡æä¾›ç»“æž„åŒ–çš„å·¥ä½œåŒºã€é¡¹ç›®è¾“å…¥ã€æ¨¡å—åŒ–æ‰©å±•æ’ä»¶æ¥æ”¯æŒCodenvyçš„å¼•æ“Žã€‚Cheå¯ä»¥ç”¨ä½œæ¡Œé¢IDEï¼ŒRESTfulå·¥ä½œç©ºé—´æœåŠ¡å™¨ï¼Œæˆ–ä½œä¸ºä¸€ä¸ªåˆ›å»ºæ–°çš„å·¥å…·SDKã€‚æˆ‘ä»¬å°†ä½¿ç”¨dockeræ¥è¿è¡ŒChe Dockerå®‰è£… åˆ é™¤æ—§ç‰ˆæœ¬ 1$ sudo apt-get remove docker docker-engine docker.io å®‰è£…æœ€æ–°ç‰ˆæœ¬Docker CE 12345678910111213141516$ sudo apt-get update$ sudo apt-get install \ apt-transport-https \ ca-certificates \ curl \ software-properties-common$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -$ sudo apt-key fingerprint 0EBFCD88$ sudo add-apt-repository \ "deb [arch=amd64] https://download.docker.com/linux/ubuntu \ $(lsb_release -cs) \ stable"$ sudo apt-get update$ sudo apt-get install docker-ce Hello World 1$ sudo docker run hello-world è¿è¡Œche 1sudo docker run -ti -v /var/run/docker.sock:/var/run/docker.sock -v ~/Documents/che-data1:/data eclipse/che start -v ~/Documents/che-data1:/dataè¡¨ç¤ºå°†æ•°æ®å­˜å‚¨åœ¨~/Documents/che-data1 æ ¹æ®ä¸Šé¢çš„ç»“æžœæµè§ˆå™¨è¾“å…¥http://localhost:8080 ä¹‹åŽå°±å¯ä»¥åƒæ­£å¸¸çš„IDEé‚£æ ·ä½¿ç”¨äº†; è¿è¡Œç•Œé¢ è¿˜æœ‰ä¸€ä¸ªè®°å½•REST APIè¯·æ±‚çš„ç•Œé¢ï¼Œæ‰“å¼€localhost:8080/swagger]]></content>
      <categories>
        <category>çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>çŽ¯å¢ƒæ­å»º</tag>
        <tag>Linux</tag>
        <tag>Ubuntu</tag>
        <tag>docker</tag>
        <tag>Eclipse</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntuä¸‹Javaå®‰è£…]]></title>
    <url>%2F2018%2F03%2F09%2Fubuntu_java%2F</url>
    <content type="text"><![CDATA[ä»‹ç»å¦‚ä½•åœ¨Linuxä¸‹å®‰è£…Java åˆ°Oracleå®˜ç½‘ä¸‹è½½å®‰è£…åŒ…ï¼Œé€‰æ‹©tar.gzçš„ç‰ˆæœ¬ï¼Œä¾‹å¦‚ä¸‹è½½åˆ°/home/phoenix/Program_Files/ è§£åŽ‹ 1sudo tar zxvf jdk-9.0.4_linux-x64_bin.tar.gz â€‹ ä¿®æ”¹ /etc/environment 12345PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:$JAVA_HOME/bin"export CLASSPATH=.:$JAVA_HOME/lib:$JAVA_HOME/jre/libexport JAVA_HOME=/home/phoenix/Program_Files/jdk-9.0.4 ä¿å­˜å…³é—­åŽï¼Œåˆ·æ–°çŽ¯å¢ƒ 1source /etc/enviroment â€‹ éªŒè¯çŽ¯å¢ƒ 123456$ echo $JAVA_HOME/home/phoenix/Program_Files/jdk-9.0.4$ echo $CLASSPATH.:/lib:/jre/lib$ echo $PATH/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/bin â€‹ ä¿®æ”¹/etc/profile æ·»åŠ å¦‚ä¸‹å†…å®¹ 1234JAVA_HOME=/home/phoenix/Program_Files/jdk-9.0.4export JRE_HOME=/home/phoenix/Program_Files/jdk-9.0.4/jreexport CLASSPATH=.:$JAVA_HOME/lib:$JRE_HOME/lib:$CLASSPATHexport PATH=$JAVA_HOME/bin:$JRE_HOME/bin:$PATH â€‹ é‡å¯ç³»ç»ŸéªŒè¯ 1java -version â€‹]]></content>
      <categories>
        <category>çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>çŽ¯å¢ƒæ­å»º</tag>
        <tag>Linux</tag>
        <tag>Ubuntu</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¿æ€§åˆ¤åˆ«åˆ†æž(LDA)]]></title>
    <url>%2F2018%2F03%2F07%2FLDA%2F</url>
    <content type="text"><![CDATA[çº¿æ€§åˆ¤åˆ«åˆ†æž(Linear Discriminant Analysis, LDA)æ˜¯å¦å¤–ä¸€ç§çº¿æ€§é™ç»´æ–¹æ³•ã€‚ä¸Žä¸»æˆåˆ†åˆ†æžæ³•ä¸åŒï¼Œçº¿æ€§åˆ¤åˆ«åˆ†æžæ˜¯ä¸€ç§æœ‰ç›‘ç£å­¦ä¹ ï¼Œä¹Ÿå°±æ„å‘³ç€çº¿æ€§åˆ¤åˆ«åˆ†æžéœ€è¦ä½¿ç”¨å¸¦æ ‡ç­¾çš„æ•°æ®è¿›è¡Œè®­ç»ƒæ¥å®Œæˆé™ç»´ã€‚ ä¸»æˆåˆ†åˆ†æžæ³•ç¬”è®° çš„ä¸»è¦æ€æƒ³æ˜¯æ‰¾åˆ°ä¸€ç§çº¿æ€§æ˜ å°„è‡³ä½Žç»´ç©ºé—´çš„æ–¹æ³•ï¼Œä¿è¯é™ç»´åŽå¸¦æœ‰ä¸åŒæ ‡ç­¾çš„æ•°æ®èƒ½å¤Ÿå°½é‡åˆ†æ•£ï¼Œè€Œå¸¦æœ‰ç›¸åŒæ ‡ç­¾çš„æ•°æ®èƒ½å¤Ÿå°½é‡ç›¸äº’é›†ä¸­ï¼Œä¸ŽPCAä¸€æ ·ï¼Œåˆ†æ•£è¿™ä¸€è¯„ä»·æŒ‡æ ‡ä»ç„¶ç”±æ–¹å·®æ¥å†³å®šã€‚ äºŒåˆ†ç±»æƒ…å†µ è€ƒè™‘å½“æ ·æœ¬çš„ç±»åˆ«åªæœ‰ä¸¤ç±»(0å’Œ1)ä¸”ä»Ždç»´æ˜ å°„è‡³ä¸€ç»´çš„é—®é¢˜ï¼Œå¦‚ä¸‹å›¾ LDAçš„ä¼˜åŒ–ç›®æ ‡ å…¶ä¸­Î¼iä¸ºç¬¬iç±»æ ·æœ¬çš„ä¸­å¿ƒç‚¹ï¼Œâˆ‘iè¡¨ç¤ºç¬¬iç±»æ ·æœ¬çš„åæ–¹å·®çŸ©é˜µï¼Œå³(x-Î¼i)(x-Î¼i)T; wå³éœ€è¦æ‰¾åˆ°çš„æœ€ä½³æ˜ å°„æ–¹å¼ å®šä¹‰â€œç±»å†…æ•£åº¦çŸ©é˜µâ€(within-class scatter matrix) ä»¥åŠâ€œç±»é—´æ•£åº¦çŸ©é˜µâ€(between-class scatter matrix) åˆ™ä¼˜åŒ–ç›®æ ‡å¯ä»¥å†™ä¸º ç§°ä¸ºSbå’ŒSwçš„â€œå¹¿ä¹‰ç‘žåˆ©å•†â€(generalized Rayleigh quotient) ä½†æ˜¯åªæœ‰è¿™ä¸ªå¼å­æ˜¯ä¸å¤Ÿçš„ï¼Œå› ä¸ºå½“wä¹˜ä»¥ä¸€ä¸ªå€æ•°çš„æ—¶å€™ï¼Œç­”æ¡ˆJä¸ä¼šæ”¹å˜ï¼Œå°±æœ‰æ— ç©·å¤šè§£ã€‚è¦æ±‚å”¯ä¸€è§£ï¼Œå°±è¦å¯¹wè¿›è¡Œé™åˆ¶ï¼Œé™åˆ¶ä¹‹åŽçš„ä¼˜åŒ–ç›®æ ‡ï¼š ä¸ŽPCAç›¸åŒï¼Œé€šè¿‡æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•ï¼Œå¾—åˆ°ï¼š åˆ ç”±äºŽwçš„ä»»ä½•å€æ•°ä¸ä¼šå½±å“ç»“æžœï¼Œæ‰€ä»¥ æˆ‘ä»¬åªè¦æ±‚å‡ºSwå°±å¯ä»¥å‡ºæœ€ä¼˜çš„w â€‹ å¤šåˆ†ç±»æƒ…å†µ å¤šåˆ†ç±»æƒ…å†µä¸‹ï¼Œéœ€è¦å®šä¹‰â€œå…¨å±€æ•£åº¦çŸ©é˜µâ€ï¼š ç±»å†…æ•£åº¦ä¸Žç±»é—´æ•£åº¦çŸ©é˜µçš„è§„å®šä¸å˜ åªè¦çŸ¥é“å…¶ä¸­çš„ä¸¤è€…åˆ©ç”¨å¹¿ä¹‰ç‘žåˆ©å•†å°±å¯ä»¥ç®—å‡ºæœ€ä¼˜è§£ï¼Œä¾‹å¦‚æŒ‰ç…§äºŒåˆ†ç±»çš„æ–¹æ³•å¾—åˆ° åŒæ ·ä¹Ÿèƒ½æ±‚å‡ºè§£;]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Data Mining</tag>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸»æˆåˆ†åˆ†æžæ³•(PCA)]]></title>
    <url>%2F2018%2F03%2F06%2FPCA%2F</url>
    <content type="text"><![CDATA[ä¸»æˆåˆ†åˆ†æžæ³•(principal component analysis, PCA)æ˜¯æœ€å¸¸ç”¨çš„æ— ç›‘ç£é«˜ç»´æ•°æ®é™ç»´æ–¹æ³•ä¹‹ä¸€ï¼Œå®ƒæ—¨åœ¨é™ç»´çš„è¿‡ç¨‹ä¸­ä¿ç•™åŽŸæ•°æ®ä¸­æœ€é‡è¦çš„å‡ ä¸ªåˆ†é‡ï¼Œä»Žè€Œè¾¾åˆ°æœ€å¤§åŒ–åŽŸæ•°æ®æ–¹å·®çš„ä½œç”¨ã€‚å‡ ä¹Žæ‰€æœ‰æ•°æ®é™ç»´æ–¹é¢ç ”ç©¶éƒ½è¦ç”¨æ¥ä½œä¸ºæ¯”è¾ƒé‡è¦çš„æ–¹æ³•ã€‚ ä¸»æˆåˆ†åˆ†æžçš„åŸºæœ¬æ€æƒ³å°±æ˜¯åœ¨åŽŸæœ‰æ ·æœ¬çš„nç»´ç©ºé—´å†…å†å»ºç«‹ä¸€ä¸ªdç»´çº¿æ€§ç©ºé—´ï¼Œç”¨nä¸ªæ ‡å‡†æ­£äº¤åŸºè¿›è¡Œé‡æ–°æ˜ å°„ï¼Œç„¶åŽé€‰å–å…¶ä¸­çš„dâ€™ä¸ªæ­£äº¤åŸºè¿›è¡Œä¿ç•™ï¼Œè€Œåœ¨è¿™dâ€™ä¸ªåæ ‡è½´ä¸Šçš„åæ ‡å€¼å°±æ˜¯æ˜ å°„åˆ°ä½Žç»´åŽçš„åæ ‡ã€‚è€ŒæŽ¨å¯¼çš„ç›®çš„å°±æ˜¯ä¸ºäº†ç¡®å®šå¦‚ä½•ç¡®å®šè¿™è¿™dä¸ªæ ‡å‡†æ­£äº¤åŸºä»¥åŠå¦‚ä½•é€‰å–å®ƒä»¬ã€‚å°±å¦‚ä¸‹å›¾ä¸€æ ·ï¼Œå°†äºŒç»´ç©ºé—´å†…çš„ç‚¹æ˜ å°„è‡³ä¸€ç»´ç©ºé—´ï¼Œæœ€ç»ˆé€‰æ‹©è¾ƒé•¿çš„é‚£æ¡å‘é‡è¿›è¡ŒæŠ•å½±æ˜ å°„ã€‚ é¦–å…ˆï¼Œéœ€è¦å°†æ‰‹å¤´éœ€è¦é™ç»´çš„æ•°æ®è¿›è¡Œä¸­å¿ƒåŒ–ï¼Œä½¿æ ·æœ¬ä¸­å¿ƒç‚¹ä¸ºåŽŸç‚¹ ç„¶åŽå‡å®šé€‰æ‹©çš„æ–°çš„åæ ‡ç³»ä¸º å…¶ä¸­Wæ˜¯æ ‡å‡†æ­£äº¤åŸºå‘é‡ï¼Œå³ (i != j) é€‰å–å…¶ä¸­çš„dâ€™ä¸ªå‘é‡è®©åŽŸæ ·æœ¬å‘æ–°åæ ‡ç³»ä¸­æ˜ å°„WTxiï¼Œå³ï¼š Wæ˜¯ç»è¿‡é€‰å–åŽçš„dâ€™ä¸ªæ ‡å‡†æ­£äº¤åŸºï¼Œzæ˜¯ä½Žç»´ä¸­çš„åæ ‡ é€‰å–çš„ç›®æ ‡æ˜¯ä½¿é™ç»´åŽçš„ç‚¹å°½é‡çš„åˆ†æ•£ï¼Œä¹Ÿå°±æ˜¯æ–¹å·®å°½é‡çš„å¤§ï¼š ä¼˜åŒ–é—®é¢˜è¢«å½’çº³ä¸º æ ¹æ®æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•ï¼Œæ¥å†³å®šå“ªdâ€™ä¸ªwå¯ä»¥ç•™ä¸‹ï¼Œä¼˜åŒ–ç›®æ ‡å°±æˆä¸ºäº†ï¼š â€‹ ä»£å…¥ä¼˜åŒ–ç›®æ ‡ â€‹ æ‰€ä»¥æ±‚è§£çš„è¿‡ç¨‹å°±æ˜¯å¯»æ‰¾åŽŸæ ·æœ¬åæ–¹å·®çŸ©é˜µXXTçš„æœ€å¤§çš„dâ€™ä¸ªç‰¹å¾å€¼ï¼Œè€Œç›¸åº”çš„æ ‡å‡†æ­£äº¤åŸºå°±æ˜¯ç›¸åº”ç‰¹å¾å€¼çš„ç‰¹å¾å‘é‡;]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Data Mining</tag>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Requestså’ŒBeautifulSoupå¹¶è¡ŒæŠ“å–ä»Šæ—¥å¤´æ¡å›¾é›†]]></title>
    <url>%2F2018%2F03%2F04%2Fbeautifulsoup2%2F</url>
    <content type="text"><![CDATA[ä»£ç åˆ†å—è®²è§£ã€‚åˆ†æžAjaxè¯·æ±‚æ¥çˆ¬å–ä»Šæ—¥å¤´æ¡çš„å›¾é›†ï¼Œå°†ç»“æžœå­˜å‚¨åœ¨MongoDBä¸­ã€‚ä½¿ç”¨äº†Pythonå¤šè¿›ç¨‹(multiprocessing)å¹¶è¡Œè¿›è¡ŒæŠ“å–ã€‚é’ˆå¯¹ä¸€ä¸ªå®žæˆ˜çš„æ•™ç¨‹è¿›è¡Œä¿®æ”¹ï¼Œä»¥é€‚åº”ä»Šæ—¥å¤´æ¡æœ€æ–°çš„ç½‘é¡µè¯·æ±‚æ–¹å¼ å®Œæ•´ä»£ç åœ¨è¿™é‡Œ MongoDBç¬”è®° Requestsä¸ŽBeautifulSoupç¬”è®° é¦–å…ˆï¼Œæœ¬æ¬¡è¦çˆ¬å–çš„é¡µé¢å¤–è§‚å¦‚ä¸‹ æœç´¢åŽç‚¹å‡»å›¾é›†æ ‡ç­¾ ç‚¹å‡»è¿›æŸä¸€ä¸ªè¯¦ç»†é¡µé¢åŽï¼Œå¾—åˆ°ï¼š å…¶ä¸­æ‰€æœ‰ç…§ç‰‡ä¸ä¼šä¸€å£æ°”å…¨éƒ¨å‘ˆçŽ°åœ¨é¡µé¢ä¸­ï¼Œè€Œæ˜¯é€šè¿‡ç¿»é¡µæ¥ä½¿ç”¨Ajaxè¯·æ±‚æ–°çš„å±•ç¤ºå›¾ åœ¨æœç´¢ç»“æžœå±•ç¤ºé¡µï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·-&gt;Network-&gt;XHRï¼Œç„¶åŽåˆ·æ–°ï¼Œæˆ‘ä»¬å¯ä»¥èŽ·å–è¯·æ±‚çš„URLå’Œè¯·æ±‚çš„å‚æ•° ç¼–å†™èŽ·å–é¡µé¢çš„ä»£ç  1234567891011121314151617181920212223242526272829def get_page_index(offset, keyword): ''' :param offset: é¡µé¢offsetï¼Œç”¨äºŽè‡ªåŠ¨appendæ–°ç»“æžœ :param keyword: æœç´¢å…³é”®å­— :return: ''' #è¯·æ±‚çš„å‚æ•° data = &#123; 'offset': offset, 'format': 'json', 'keyword': keyword, 'autoload':'true', 'count': '20', 'cur_tab': 3, 'from': 'gallery' &#125; #urlencodeå¯ä»¥ç”¨æ¥å°†å‚æ•°çš„jsonä¸²è½¬æ¢ä¸ºurlä¸Šçš„å‚æ•° url = 'https://www.toutiao.com/search_content/?' + urlencode(data) try: response = requests.get(url) #æˆåŠŸ200 if response.status_code == 200: # print(response.text) return response.text return None except RequestException: print('è¯·æ±‚ç´¢å¼•é¡µå‡ºé”™') return None ä»Žå¼€å‘è€…å·¥å…·å¯ä»¥çœ‹åˆ°å¾—åˆ°çš„å“åº”ä¸²æ˜¯ ç¼–å†™èŽ·å–æ¯ä¸ªdetailé¡µé¢çš„urlä»£ç  123456789101112def parse_page_index(html): try: #è½¬åŒ–ä¸ºjsonå¯¹è±¡ data = json.loads(html) # print(data) #æœ‰æ•°æ®å¹¶ä¸”åˆâ€˜dataâ€™æ ‡ç­¾ if data and 'data' in data.keys(): for item in data.get('data'): if 'article_url' in item.keys(): yield item.get('article_url') except JSONDecodeError: pass èŽ·å¾—æ¯ä¸ªdetailé¡µé¢çš„urlåŽï¼Œä¸Žindexé¡µé¢ç±»ä¼¼ï¼Œè¯·æ±‚æ¯ä¸ªurl 12345678910def get_page_detail(url): try: response = requests.get(url) # print(response.text) if response.status_code == 200: return response.text return None except RequestException: print('è¯·æ±‚è¯¦æƒ…é¡µå‡ºé”™', url) return None åœ¨æ¯ä¸ªdetailé¡µé¢ä¸­æ‰“å¼€å¼€å‘è€…å·¥å…·-&gt;Network-&gt;Docï¼Œå¯ä»¥çœ‹åˆ°detailé¡µé¢éƒ½é¢„å¤‡è¦è¯·æ±‚ä»€ä¹ˆ å¯ä»¥å‘çŽ°åœ¨BASE_DATA.galleryInfoä¸­galleryé‡Œè®°å½•äº†æ¯ä¸ªsub_imgçš„ä¿¡æ¯ï¼Œæ‰€ä»¥ç”¨æ­£åˆ™è¡¨è¾¾å¼æŠŠå®ƒä»¬æå‡ºæ¥å¹¶å°è¯•åŽ»è¯·æ±‚å›¾ç‰‡ 123456789101112131415161718192021222324252627def parse_page_detail(html, url): soup = BeautifulSoup(html, 'lxml') #èŽ·å¾—é¡µé¢title title = soup.select('title')[0].get_text() print(title) #åŒ¹é…éœ€è¦çš„ä¸² image_pattern = re.compile('gallery: JSON.parse\("(.*?)"\),', re.S) result = re.search(image_pattern, html) if result: #group(1)åªåŒ¹é…æ‹¬å·é‡Œçš„ï¼Œgroup()è¿”å›žåŒ…æ‹¬æ‹¬å·é‡Œçš„æ•´ä¸ªä¸² data = json.loads(result.group(1).replace('\\', '')) # print(data) if data and 'sub_images' in data.keys(): sub_imges = data['sub_images'] # èŽ·å¾—å›¾ç‰‡çš„url images = [item.get('url') for item in sub_imges] # ä¸‹è½½å›¾ç‰‡ for image in images: download_image(image) #è¿”å›žé¢„å¤‡è¦å­˜å…¥MongoDBçš„jsonä¸² return &#123; 'title' : title, 'images' : images, 'url' : url &#125; else: print("failed") ä¸‹è½½å›¾ç‰‡åŒè¯·æ±‚ç½‘é¡µç±»ä¼¼ 12345678910111213def download_image(url): print('downing', url, '...') try: response = requests.get(url, stream=True) if response.status_code == 200: # print(response.text) filename = url.split('/')[-1] #ä¿å­˜å›¾ç‰‡ save_image(response, filename) return None except RequestException: print('è¯·æ±‚å›¾ç‰‡å‡ºé”™', url) return None ä¿å­˜å›¾ç‰‡ 12345678def save_image(response, filename): file_path = './jiepai/&#123;0&#125;.&#123;1&#125;'.format(filename, 'jpg') if not os.path.exists(file_path): with open(file_path, 'wb') as f: #æŒ‰å­—èŠ‚æµä¿å­˜ for chunk in response.iter_content(chunk_size=128): f.write(chunk) f.close() ä¸»å‡½æ•° 123456789101112131415def main(offset): #è¯·æ±‚indexé¡µé¢ html = get_page_index(offset, 'è¡—æ‹') #è§£æžé¡µé¢ for url in parse_page_index(html): #å¤´æ¡è¿”å›žçš„urlå·²ç»ä¸èƒ½ç›´æŽ¥è®¿é—®åˆ°ç½‘é¡µï¼Œè€Œæ˜¯è·³è½¬åˆ°äº†æ–°çš„é¡µé¢ï¼Œæ‰€ä»¥è¦è‡ªå·±è½¬ä¸‹æ ¼å¼ url = 'https://www.toutiao.com/a' + url.split('/')[-2] # è¯·æ±‚detailé¡µé¢ html = get_page_detail(url) if html: #è§£æždetailé¡µé¢ result = parse_page_detail(html, url) #å­˜å…¥æ•°æ®åº“ if result: save_to_mongo(result) æ’å…¥æ•°æ®åº“çš„æ“ä½œ 123456789101112#è¿žæŽ¥æ•°æ®åº“client = pymongo.MongoClient(MONGO_URL)#ç¡®å®šå“åº”çš„databasedb = client[MONGO_DB]def save_to_mongo(result): #æ’å…¥ if db[MONGO_TABLE].insert(result): print('å­˜å‚¨åˆ°MongoDBæˆåŠŸ', result) return True else: return False å…¶ä¸­ 123456MONGO_URL = 'localhost'MONGO_DB = 'toutiao'MONGO_TABLE = 'toutiao'GROUP_START = 0GROUP_END = 20 å¹¶è¡Œåœ°æŠ“å–ä¸åŒoffsetçš„æ•°æ® 123456789if __name__ == "__main__": if not os.path.exists('./jiepai'): os.mkdir('./jiepai') groups = [x*20 for x in range(GROUP_START, GROUP_END+1)] #åˆ›å»ºè¿›ç¨‹æ± ï¼Œé»˜è®¤ä¸ºcpuæ ¸æ•° pool = Pool(processes=4) #å¼€å¯è¿›ç¨‹ï¼Œä¼ å…¥å‚æ•° pool.map(main, groups) Enjoy it !!!]]></content>
      <categories>
        <category>ç½‘ç»œçˆ¬è™«</category>
      </categories>
      <tags>
        <tag>BeautifulSoup</tag>
        <tag>ç½‘ç»œçˆ¬è™«</tag>
        <tag>python</tag>
        <tag>MongoDB</tag>
        <tag>parallel</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨Ubuntuä¸‹å®‰è£…MongoDBä»¥åŠåŸºæœ¬æ“ä½œ]]></title>
    <url>%2F2018%2F03%2F03%2Fubuntu_mongodb%2F</url>
    <content type="text"><![CDATA[MongoDBæ˜¯è‘—åçš„éžå…³ç³»åž‹æ•°æ®åº“ï¼Œç”±äºŽå…¶å­˜å–ååˆ†çµæ´»ï¼Œåœ¨ä¸€äº›webåº”ç”¨ä¸Šå¾—åˆ°äº†æ¯”å…³ç³»åž‹æ•°æ®åº“æ›´å¹¿æ³›çš„è¿ç”¨ ä¸€ã€MongoDBå®‰è£… å®‰è£…mongoDB 1sudo apt-get install mongodb æŸ¥çœ‹ç‰ˆæœ¬ 1mongo -version å¯åŠ¨å’Œå…³é—­mongoDBæœåŠ¡ 12service mongodb startservice mongodb stop æŸ¥çœ‹æ˜¯å¦åœ¨è¿è¡Œ 1pgrep mongo -l å¸è½½mongoDB 1sudo apt-get --purge remove mongodb mongodb-clients mongodb-server äºŒã€MongoDBåŸºæœ¬æ“ä½œ å¯åŠ¨MongoDBå‘½ä»¤è¡Œå·¥å…· 1mongo â€‹ 1234567show dbs #æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“show collections #æ˜¾ç¤ºå½“å‰æ•°æ®åº“ä¸­çš„é›†åˆ(collectionç±»ä¼¼mysqlç­‰å…³ç³»æ•°æ®åº“ä¸­çš„table)show users #æ˜¾ç¤ºæ‰€æœ‰ç”¨æˆ·use DBname #åˆ‡æ¢å½“å‰æ•°æ®åº“è‡³DBnamedb.help() #æ˜¾ç¤ºæ•°æ®åº“æ“ä½œå‘½ä»¤db.yourCollection.help() #æ˜¾ç¤ºé›†åˆæ“ä½œå‘½ä»¤ï¼ŒyourCollectionæ˜¯é›†åˆå exit #é€€å‡ºå‘½ä»¤è¡Œå·¥å…· åˆ›å»ºæ•°æ®åº“ 1use DBname #ä¸éœ€è¦äº‹å…ˆå®šä¹‰ï¼ŒçŽ°ç”¨çŽ°åˆ›å»º â€‹ åˆ›å»ºCollection 1db.createCollection('newCollection') æˆ–ç›´æŽ¥å‘Collectionä¸­æ’å…¥æ•°æ® â€‹ æ’å…¥æ•°æ® 123db.collentionName.insert(&#123;_id:1, name: 'Ph0en1x', age: 20&#125;) # ordb.collectionName.save(&#123;_id:1, name: 'Ph0en1x', age: 22&#125;) _idä¸å†™ä¼šè‡ªåŠ¨ç”Ÿæˆï¼Œå½“_idé‡å¤æ—¶ï¼Œinsertä¸ä¼šæ’å…¥æ–°çš„è®°å½•ï¼Œè€Œsaveä¼šè¿›è¡Œæ›´æ–° â€‹ æŸ¥æ‰¾æ•°æ® 1db.youCollection.find(criteria, filterDisplay) criteria ï¼šæŸ¥è¯¢æ¡ä»¶ï¼Œå¯é€‰ filterDisplayï¼šç­›é€‰æ˜¾ç¤ºéƒ¨åˆ†æ•°æ®ï¼Œå¦‚æ˜¾ç¤ºæŒ‡å®šåˆ—æ•°æ®ï¼Œå¯é€‰ï¼ˆå½“é€‰æ‹©æ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸å¯çœç•¥ï¼Œè‹¥æŸ¥è¯¢æ¡ä»¶ä¸ºç©ºï¼Œå¯ç”¨{}åšå ä½ç¬¦ï¼Œå¦‚ä¸‹ä¾‹ç¬¬ä¸‰å¥ï¼‰ ä¾‹å¦‚ 12345db.collectionName.find() #æŸ¥è¯¢æ‰€æœ‰è®°å½•db.collectionName.find(&#123;name: 'Ph0en1x'&#125;) #æŸ¥è¯¢name='Ph0en1x'çš„è®°å½•db.collectionName.find(&#123;&#125;,&#123;name:1, sge:1&#125;) #ç­›é€‰å‡ºæŒ‡å®šåˆ—nameã€ageæ•°æ®db.collectionName.find(&#123;name: 'Ph0en1x', age: 22&#125;) #and ä¸Žæ¡ä»¶æŸ¥è¯¢db.student.find(&#123;$or: [&#123;age: 22&#125;, &#123;age: 25&#125;]&#125;) #or æ¡ä»¶æŸ¥è¯¢ â€‹ ä¿®æ”¹æ•°æ® 1db.youCollection.update(criteria, objNew, upsert, multi ) criteriaï¼š updateçš„æŸ¥è¯¢æ¡ä»¶ objNew ï¼šupdateçš„å¯¹è±¡å’Œä¸€äº›æ›´æ–°çš„æ“ä½œç¬¦ upsert ï¼šå¦‚æžœä¸å­˜åœ¨updateçš„è®°å½•ï¼Œæ˜¯å¦æ’å…¥objNewï¼Œtrue or false multiï¼šfalseé»˜è®¤ï¼Œåªæ›´æ–°æŸ¥è¯¢åˆ°çš„ç¬¬ä¸€æ¡ï¼Œtrueæ›´æ–°å…¨éƒ¨ å…¶ä¸­criteriaå’ŒobjNewæ˜¯å¿…é€‰å‚æ•°ï¼Œupsertå’Œmultiå¯é€‰å‚æ•° ä¾‹å¦‚ 1db.collectionName.update(&#123;name: 'Ph0en1x'&#125;, &#123;$set: &#123;sage: 13&#125;&#125;, false, true) â€‹ åˆ é™¤æ•°æ® 1db.collectionName.remove(&#123;name: 'Ph0en1x'&#125;) â€‹]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>MongoDB</tag>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python å¤šè¿›ç¨‹(multiprocessing)]]></title>
    <url>%2F2018%2F03%2F02%2Fpython_multiprocessing%2F</url>
    <content type="text"><![CDATA[Pythonå¤šè¿›ç¨‹ç¼–ç¨‹å…¥é—¨ï¼ŒåŸºæœ¬ä½¿ç”¨ï¼Œqueueçš„ä½¿ç”¨ï¼Œpoolä½¿ç”¨å’Œå…±äº«å˜é‡çš„ä½¿ç”¨ å®Œæ•´ä»£ç ç‚¹å‡»è¿™é‡Œ ä¸€ã€åŸºæœ¬ä½¿ç”¨Pythonæœ‰å¤šè¿›ç¨‹(multiprocessing)ä¸Žå¤šçº¿ç¨‹(multithreading)ä¸¤ç§å¹¶è¡Œçš„æ–¹å¼ï¼Œåœ¨pythonä¸­å¯¼å…¥åº“ 12import multiprocessing as mpimport threading as td æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªä»£ç æ¥æ¯”è¾ƒmultiprocessingã€multithreadingå’Œserialä¸‰ç§æ‰§è¡Œçš„æ•ˆçŽ‡ è¦ä½¿ç”¨å¹¶è¡Œï¼Œé¦–å…ˆè¦å…ˆå‡†å¤‡ä¸€ä¸ªè¢«è°ƒç”¨çš„å‡½æ•° 1234567def job(q, a): res = 0 #ä¸¤ä¸ªè¿›ç¨‹/çº¿ç¨‹åˆ†åˆ«è´Ÿè´£å‰åŠéƒ¨åˆ†å’ŒåŽåŠéƒ¨åˆ† for i in range(50000*a, 50000*(a+1)): res += i**3 + i**2 + i #ç»“æžœæ”¾å…¥queueä¸­ q.put(res) å¤šè¿›ç¨‹ 123456789101112131415def multiprocess(): # ä½¿ç”¨queue q = mp.Queue() #ä¼ å…¥å‚æ•° p1 = mp.Process(target=job, args=(q, 0)) p2 = mp.Process(target=job, args=(q, 1)) p1.start() p2.start() p1.join() p2.join() res1 = q.get() res2 = q.get() print('multiprocess:',res1 + res2) å¤šçº¿ç¨‹ 1234567891011121314def multithread(): # ä½¿ç”¨queue q = mp.Queue() t1 = td.Thread(target=job, args=(q, 0)) t2 = td.Thread(target=job, args=(q, 1)) t1.start() t2.start() t1.join() t2.join() res1 = q.get() res2 = q.get() print('multithread:', res1 + res2) ä¸²è¡Œæ‰§è¡Œ 12345def serial(): res = 0 for i in range(100000): res += i**3 + i**2 + i print('serial:', res) è°ƒç”¨ 123456789101112if __name__ == '__main__': import time st = time.time() serial() st1 = time.time() print('serial time:', st1 - st, "\n") multithread() st2 = time.time() print('multithread time:', st2 - st1, "\n") multiprocess() print('multiprocess time:', time.time() - st2, "\n") è¾“å‡º 12345678serial: 24999833335833300000serial time: 0.07318806648254395 multithread: 24999833335833300000multithread time: 0.16390419006347656 multiprocess: 24999833335833300000multiprocess time: 0.057524681091308594 å¯ä»¥çœ‹å‡ºï¼Œmultiprocessingæ¯”æ™®é€šä¸²è¡Œçš„æ‰§è¡Œè¦å¿«ä¸€äº›ï¼Œä½†æ˜¯multithreadingæ¯”ä¸²è¡Œè¦æ…¢ä¸€äº›ã€‚multithreadingè¦ä½“çŽ°æ€§èƒ½çš„æå‡å¿…é¡»åœ¨ä»»åŠ¡æœ‰å¤§é‡çš„IOæ—¶ï¼Œåœ¨è®¡ç®—å¯†é›†åž‹çš„ç¨‹åºå†…ï¼Œmultithreadingæ— æ³•ä½“çŽ°ä¼˜è¶Šæ€§ã€‚äº‹å®žä¸Šï¼Œå½“å¤„ç†çš„äº‹æƒ…è¶Šå°‘æ—¶ï¼Œè°ƒåº¦å¤šè¿›ç¨‹çš„ä»£ä»·å¤§äºŽå¤šè¿›ç¨‹å¸¦æ¥çš„æ€§èƒ½æå‡ï¼Œä¸¤ç§å¹¶è¡Œéƒ½è¦æ¯”ä¸²è¡Œè¦æ…¢ äºŒã€ä½¿ç”¨poolæ¥è°ƒç”¨pythonå¤šè¿›ç¨‹123456789101112131415161718import multiprocessing as mpdef job(x): return x**3def multiprocess(): #mp.Pool()è¿›ç¨‹æ•°processesé»˜è®¤ä¸ºcpuæ ¸æ•° pool = mp.Pool(processes=2) res = pool.map(job, range(10)) print(res) #ä½¿ç”¨apply_async()åªèƒ½ä¼ ä¸€ç»„å‚æ•° multi_res = [pool.apply_async(job, (i,)) for i in range(10)] print([res.get() for res in multi_res])if __name__ == "__main__": multiprocess() è¾“å‡º 12[0, 1, 8, 27, 64, 125, 216, 343, 512, 729][0, 1, 8, 27, 64, 125, 216, 343, 512, 729] ä¸‰ã€å…±äº«å˜é‡ä¸Žäº’æ–¥é”1234567891011121314151617181920212223242526272829303132import multiprocessing as mpimport timedef job(v, num, l): #è¯·æ±‚é” l.acquire() for _ in range(10): time.sleep(0.1) v.value = v.value + num print(v.value) #é‡Šæ”¾é” l.release()def multiprocess(): #å…±äº«å˜é‡ v = mp.Value('i', 0) #äº’æ–¥é” l = mp.Lock() p1 = mp.Process(target=job, args=(v, -1, l)) p2 = mp.Process(target=job, args=(v, 1, l)) p1.start() p2.start() p1.join() p2.join() print('final:', v.value)if __name__ == "__main__": multiprocess() è¾“å‡º(ä¸ä½¿ç”¨äº’æ–¥é”) 123456789101112131415161718192021-10-10-10-10-111121023324final: 4 ç­”æ¡ˆå‡ºçŽ°äº†é”™è¯¯ï¼Œå¹¶ä¸”ä¸¤ä¸ªè¿›ç¨‹çš„æ‰§è¡Œé¡ºåºå¾ˆéšæœºï¼Œå› ä¸ºå¯èƒ½å‡ºçŽ°Aè¿›ç¨‹è¯»å–å˜é‡åˆ°å¯„å­˜å™¨è¿›è¡Œè®¡ç®—åŽæ—¶é—´ç‰‡è¢«ç”¨å®ŒæŒ‚èµ·ï¼ŒBè¿›ç¨‹å¼€å§‹è¿›è¡Œäº†è¯»å–ä¹‹åŽæŒ‚èµ·ï¼Œå½“Aå°†è®¡ç®—å®Œçš„ç»“æžœæ”¾å›žåˆ°å†…å­˜æŒ‚èµ·åŽBè¿›ç¨‹åˆå°†è®¡ç®—å®Œçš„ç»“æžœæ”¾å›žå†…å­˜ï¼ŒAçš„è®¡ç®—å°±è¢«è¦†ç›–ï¼Œäº§ç”Ÿäº†é”™è¯¯ã€‚ è¾“å‡º(ä½¿ç”¨äº’æ–¥é”) 123456789101112131415161718192021-1-2-3-4-5-6-7-8-9-10-9-8-7-6-5-4-3-2-10final: 0 å¯ä»¥çœ‹åˆ°è¿›ç¨‹1å…ˆæŠ¢åˆ°äº†äº’æ–¥é”å¼€å§‹äº†è‡ªå·±çš„å¾ªçŽ¯ï¼Œç›´åˆ°æ‰§è¡Œå®Œé‡Šæ”¾åŽè¿›ç¨‹2æ‰å¼€å§‹æ‰§è¡Œã€‚]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>parallel</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[L2æ­£åˆ™åŒ–è§£å†³è¿‡æ‹Ÿåˆé—®é¢˜]]></title>
    <url>%2F2018%2F02%2F28%2Fl2_regularization%2F</url>
    <content type="text"><![CDATA[è¿‡æ‹Ÿåˆ(overfit)æ˜¯æ·±åº¦å­¦ä¹ ä¹ƒè‡³æœºå™¨å­¦ä¹ è¿‡ç¨‹ä¸­çš„åˆä¸€å¤§é—®é¢˜ï¼Œé€šå¸¸çš„è§£å†³æ–¹æ³•ä¸ºL2æ­£åˆ™åŒ–ã€Dropoutæ­£åˆ™åŒ–ç­‰ç­‰ ä¸€ã€L2æ­£åˆ™åŒ–L2æ­£åˆ™åŒ–å°±æ˜¯åœ¨åŽŸæ¥çš„æŸå¤±å‡½æ•°ä¸Šï¼Œå†åŠ ä¸Šä¸€é¡¹å‚æ•°çš„äºŒèŒƒå¼ ç¬¬äºŒé¡¹åˆç§°ä½œå¼—ç½—è´å°¼ä¹Œæ–¯èŒƒæ•°ï¼ˆFrobenius normï¼‰çš„å¹³æ–¹ å°†æ–°çš„æŸå¤±å‡½æ•°å¯¹å‚æ•°æ±‚æ¢¯åº¦å¾— ä½¿ç”¨æ¢¯åº¦ä¸‹é™æ›´æ–°å‚æ•° å…¶ä¸­Î±ã€Î»æ˜¯ä¸¤ä¸ªè¶…å‚æ•°ï¼ŒÎ±æ˜¯å­¦ä¹ çŽ‡ï¼Œè€ŒÎ»è´Ÿè´£è°ƒèŠ‚L2æ­£åˆ™åŒ–è¿‡ç¨‹ Î»=0æ—¶ï¼Œè¡¨ç¤ºä¸ä½¿ç”¨æ­£åˆ™åŒ– Î»è¶Šå¤§ï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­åˆ™ä¼šåŽ‹åˆ¶å‚æ•°çš„å˜å¤§ï¼Œä½¿å‚æ•°å°½é‡å˜å° äºŒã€L2æ­£åˆ™åŒ–ä¸ºä»€ä¹ˆæœ‰æ•ˆé€šä¿—çš„è§£é‡Šï¼Œäº§ç”Ÿè¿‡æ‹Ÿåˆé—®é¢˜çš„æ ¹æœ¬åŽŸå› æ˜¯æ¨¡åž‹è¯•å›¾è®°ä½çš„å‚æ•°å¤ªå¤šï¼Œå¯¼è‡´å…¶ä¸¾ä¸€åä¸‰çš„èƒ½åŠ›å‡å¼±ï¼Œè€Œé€šè¿‡L2æ­£åˆ™åŒ–ï¼Œå¯¼è‡´å¾ˆå¤šçš„å‚æ•°ä¼šå˜å¾—å¾ˆå°ï¼Œå¯¹æ¨¡åž‹çš„å½±å“åŠ›é™ä½Žï¼Œç›¸å½“äºŽé™ä½Žäº†æ¨¡åž‹çš„å¤æ‚ç¨‹åº¦ï¼Œæé«˜äº†æ³›åŒ–èƒ½åŠ›ã€‚ è¿˜æœ‰ä¸€ç§æ¯”è¾ƒé€šä¿—çš„è§£é‡Šï¼Œæ¥è‡ªAndrew Ng æˆ‘ä»¬çš„æ‰€å¸¸ç”¨çš„æ¿€æ´»å‡½æ•°sigmoidã€tanhæ˜¯é•¿è¿™æ ·çš„ å¦‚æžœæŽ§åˆ¶å‚æ•°è¾ƒå°ï¼Œé‚£ä¹ˆä¸­é—´å±‚è¾“å‡ºçš„å‚æ•°ä¹Ÿä¼šå¾ˆå°ï¼Œå°±ä¼šé›†ä¸­åœ¨ä¸­é—´å¯¼æ•°ç›¸å¯¹äºŽç¨³å®šçš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯é™åˆ¶äº†åˆ†ç±»æ¨¡åž‹è¿‡åˆ†çš„æ‰­æ›²ã€‚]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Machine Learning</tag>
        <tag>Deep Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¿‡æ‹Ÿåˆä¸Žæ¬ æ‹Ÿåˆé—®é¢˜]]></title>
    <url>%2F2018%2F02%2F27%2Foverfit%2F</url>
    <content type="text"><![CDATA[è¿‡æ‹Ÿåˆ(overfit)æ˜¯æ·±åº¦å­¦ä¹ ä¹ƒè‡³æœºå™¨å­¦ä¹ è¿‡ç¨‹ä¸­çš„åˆä¸€å¤§é—®é¢˜ï¼Œé€šå¸¸çš„è§£å†³æ–¹æ³•ä¸ºL2æ­£åˆ™åŒ–ã€Dropoutæ­£åˆ™åŒ–ç­‰ç­‰ è¦è§£é‡Šè¿‡æ‹Ÿåˆï¼Œéœ€è¦å€Ÿç”¨ä¸€å¼ Andrew Ngçš„è¯¾ä»¶ï¼š ä¸‰é™„å›¾ä¸­çš„å·¦å›¾ï¼Œæ¨¡åž‹è¿‡äºŽç®€å•ï¼Œåå·®è¾ƒå¤§ï¼Œæ— æ³•å¾ˆå¥½çš„æ‹Ÿåˆéžçº¿æ€§çš„åˆ†ç±»é—®é¢˜ï¼Œå‡ºçŽ°æ¬ æ‹Ÿåˆ(underfit)é—®é¢˜ï¼Œä¸€èˆ¬éœ€è¦å¢žåŠ ç½‘ç»œå±‚æ•°ï¼Œå¢žåŠ éšè—å±‚ç¥žç»å…ƒä¸ªæ•°æ¥è§£å†³ã€‚è¿™ç§é—®é¢˜ä¸€èˆ¬è¡¨çŽ°ä¸ºè®­ç»ƒé›†ä¸ŽéªŒè¯é›†æŸå¤±å‡½æ•°å€¼éƒ½è¾ƒå¤§; å³å›¾ï¼Œè¿‡äºŽè´´åˆè®­ç»ƒé›†ï¼Œæ–¹å·®è¾ƒå¤§ï¼Œç§°ä½œè¿‡æ‹Ÿåˆ(overfit)é—®é¢˜ï¼Œè¿‡æ‹Ÿåˆé—®é¢˜ä¸€èˆ¬è¡¨çŽ°ä¸ºè®­ç»ƒé›†æŸå¤±å‡½æ•°å€¼è¾ƒå°ï¼Œä½†æ˜¯éªŒè¯é›†çš„æŸå¤±å‡½æ•°è¾ƒå¤§ã€‚å³è®­ç»ƒå‡ºçš„æ¨¡åž‹å¤ªè¿‡æ­»æ¿ï¼Œè€Œæ— æ³•è§£å†³è®­ç»ƒé›†ä»¥å¤–çš„æ•°æ®; ä¸­é—´è¡¨ç¤ºåˆšå¥½çš„æƒ…å†µï¼Œä¸€èˆ¬è®­ç»ƒé›†ä¸ŽéªŒè¯é›†æŸå¤±å‡½æ•°å€¼éƒ½è¾ƒå° è¦é€šä¿—ä¸”å½¢è±¡åœ°è§£é‡Šè¿‡æ‹ŸåˆçŽ°è±¡å°±æ˜¯â€”â€”ä¹¦å‘†å­ï¼Œå°†åšè¿‡çš„é¢˜ç›®å…¨éƒ½èƒŒä¸‹ï¼Œä½†ç¼ºä¹ä¸¾ä¸€åä¸‰çš„èƒ½åŠ›ï¼Œç¢°åˆ°åšè¿‡çš„é¢˜ï¼Œé‚£ä¹ˆä»–å°±ä¼šåšï¼Œä½†æ˜¯æ”¹ä¸ªé—®æ³•å°±å‚»äº†ã€‚ æœ‰ä¸ªæ›´åŠ æœ‰æ„æ€çš„è¯´æ³•å°±æ˜¯â€”â€”è€ƒé©¾ç…§ï¼Œé©¾è€ƒæ—¶æ•™ç»ƒä¸€èˆ¬ä¼šè®©ä½ çœ‹å‡†è®¸å¤šçš„è®°å·ï¼Œç„¶åŽæœºæ¢°åœ°æ‰“æ–¹å‘ç›˜ï¼Œç„¶è€Œè¿™æ ·å³ä½¿æ‹¿åˆ°çš„é©¾ç…§ï¼Œä¹Ÿæ— æ³•ç«‹å³ä¸Šè·¯ã€‚]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Machine Learning</tag>
        <tag>Deep Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Requestså’ŒBeautifulSoupç¼–å†™ç®€å•çš„ç½‘ç»œçˆ¬è™«]]></title>
    <url>%2F2018%2F02%2F26%2Fbeautifulsoup%2F</url>
    <content type="text"><![CDATA[å‰æ®µæ—¶é—´ä¸€ä¸ªä»»åŠ¡éœ€è¦èŽ·å¾—æ—¥æœ¬æ‰€æœ‰ä¸»è¦åŸŽå¸‚çš„ç»çº¬åº¦åæ ‡ï¼Œæ‰‹å¤´æ²¡æœ‰çŽ°æˆçš„æ•°æ®ï¼Œåªèƒ½å†™ä¸€ä¸ªç®€å•çš„çˆ¬è™«æ¥çˆ¬å–æŸæ—…æ¸¸å…¬å¸çš„é¡µé¢æ¥èŽ·å¾—æˆ‘è¦çš„ç»çº¬åº¦æ•°æ®ã€‚ã€‚é‡‡ç”¨ä¸€ä¸ªæ–¹ä¾¿ç®€å•çš„çˆ¬è™«æ¡†æž¶Requestä¸ŽBeautifulSoupï¼Œç”±äºŽé¡¹ç›®æ—¶é—´å¾ˆèµ¶ï¼Œåªæ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„è„šæœ¬ï¼Œå¹¶ä¸è€ƒè™‘åŠ¨æ€é¡µé¢ï¼Œä¹Ÿæ²¡æœ‰ä¸Žæ•°æ®åº“è¿›è¡Œäº¤äº’ï¼Œè¿™éƒ¨åˆ†çš„ç¬”è®°ä»¥åŽå†è¡¥ï¼Œæˆ‘ä¼šå°±ç€è¿™æ¬¡çš„ä»£ç ç®€å•ä»‹ç»å®ƒä»¬çš„ä½¿ç”¨æ–¹æ³• ä¸€ã€Requestsä¸ŽBeautifulSoupç®€ä»‹ Requests Requests æ˜¯ä¸€ä¸ªä¸ºäººä»¬åˆ¶ä½œçš„ä¸€ä¸ªPythonåº“ï¼Œç”¨äºŽä¼˜é›…ä¸”ç®€å•çš„HTTP BeautifulSoup Beautiful Soupæä¾›ä¸€äº›ç®€å•çš„ã€pythonå¼çš„å‡½æ•°ç”¨æ¥å¤„ç†å¯¼èˆªã€æœç´¢ã€ä¿®æ”¹åˆ†æžæ ‘ç­‰åŠŸèƒ½ã€‚å®ƒæ˜¯ä¸€ä¸ªå·¥å…·ç®±ï¼Œé€šè¿‡è§£æžæ–‡æ¡£ä¸ºç”¨æˆ·æä¾›éœ€è¦æŠ“å–çš„æ•°æ®ï¼Œå› ä¸ºç®€å•ï¼Œæ‰€ä»¥ä¸éœ€è¦å¤šå°‘ä»£ç å°±å¯ä»¥å†™å‡ºä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ç¨‹åºã€‚ Beautiful Soupè‡ªåŠ¨å°†è¾“å…¥æ–‡æ¡£è½¬æ¢ä¸ºUnicodeç¼–ç ï¼Œè¾“å‡ºæ–‡æ¡£è½¬æ¢ä¸ºutf-8ç¼–ç ã€‚ä½ ä¸éœ€è¦è€ƒè™‘ç¼–ç æ–¹å¼ï¼Œé™¤éžæ–‡æ¡£æ²¡æœ‰æŒ‡å®šä¸€ä¸ªç¼–ç æ–¹å¼ï¼Œè¿™æ—¶ï¼ŒBeautiful Soupå°±ä¸èƒ½è‡ªåŠ¨è¯†åˆ«ç¼–ç æ–¹å¼äº†ã€‚ç„¶åŽï¼Œä½ ä»…ä»…éœ€è¦è¯´æ˜Žä¸€ä¸‹åŽŸå§‹ç¼–ç æ–¹å¼å°±å¯ä»¥äº†ã€‚ Beautiful Soupå·²æˆä¸ºå’Œlxmlã€html6libä¸€æ ·å‡ºè‰²çš„pythonè§£é‡Šå™¨ï¼Œä¸ºç”¨æˆ·çµæ´»åœ°æä¾›ä¸åŒçš„è§£æžç­–ç•¥æˆ–å¼ºåŠ²çš„é€Ÿåº¦ã€‚ Requests ä¸Ž BeautifulSoupä¸€ä¸ªè´Ÿè´£è¯·æ±‚é¡µé¢ï¼ŒèŽ·å¾—é¡µé¢ï¼Œä¸€ä¸ªè´Ÿè´£è§£æžé¡µé¢å†…å®¹ï¼Œå–å‡ºéœ€è¦çš„æ•°æ® å®˜æ–¹æ–‡æ¡£ Requestså®˜æ–¹æ–‡æ¡£ BeautifulSoupå®˜æ–¹æ–‡æ¡£ äºŒã€å®‰è£…Requestä¸ŽBeautifulå¦‚æžœå·²ç»å®‰è£…pipï¼Œé‚£ä¹ˆå®‰è£…å°±å¾ˆç®€å• 12$ pip insatall requests$ pip install BeautifulSoup4 ä¸‰ã€ä»£ç è§£æžå®Œæ•´çš„ä»£ç åœ¨è¿™é‡Œ é¦–å…ˆéœ€è¦æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„ç½‘é¡µå¹¶åˆ†æžå®ƒçš„ç½‘é¡µç»“æž„ï¼Œæˆ‘æ‰¾åˆ°çš„ä¸€ä¸ªç½‘ç«™ç»“æž„æ˜¯è¿™æ ·çš„ï¼š æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œå¯ä»¥å‘çŽ°ç½‘é¡µçš„åˆ†é¡µçš„é“¾æŽ¥æ˜¯ä»Žindex~index44 æ‰€ä»¥å¯ä»¥å…ˆå°†è¦çˆ¬å–çš„ç½‘é¡µä»¥æ¨¡ç‰ˆçš„å½¢å¼è£…å…¥ 1234567891011#æŠ“å–çš„ç½‘é¡µåœ°å€æ¨¡ç‰ˆï¼Œæ‰€æœ‰åˆ†é¡µçš„ç›®å½•listURL = 'http://www.cnair.com/city/Japan/index&#123;&#125;.htm'lists = [listURL.format('')]# lists = []for i in range(1, 45): lists.append(listURL.format(str(i)))#æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºŽappendæŠ“åˆ°çš„ä¿¡æ¯f = open("gpsmap.json", "a")# print(lists)#å­˜å‚¨çˆ¬å–çš„æ•°æ®dic = &#123;&#125; å¯¹äºŽæ¯ä¸€é¡µä¸­çš„æ‰€æœ‰åŸŽå¸‚çš„ç”µå­åœ°å›¾ï¼Œæˆ‘ä»¬é€šè¿‡å¼€å‘è€…å·¥å…·å¯ä»¥å‘çŽ°å®ƒçš„ç»“æž„æ˜¯è¿™æ ·çš„ï¼š æ‰€ä»¥è¯·æ±‚ç›¸åº”çš„é¡µé¢åŽï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°å­˜ç€ç›¸åº”å­é¡µé¢é“¾æŽ¥æ ‡ç­¾ï¼Œå‘çŽ°ä»–ä»¬ä½äºŽclass=â€˜mainListTitleâ€™çš„&lt;span&gt;æ ‡ç­¾ä¸‹çš„&lt;a&gt;æ ‡ç­¾ä¸‹ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨BeautifulSoupè¿›è¡Œæå– 12345678for item in lists: #ä½¿ç”¨Requestsè¯·æ±‚é¡µé¢ res = requests.get(item) # print(res.text) #è§£æžhtmlæ–‡æœ¬ soup = BeautifulSoup(res.text, 'html.parser') #é€‰å–å‡ºé¡µé¢ä¸­mainNewsTitleç±»ä¸‹çš„&lt;a&gt;æ ‡ç­¾ urls = soup.select('.mainNewsTitle a') è®¿é—®ç›¸åº”çš„å­é¡µé¢ï¼Œè§‚å¯Ÿé¡µé¢çš„ç»“æž„ å‘çŽ°åœ°åã€ç»çº¬åº¦ç­‰ä¿¡æ¯è¢«æ”¾åœ¨äº†åŒä¸€ä¸ªclass=â€™NewsContentâ€™çš„&lt;div&gt;æ ‡ç­¾ä¸‹ï¼Œåœ¨åŒä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä»Žä¸­æå–å‡ºå­—ç¬¦ä¸²ï¼Œå¹¶ä»¥&lt;br&gt;ä½œä¸ºåˆ†éš”ç¬¦ï¼Œæå–å‡ºä»–ä»¬ã€‚ 123456789101112131415for u in urls: # print(u['href']) #å–å‡ºæ¯ä¸ª&lt;a&gt;æ ‡ç­¾ä¸‹çš„hrefå±žæ€§å¹¶è¯·æ±‚è¯¥é¡µé¢ tmpres = requests.get(u['href']) #è§£æžéœ€è¦ä½¿ç”¨utf8ç¼–ç  tmpres.encoding = 'utf_8' tmpsoup = BeautifulSoup(tmpres.text, 'html.parser') text = tmpsoup.select('.NewsContent') textarr = str(text[0]).split('&lt;br/&gt;') #å–å‡ºåŸŽå¸‚åç§° name = textarr[1].split(' : ')[1] #å–å‡ºç»åº¦ lng = textarr[6].split(' : ')[1] #å–å‡ºçº¬åº¦ lat = textarr[5].split(' : ')[1] å•ä½è½¬æ¢å¹¶ä¿å­˜åˆ°pythonçš„å­—å…¸ä¸­ï¼Œå¹¶æœ€åŽä¿å­˜åˆ°jsonæ–‡ä»¶ä¸­ã€‚è¿™é‡Œæœ‰ä¸ªå°trickï¼Œçˆ¬å–æ¯ä¸ªå­é¡µé¢åŽï¼Œå¯ä»¥è®©ç¨‹åºä¼‘çœ 1ç§’ï¼Œçˆ¬å–ä¸€ä¸ªå¤§é¡µé¢åŽï¼Œå¯ä»¥åœæ­¢10ç§’ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯é˜²æ­¢è¿‡äºŽé¢‘ç¹çš„è®¿é—®ï¼Œå¯¼è‡´æœåŠ¡å™¨çš„æ‹’ç»è®¿é—®ã€‚ 123456789101112131415 #å­˜ä¸‹åˆšåˆšæŠ“å–çš„ä¿¡æ¯ tmpdic = &#123;&#125; tmpdic['lng'] = lng tmpdic['lat'] = lat dic[name] = tmpdic print('&#123;&#125; &#123;&#125; &#123;&#125;'.format(name, lng, lat), file=f) print('&#123;&#125; : &#123;&#125;: &#123;&#125;: &#123;&#125;'.format(item, name, lng, lat)) #åœé¡¿1ç§’ time.sleep(1) time.sleep(10)#å­˜å‚¨æŠ“å–çš„ç»“æž„åŒ–ä¿¡æ¯jsonStr = json.dumps(dic)f = open("gpsmap.json", "w")print(jsonStr, file=f)f.close()]]></content>
      <categories>
        <category>ç½‘ç»œçˆ¬è™«</category>
      </categories>
      <tags>
        <tag>çŽ¯å¢ƒæ­å»º</tag>
        <tag>BeautifulSoup</tag>
        <tag>ç½‘ç»œçˆ¬è™«</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LSTM(Long Short Term Memory)ä¸ŽGRU(Gated Recurrent Unit)]]></title>
    <url>%2F2018%2F02%2F23%2FLSTM%2F</url>
    <content type="text"><![CDATA[å¾ªçŽ¯ç¥žç»ç½‘ç»œ(RNN)æ˜¯æ·±åº¦ç¥žç»ç½‘ç»œæœ€é‡è¦çš„çš„å½¢å¼ä¹‹ä¸€ï¼Œå…¶è¢«å¹¿æ³›è¿ç”¨äºŽæ—¶åºå½¢æ•°æ®çš„å¤„ç†ä¸Šã€ä¾‹å¦‚æ–‡å­—ã€éŸ³é¢‘ã€è§†é¢‘ç­‰ç­‰ï¼›è€ŒRNNåœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­åŒæ ·ä¹Ÿä¼šå‘ç”Ÿæ¢¯åº¦ä¸ç¨³å®šçš„æƒ…å†µï¼ŒåŒæ—¶è¿˜é¢ä¸´ç€æ–°çš„æ•°æ®ä¸æ–­åŠ å…¥å¾ªçŽ¯è€Œæ—§çš„æ•°æ®ä¸æ–­è¢«å†²æ·¡çš„æƒ…å†µï¼Œå¯¼è‡´ä¸€ä¸ªå¥å­ä¸­å¼€å§‹çš„éƒ¨åˆ†åœ¨æœ€ç»ˆç»“æžœçš„å½±å“ç¨‹åº¦ä¸­è¾ƒä½Žï¼ŒäºŽæ˜¯LSTMæ¨¡åž‹å°±è¯žç”Ÿå¹¶ç”¨äºŽæ”¹å–„è¿™ç§æƒ…å†µ ä¸€ã€å¾ªçŽ¯ç¥žç»ç½‘ç»œ(Recurrent Neural Networks)äººåœ¨é˜…è¯»æ–‡ç« ã€è§‚çœ‹è§†é¢‘æ—¶ï¼Œç†è§£å½“å‰çœ‹åˆ°çš„ä¸œè¥¿ï¼Œä¸ä¼šä»…ä»…ä¾é å½“å‰çš„å†…å®¹å°±ä½œå‡ºç†è§£ï¼Œè¿˜è¦å¯¹ä¸Šæ–‡è¿›è¡Œç»¼åˆç†è§£ï¼Œæ¯”å¦‚ç¿»è¯‘The NBA player Kevin Loveï¼Œå½“ç¿»è¯‘Loveæ—¶ï¼Œåº”å½“ç¿»è¯‘ä¸ºä¹ç¦è€Œä¸æ˜¯å–œæ¬¢ï¼Œè¿™æ˜¯å› ä¸ºå‰é¢æåˆ°äº†NBAã€playerè¿™äº›è¯ã€‚æ‰€ä»¥å½“ä½¿ç”¨æ·±åº¦ç¥žç»ç½‘ç»œè¿›è¡Œç¿»è¯‘çš„æ—¶å€™å°±éœ€è¦ç½‘ç»œæ‹¥æœ‰å¯¹å‰æ–‡çš„è®°å¿†ï¼Œè¿™å°±æ˜¯RNNå‡ºçŽ°çš„åŽŸå› ï¼› è¿™æ˜¯RNNçš„ç»“æž„ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°RNNæ˜¯åŒä¸€ä¸ªå•å…ƒçš„é‡å¤å¾ªçŽ¯å‡ºçŽ°ï¼Œæ¯ä¸€æ¬¡å•å…ƒè®¡ç®—åŽéƒ½ä¼šäº§ç”Ÿä¸€ä¸ªè®°å¿†ï¼Œä¼ å…¥ä¸‹ä¸€ä¸ªå•å…ƒçš„è®¡ç®—ï¼Œæ¯ä¸€ä¸ªå•å…ƒéƒ½ä¼šæŽ¥æ”¶å½“å‰çš„è¾“å…¥ï¼Œå¹¶ä¸”è€ƒè™‘å‰é¢çš„è®°å¿†ï¼Œä½œå‡ºå½“å‰çš„è¾“å‡ºï¼› äºŒã€é•¿çŸ­æ—¶è®°å¿†LSTMå‰é¢è¯´åˆ°äº†æ™®é€šçš„RNNå•å…ƒä¼šæœ‰Long-Term Dependenciesçš„é—®é¢˜ï¼Œå°±æ˜¯æ¯éƒ¨æ‰€äº§ç”Ÿçš„è®°å¿†ï¼Œå¯èƒ½åªä¼šå¯¹è¾ƒè¿‘çš„å‡ ä¸ªè¾“å‡ºäº§ç”Ÿå½±å“ï¼Œè€Œéšç€ç½‘ç»œåŠ æ·±ï¼Œè®°å¿†å°†ä¼šæ¶ˆé€€ï¼Œä¾‹å¦‚ç¿»è¯‘â€œThe NBA â€¦(æ­¤å¤„çœç•¥10000å­—)â€¦Kevin Loveâ€æ—¶ï¼Œå¦‚æžœç”¨æ™®é€šçš„çš„RNNï¼Œé‚£ä¹ˆKevin Loveä¾ç„¶æœ‰å¯èƒ½ä¼šè¢«ç¿»è¯‘ä¸ºå‡¯æ–‡å–œæ¬¢ï¼Œå°±å¦‚ä¸‹å›¾ï¼š è¿™æ—¶å€™å°±è¦è¯·å‡ºæˆ‘ä»¬ä»Šå¤©çš„ä¸»è§’LSTMäº†ï¼Œä¼ ç»Ÿçš„RNNä¹‹æ‰€ä»¥ä¸èƒ½å¤Ÿæ‹¥æœ‰å¾ˆå¥½çš„é•¿æ—¶è®°å¿†æ˜¯å› ä¸ºæ¯ä¸ªå•å…ƒéƒ½æ˜¯ç»è¿‡ç®€å•çš„çº¿æ€§å˜æ¢åŠ ä¸Štanhæ¿€æ´»å‡½æ•°ï¼Œå¦‚ä¸‹å›¾ï¼š è€ŒLSTMåˆ™è¦å¤æ‚å¾ˆå¤šï¼š LSTMçš„è®°å¿†å¹²æµå°±æ˜¯Ctï¼Œä¸Šä¸€ä¸ªå•å…ƒçš„è¾“å…¥ä½œç”¨äºŽå®ƒï¼Œå¹¶ä¸”ä¸Žå®ƒä¸€èµ·å½¢æˆè¿™ä¸ªå•å…ƒçš„è¾“å‡ºï¼š LSTMåˆ™åŒ…å«äº†ä¸€ä¸ªå«é—å¿˜é—¨çš„å•å…ƒï¼Œç”¨æ¥åˆ¤æ–­ä¸Šä¸€å•å…ƒä¼ è¿‡æ¥çš„è®°å¿†ä¸­å“ªäº›æ˜¯å¯ä»¥å¿˜è®°çš„ï¼Œè€Œå“ªäº›æ¯”è¾ƒé‡è¦ï¼Œéœ€è¦è®°ä¸‹ å¯¹æœ¬å•å…ƒçš„è¾“å…¥ä¿¡æ¯è¿›è¡Œæå– è°ƒæ•´å½“å‰çš„è®°å¿† å®Œæˆæœ¬å•å…ƒçš„è¾“å‡º ä¸‰ã€LSTMå˜ä½“â€”â€”GRULSTMè¿˜æ‹¥æœ‰è®¸å¤šçš„å˜ä½“ï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„å°±æ˜¯GRUï¼Œå®ƒæ˜¯LSTMçš„ä¸€ç§ç®€åŒ–ï¼Œå°†Cä¸ŽhåˆäºŒä¸ºä¸€ï¼Œæ‹¥æœ‰æ›´å¥½çš„æ•ˆçŽ‡ï¼Œåœ¨æŸäº›ä»»åŠ¡ä¸Šä¹Ÿæœ‰æ›´å¥½çš„æ•ˆæžœ å››ã€å‚è€ƒUnderstanding LSTM Networks]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Machine Learning</tag>
        <tag>RNN</tag>
        <tag>Deep Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Xavieræ–¹æ³•ç”¨äºŽç¥žç»ç½‘ç»œå‚æ•°åˆå§‹åŒ–]]></title>
    <url>%2F2018%2F02%2F22%2FXavier%2F</url>
    <content type="text"><![CDATA[ä¹‹å‰æˆ‘ä»¬å­¦ä¹ äº†ä½¿ç”¨RBMå¯¹æ·±åº¦ç½®ä¿¡ç½‘ç»œè¿›è¡Œé€å±‚è®­ç»ƒåˆå§‹åŒ–ï¼Œæˆ–ç”¨ç±»ä¼¼çš„æ–¹æ³•å¯¹å¤šå±‚æ·±åº¦ç¥žç»ç½‘ç»œè¿›è¡Œé¢„è®­ç»ƒ(pretraining)ï¼Œä»¥æ±‚æœ€ç»ˆæ”¶æ•›çš„ç»“æžœæŽ¥è¿‘æœ€ä¼˜ä¸”åŠ å¿«æ”¶æ•›é€Ÿåº¦ï¼ŒåŒæ—¶è¿˜èƒ½é¿å…æ¢¯åº¦æ¶ˆå¤±(gradient vanishing)å’Œæ¢¯åº¦çˆ†ç‚¸(gradient explosion)çš„é—®é¢˜ã€‚ä»Šå¤©ä»‹ç»ä¸€ä¸ªæ›´åŠ æ–¹ä¾¿å¿«é€Ÿçš„åˆå§‹åŒ–æ–¹æ³•ï¼Œæ¥è¿‘ä¼¼è¾¾åˆ°ç›¸åŒçš„ç›®çš„ã€‚ ä¸€ã€æ¢¯åº¦æ¶ˆå¤±ä¸Žæ¢¯åº¦çˆ†ç‚¸è¿™æ˜¯ä¸€ä¸ªæ·±åº¦å­¦ä¹ é¢†åŸŸé‡åˆ°çš„è€é—®é¢˜äº†ï¼Œå³ä½¿æ˜¯çŽ°åœ¨ï¼Œä»»ä½•ä¸€ä¸ªæ–°æå‡ºçš„æ¨¡åž‹ï¼Œæ— è®ºæ˜¯MLPã€CNNã€è¿˜æ˜¯RNNï¼Œéšç€æ·±åº¦çš„åŠ æ·±ï¼Œè¿™ä¸¤ä¸ªé—®é¢˜å˜å¾—å°¤ä¸ºä¸¥é‡ã€‚ æ¢¯åº¦æ¶ˆå¤±æ˜¯æŒ‡åœ¨æ·±åº¦å­¦ä¹ è®­ç»ƒçš„è¿‡ç¨‹ä¸­ï¼Œæ¢¯åº¦éšç€é“¾å¼æ±‚å¯¼é€å±‚ä¼ é€’é€å±‚å‡å°ï¼Œæœ€åŽè¶‹è¿‘äºŽ0ï¼Œå¯¼è‡´å¯¹æŸäº›å±‚çš„è®­ç»ƒå¤±æ•ˆï¼› æ¢¯åº¦çˆ†ç‚¸ä¸Žæ¢¯åº¦æ¶ˆå¤±ç›¸åï¼Œæ¢¯åº¦éšç€é“¾å¼æ±‚å¯¼é€å±‚ä¼ é€’é€å±‚å¢žå¤§ï¼Œæœ€åŽè¶‹äºŽæ— ç©·ï¼Œå¯¼è‡´æŸäº›å±‚æ— æ³•æ”¶æ•›ï¼› å‡ºçŽ°æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸çš„é—®é¢˜ä¸»è¦æ˜¯å› ä¸ºå‚æ•°åˆå§‹åŒ–ä¸å½“ä»¥åŠæ¿€æ´»å‡½æ•°é€‰æ‹©ä¸å½“é€ æˆçš„ï¼Œè¿™åœ¨ä¹‹åŽæˆ‘ä¼šåšç›¸åº”çš„ç¬”è®°æ¥è®¨è®ºbatch normalizationä¸Žæ¿€æ´»å‡½æ•° äºŒã€Xavieræ–¹æ³•æŽ¥ä¸‹æ¥çš„æŽ¨å¯¼åŸºäºŽå‡è®¾: æ¿€æ´»å‡½æ•°åœ¨0å‘¨å›´çš„å¯¼æ•°æŽ¥è¿‘1(æ¯”å¦‚tanh); åç½®é¡¹båˆå§‹åŒ–ä¸º0ï¼ŒæœŸæœ›ä¸º0 å‚æ•°åˆå§‹åŒ–æœŸæœ›å‡ä¸º0 æ˜¾ç„¶ï¼Œåœ¨åˆå§‹åŒ–å‚æ•°çš„æ—¶å€™ä¸èƒ½å…¨éƒ¨åˆå§‹åŒ–ä¸º0ï¼Œè¿™æ ·æ— è®ºæ˜¯ä»€ä¹ˆè¾“å…¥ï¼Œè¾“å‡ºéƒ½æ˜¯0ï¼Œæ— æ³•è®­ç»ƒï¼Œä½†ä¹Ÿä¸èƒ½éšæ„åŽ»åˆå§‹å€¼ï¼Œå¦åˆ™å°±ä¼šé€ æˆæ¢¯åº¦ä¸ç¨³å®šçš„é—®é¢˜ã€‚é‚£ä¹ˆä»€ä¹ˆæ ·çš„åˆå§‹å€¼æ‰æ˜¯åˆé€‚çš„å‘¢ï¼Ÿ ç­”æ¡ˆå°±æ˜¯ä½¿æ¯å±‚çš„åˆ†å¸ƒéƒ½å°½é‡ç›¸ç­‰ï¼ŒRBMå°±æ˜¯ä¸ºäº†è¿™ä¸ªç›®çš„è€Œè®­ç»ƒçš„ï¼Œä½†æ˜¯Xavieråšäº†è¿›ä¸€æ­¥çš„ç®€åŒ–ï¼šä¿ç•™å‡å€¼(å¯ä»¥åœ¨ä¸‹ä¸€å±‚å¼€å§‹çš„æ—¶å€™å†åšè°ƒæ•´)ä¸Žæ–¹å·® å¯¹äºŽæ¯ä¸€ä¸ªè¾“å‡ºçš„ç¥žç»å…ƒ éƒ½è¦ä½¿ åˆ æ ¹æ®å‡è®¾E(w)ä¸ŽE(x)å‡ç­‰0ä¸”æ‰€æœ‰wä¸ŽxåŒåˆ†å¸ƒï¼Œåˆ™ï¼š è¦æ»¡è¶³æ‰€ä»¥: å…¶ä¸­ninä¸Žnoutåˆ†åˆ«æ˜¯è¾“å…¥å±‚ä¸Žè¾“å‡ºå±‚çš„ç¥žç»å…ƒä¸ªæ•° å¦‚æžœWæœä»Žæ­£æ€åˆ†å¸ƒï¼Œé‚£ä¹ˆè¿™å°±æ˜¯æ‰€éœ€è¦çš„å‚æ•°ï¼Œä½†å¦‚æžœå‡è®¾Wæœä»Žå‡åŒ€åˆ†å¸ƒï¼Œé‚£ä¹ˆ ä½†æ˜¯ä¹‹å‰æœ‰å‡è®¾æ¿€æ´»å‡½æ•°åœ¨0å‘¨å›´çš„å¯¼æ•°æŽ¥è¿‘1ï¼Œæ‰€ä»¥å¿½ç•¥äº†æ¿€æ´»å‡½æ•°çš„ä½œç”¨ï¼Œä¸åŒæ¿€æ´»å‡½æ•°åœ¨0å‘¨å›´çš„å¯¼æ•°ä¸åŒï¼Œéœ€è¦ç»™æ–¹å·®ä¹˜ä¸Šå¯¼æ•°çš„å€’æ•° Activation Function Uniform Distribution sigmoid tanh ReLU ä¸‰ã€ä»£ç å®žçŽ°tensorflowçš„å®žçŽ° 1234def xavier_init(fan_in, fan_out, constant = 1): low = -constant * np.sqrt(6.0 / (fan_in + fan_out)) high = constant * np.sqrt(6.0 / (fan_in + fan_out)) return tf.random_uniform((fan_in, fan_out), minval=low, maxval=high, dtype=tf.float32) å®Œæ•´ä»£ç é‡Œå®žçŽ°äº†ä¸€ä¸ªä½¿ç”¨Xavieræ–¹æ³•åˆå§‹åŒ–çš„å•å±‚è‡ªç¼–ç å™¨]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Machine Learning</tag>
        <tag>Deep Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å—é™åˆ¶çŽ»å°”å…¹æ›¼æœº(RBM)çš„èƒ½é‡å‡½æ•°åŠå…¶æ¢¯åº¦æ±‚è§£]]></title>
    <url>%2F2018%2F02%2F21%2FRBM_energy%2F</url>
    <content type="text"><![CDATA[åœ¨å‰é¢çš„ä¸€ç¯‡æ–‡ç«  å—é™åˆ¶çŽ»å°”å…¹æ›¼æœº(Restricted Bolzmann Machine)ä»¥åŠè‡ªç¼–ç å™¨(Autoencoder)ä¸­æˆ‘ä»¬æåˆ°äº†RBMçš„èƒ½é‡å‡½æ•°è¿™ä¸€æ¦‚å¿µä»¥åŠå¯¹æ¯”æ•£åº¦(CD)çš„å¿«é€Ÿé‡‡æ ·çš„è®­ç»ƒæ–¹æ³•ï¼Œä½†æˆ‘ä¸€ç›´çº ç»“ä¸Žä¸ºä½•Hintonå¤§ç¥žèƒ½å¤Ÿä»Žèƒ½é‡å‡½æ•°å’ŒGibbs Samplingä¸­èŽ·å¾—CD-ké‡‡æ ·ç®—æ³•ï¼Œä¸¤ä¸ªå¼å­çœ‹ä¼¼æ²¡æœ‰å…³è”ã€‚äºŽæ˜¯æˆ‘èŠ±äº†å‡ å¤©çš„æ—¶é—´ï¼Œç»ˆäºŽå¯¹RBMè¿™ä¸ªç»“æž„æœ‰äº†æ›´æ·±ä¸€æ­¥çš„äº†è§£ã€‚ ä¸€ã€èƒ½é‡å‡½æ•°ä¸Žæ¦‚çŽ‡åˆ†å¸ƒä¹‹å‰è®²åˆ°å—é™åˆ¶çŽ»å°”å…¹æ›¼æœºæ—¶ï¼Œæˆ‘ä»¬æåˆ°ï¼ŒRBMæ˜¯ç”±ä¸€ä¸ªå¯è§å±‚(visible, v)ä¸Žéšè—å±‚(hiddenm, h)ç»„æˆï¼Œå¦‚ä¸‹å›¾ï¼ŒWåœ¨ç‰©ç†ä¸­è¡¨ç¤ºç³»ç»Ÿå†…éƒ¨èƒ½é‡è½¬æ¢ï¼Œæ¯”å¦‚åˆ†å­é—´ç¢°æ’žäº§ç”Ÿçš„èƒ½é‡ä¼ é€’ï¼ŒåŒæ—¶æœ‰a, bä¸¤ä¸ªåç½®é¡¹ï¼Œåœ¨ç‰©ç†ä¸­è¡¨ç¤ºå¤–æ¥å› ç´ çš„å½±å“ï¼Œä¸Žå¤–ç•Œçš„èƒ½é‡äº¤æ¢ï¼š èƒ½é‡å‡½æ•°çš„å®šä¹‰æ˜¯ï¼š ç”¨çŸ©é˜µæ¥è¡¨ç¤ºå°±æ˜¯ èƒ½é‡å‡½æ•°å…·ä½“çš„å«ä¹‰æ¶‰åŠç‰©ç†é¢†åŸŸï¼Œåœ¨æœ¬æ–‡ä¸ä¼šå…·ä½“ä»‹ç»ï¼Œå…·ä½“è¯·é˜…è¯»Ising Modelçš„ç›¸å…³æ–‡ç« ï¼Œæœ¬æ–‡å…·ä½“ä»‹ç»å¦‚ä½•ä»Žèƒ½é‡å‡½æ•°ä¸­æŽ¨å€’å‡ºGibbs Samplingå’ŒCD-k v, hè”åˆæ¦‚çŽ‡åˆ†å¸ƒæ˜¯ å…¶ä¸­Zæ˜¯æ‰€æœ‰[v, h]å¯¹å¯¹åº”çš„èƒ½é‡çš„æ€»å’Œï¼Œç§°ä¸ºå½’ä¸€åŒ–å› å­æˆ–é…åˆ†å‡½æ•°(Partition Function) vä¸Žhçš„è¾¹ç¼˜æ¦‚çŽ‡åˆ†å¸ƒå¦‚ä¸‹ æ¡ä»¶åˆ†å¸ƒ åŒç† ç”±äºŽRBMå±‚å†…æ— è¿žæŽ¥ï¼Œæ‰€ä»¥åŒä¸€å±‚å†…çš„å˜é‡è¿˜å…·æœ‰ç›¸äº’ç‹¬ç«‹æ€§ï¼Œå³ äºŒã€å¯¹æ•°ä¼¼ç„¶å‡½æ•°ä¸Šé¢å®šä¹‰äº†é‚£ä¹ˆå¤šï¼Œç„¶è€Œè¦å¼€å§‹æ­£å¼çš„æ¢¯åº¦ä¼˜åŒ–ï¼Œæˆ‘ä»¬è¿˜å·®ä¸€ä¸ªä¼˜åŒ–ç›®æ ‡ï¼ŒçŽ°åœ¨å°±è¦æ­£å¼åœ°å®šä¹‰æŸå¤±å‡½æ•°ï¼š ä¹‹å‰æ›¾ç»æåˆ°è¿‡ï¼Œå—é™åˆ¶çŽ»å°”å…¹æ›¼æœºçš„è®­ç»ƒç›®çš„æ˜¯è®©åŽŸå§‹æ•°æ®çš„åˆ†å¸ƒå¾—åˆ°æœ€å¤§çš„ä¿ç•™ï¼Œç”¨æœ€å¤§ä¼¼ç„¶ä¼°è®¡æ¥è¡¨ç¤ºå°±æ˜¯è®©P(v)æœ€å¤§ã€‚é‡‡ç”¨å¯¹æ•°ä¼¼ç„¶å‡½æ•°ï¼Œåˆ™å¼å­å¦‚ä¸‹ï¼š å¯¹å‚æ•°æ±‚æ¢¯åº¦ï¼š æ‰€ä»¥åªè¦èƒ½æ±‚å¾— å°±å¯ä»¥æ±‚å‡ºæœ€ç»ˆçš„æ¢¯åº¦,RBMæ¯å±‚æœ‰W, a, bä¸‰ä¸ªä¸åŒçš„å‚æ•°ï¼Œåˆ™éœ€è¦åˆ†åˆ«å¯¹ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ±‚å¯¼ï¼š W bä¸ŽWçš„æŽ¨å¯¼è¿‡ç¨‹ç±»ä¼¼ï¼Œç»“æžœä¸ºï¼š açš„æŽ¨å¯¼æ›´åŠ çš„ç®€å• æŠŠä¸Šé¢ä¸‰ä¸ªå¼å­å¸¦å›žåˆ°æ¢¯åº¦çš„å…¬å¼ä¸­ï¼Œå°±å¯ä»¥å¾—åˆ° è¿™å°±æ˜¯Gibbsé‡‡æ ·å’ŒCD-ké‡‡æ ·çš„æ¥æºï¼Œåªæ˜¯é‡‡ç”¨äº†ä¸åŒçš„ä¼°è®¡æ–¹æ³•æ¥ç¡®å®šæ¦‚çŽ‡åˆ†å¸ƒã€‚]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Machine Learning</tag>
        <tag>Deep Learning</tag>
        <tag>RBM</tag>
        <tag>contrastive divergence</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å—é™åˆ¶çŽ»å°”å…¹æ›¼æœº(Restricted Bolzmann Machine)ä»¥åŠè‡ªç¼–ç å™¨(Autoencoder)]]></title>
    <url>%2F2018%2F02%2F15%2FRBM%2F</url>
    <content type="text"><![CDATA[å—é™åˆ¶çŽ»å°”å…¹æ›¼æœº(Restricted Bolzmann Machine, RBM)ä¸Žè‡ªç¼–ç å™¨(Autoencoder, AE)æ˜¯ç¥žç»ç½‘ç»œçš„ä¸¤ç§åŸºæœ¬ç»“æž„ï¼Œä¸¤ä¸ªç»“æž„éƒ½èƒ½èµ·åˆ°é™ç»´çš„ä½œç”¨ï¼Œéƒ½å¯ä»¥ç”¨æ¥å¯¹ç¥žç»ç½‘ç»œè¿›è¡Œé¢„è®­ç»ƒï¼ˆpre-trainingï¼‰ï¼Œè¿™ç§é¢„è®­ç»ƒéƒ½æ˜¯æ— ç›‘ç£çš„ã€‚ç”±äºŽRBMä¸ŽMLPåŠå…¶ç›¸ä¼¼ï¼Œä¸€ç›´ä»¥æ¥æˆ‘å°±å›°æƒ‘äºŽä»–ä»¬ä¸¤è€…ï¼Œç»ˆäºŽèŠ±äº†å‡ å¤©æ—¶é—´æ¥æžæ¸…æ¥šä»–ä»¬çš„åŒºåˆ«å’Œè®­ç»ƒæ–¹æ³•ï¼Œå‘çŽ°ä»–ä»¬ç”šè‡³ä¸æ˜¯å¹¶åˆ—çš„å…³ç³»ã€‚ã€‚ ä¸€ã€çŸ¥è¯†è„‰ç»œå—é™åˆ¶çŽ»å°”å…¹æ›¼æœº -&gt; æ·±åº¦ä¿¡å¿µç½‘ç»œ(Deep Blief Network, DBN) è‡ªç¼–ç å™¨ -&gt; å †å è‡ªç¼–ç å™¨(Stacked Autoencoderm, SAE) äºŒã€è‡ªç¼–ç å™¨è‡ªç¼–ç å™¨çš„è¾“å…¥ç»´åº¦ä¸Žè¾“å‡ºç»´åº¦ç›¸ç­‰ï¼Œè®­ç»ƒç›®çš„æ˜¯ä½¿æ•°æ®çš„ç‰¹å¾å¾—åˆ°æœ€å¤§çš„ä¿ç•™ï¼ŒåŽ»é™¤å†—ä½™ä¿¡æ¯ï¼Œä¸€ä¸ªå•å±‚çš„è‡ªç¼–ç å™¨ç»“æž„å¦‚ä¸‹å›¾ å½“ç„¶ä¸€ä¸ªè‡ªç¼–ç å™¨ä¹Ÿå¯ä»¥æœ‰å¾ˆå¤šå±‚ï¼š ç®€åŒ–æ¥çœ‹å°±æ˜¯è¾“å…¥å±‚-&gt;éšè—å±‚-&gt;è¾“å‡ºå±‚ï¼Œè‡ªç¼–ç å™¨çš„ç›®çš„å°±æ˜¯ä½¿é‡å»º(reconstruction)çš„è¾“å‡ºå±‚èƒ½å°½é‡è¿˜åŽŸè¾“å…¥å±‚ï¼ŒåŒæ—¶èŽ·å¾—ä¸­é—´éšè—å±‚(æœ€çª„çš„æ©™è‰²é‚£å±‚)æ—¢æ˜¯é™ç»´çš„ç»“æžœã€‚è‹¥è¾“å…¥å±‚åˆ°éšè—å±‚é—´çš„éƒ¨åˆ†ç§°ä¸ºç¼–ç å™¨(ç°è‰²)ï¼Œè®°å·ä¸ºf(x)ï¼Œéšè—å±‚åˆ°è¾“å‡ºå±‚ä¹‹é—´çš„éƒ¨åˆ†ç§°ä¸ºè§£ç å™¨(é»„è‰²)ï¼Œè®°å·ä¸ºg(x)ï¼Œé‚£ä¹ˆè‡ªç¼–ç å™¨çš„æ•°å­¦è®­ç»ƒç›®æ ‡å°±æ˜¯ ä¸‰ã€å—é™åˆ¶çŽ»å°”å…¹æ›¼æœºå—é™åˆ¶çŽ»å°”å…¹æ›¼æœºæ˜¯ä¸€ä¸ªåŒå±‚ç»“æž„ï¼Œå¯è§å±‚(visible)ä¸Žéšè—å±‚(hidden)ï¼Œå›¾ç»“æž„ä¸ºä¸€ä¸ªäºŒåˆ†å›¾ï¼Œå³å¯è§å±‚åªä¸Žéšè—å±‚ä¹‹é—´æœ‰è¿žæŽ¥ï¼Œä½†æ˜¯å±‚å†…æ˜¯æ— è¿žæŽ¥çš„ï¼Œå› æ­¤RBMçš„æ€§è´¨ï¼šå½“ç»™å®šå¯è§å±‚ç¥žç»å…ƒçš„çŠ¶æ€æ—¶ï¼Œå„éšè—å±‚ç¥žç»å…ƒçš„æ¿€æ´»æ¡ä»¶ç‹¬ç«‹ï¼›åä¹‹å½“ç»™å®šéšè—å±‚ç¥žç»å…ƒçš„çŠ¶æ€æ—¶ï¼Œå¯è§å±‚ç¥žç»å…ƒçš„æ¿€æ´»ä¹Ÿæ¡ä»¶ç‹¬ç«‹ã€‚åŸºæœ¬ç»“æž„å¦‚ä¸‹ å—é™åˆ¶çŽ»å°”å…¹æ›¼æœºçš„è®­ç»ƒç›®çš„æ˜¯ä¸ºäº†æœ€å¤§ç¨‹åº¦çš„ä¿ç•™æ¦‚çŽ‡åˆ†å¸ƒï¼Œå®šä¹‰äº†ä¸€ä¸ªèƒ½é‡å‡½æ•°çš„æ¦‚å¿µ ç”¨çŸ©é˜µæ¥è¡¨ç¤ºå°±æ˜¯ aä¸Žbåˆ†åˆ«æ˜¯å¯è§†å±‚ä¸Žéšè—å±‚çš„åç½®é¡¹(bias) v, hè”åˆæ¦‚çŽ‡åˆ†å¸ƒæ˜¯ å…¶ä¸­Zæ˜¯æ‰€æœ‰[v, h]å¯¹å¯¹åº”çš„èƒ½é‡çš„æ€»å’Œï¼Œvçš„è¾¹ç¼˜æ¦‚çŽ‡åˆ†å¸ƒå¦‚ä¸‹ï¼ŒhåŒç† ç”±äºŽå—é™çŽ»å°”å…¹æ›¼æœºç»“æž„ä¸Šçš„ç‰¹ç‚¹ï¼Œæ‰€ä»¥å„éšè—å±‚ä¹‹é—´çš„ç¥žç»å…ƒæ¡ä»¶æ¦‚çŽ‡ç‹¬ç«‹ï¼Œå³ å¯è§å±‚våŒç† èƒ½é‡å‡½æ•°çš„å…·ä½“æŽ¨å¯¼è¿‡ç¨‹å°†ä¼šåœ¨åŽé¢çš„æ–‡ç« ä¸­è¯¦ç»†è§£é‡Š å››ã€è®­ç»ƒæ–¹æ³•å°±åƒRBMæ˜¯ç”±ç‰©ç†æ¨¡åž‹è½¬åŒ–è¿‡æ¥ä¸€æ ·ï¼Œè®­ç»ƒæ–¹æ³•ä¸Žä¼ ç»Ÿçš„åå‘ä¼ æ’­(BP)ä¹Ÿä¸ä¸€æ · RBMæœ€æ—©çš„è®­ç»ƒæ–¹æ³•æœ‰Gibbs samplingï¼Œé€šè¿‡ä¸æ–­åœ°æ¥å›žé‡‡æ ·æ¥è®­ç»ƒï¼Œå¦‚ä¸‹å›¾ ç„¶è€Œè¿™æ ·çš„æ–¹æ³•å¤ªæ…¢ï¼Œæ‰€ä»¥Hintonå¤§ç¥žåˆæå‡ºäº†CD-k(contrastive divergence)ç®—æ³•ï¼Œå³åªéœ€è¦æ¥å›žé‡å¤kæ¬¡å°±å¯ä»¥ï¼Œä»¥CD-1ä¸ºä¾‹: å°±å¯ä»¥å®Œæˆä¸€æ¬¡è¿­ä»£ï¼Œè¿™å°±åƒæ˜¯ä¸¤ç§ä¸åŒæ¸©åº¦çš„æ¶²ä½“è¿›è¡Œæ··åˆï¼Œå¦‚æžœä¸¤è€…çš„æ¸©åº¦å·®è·è¾ƒå¤§ï¼Œåœ¨æ··åˆçš„è¿‡ç¨‹ä¸­å°±ä¼šäº§ç”Ÿè¾ƒå¤§çš„æ¢¯åº¦ï¼Œè€Œå—é™åˆ¶çŽ»å°”å…¹æ›¼æœºçš„è®­ç»ƒç›®æ ‡å°±æ˜¯ä½¿å¾—ä¸¤è¾¹çš„â€œæ¸©åº¦â€èƒ½å¤Ÿå°½é‡çš„ç›¸è¿‘ï¼Œè€Œåœ¨æ•°æ®ä¸­è¿™ä¸ªâ€œæ¸©åº¦â€çš„ä½“çŽ°å°±æ˜¯æ•°æ®åˆ†å¸ƒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨RBMè¿›è¡Œæ¨¡åž‹çš„åˆå§‹åŒ–è®­ç»ƒèƒ½å¤Ÿæœ€å¤§ç¨‹åº¦çš„ä¿ç•™æ•°æ®åˆ†å¸ƒï¼Œé˜²æ­¢æ¢¯åº¦çˆ†ç‚¸å’Œæ¢¯åº¦æ¶ˆå¤±é—®é¢˜çš„å‡ºçŽ°ã€‚ äº”ã€æ·±åº¦ä¿¡å¿µç½‘ç»œä¸Žé€å±‚è®­ç»ƒç”±å¤šå±‚å—é™åˆ¶çŽ»å°”å…¹æ›¼æœºå †å èµ·æ¥çš„ç½‘ç»œå«ä½œæ·±åº¦ä¿¡å¿µç½‘ç»œ(DBN)ã€‚æ·±åº¦ä¿¡å¿µç½‘ç»œåœ¨æœ€åŽä¸€å±‚æŽ¥å…¥ä¸€ä¸ªSoftmaxå±‚ç”¨ä½œåˆ†ç±»ï¼Œè®­ç»ƒçš„æ—¶å€™é‡‡å–é€å±‚è®­ç»ƒ+å¾®è°ƒçš„æ–¹å¼ é€å±‚è®­ç»ƒå°±æ˜¯ä»Žè¾“å…¥å±‚å¼€å§‹å°†ç½‘ç»œçš„ç›¸é‚»ä¸¤å±‚å½“ä½œä¸€ä¸ªå—é™åˆ¶çŽ»å°”å…¹æ›¼æœºè¿›è¡Œæ— ç›‘ç£è®­ç»ƒï¼Œè®­ç»ƒæ–¹æ³•è§ä¸Šä¸€èŠ‚ï¼Œè®­ç»ƒåŽå°†ä¸Šä¸€ä¸ªRBMçš„éšè—å±‚å½“ä½œä¸‹ä¸€ä¸ªRBMçš„å¯è§å±‚ç»§ç»­ é€å±‚æ— ç›‘ç£è®­ç»ƒå®Œæ¯•åŽï¼Œå°†è¿›è¡Œåå‘ä¼ æ’­è®­ç»ƒå¯¹æ¨¡åž‹è¿›è¡Œå¾®è°ƒï¼Œä»Žè¾“å…¥ç«¯è¾“å…¥æ•°æ®ï¼Œæœ€åŽä»Žè¾“å‡ºç«¯å¼€å§‹è¿›è¡Œåå‘ä¼ æ’­ è‡ªç¼–ç å™¨è™½ç„¶åªæ˜¯è¦ä¿è¯è¾“å‡ºç«¯ä¸Žè¾“å…¥ç«¯å°½é‡æŽ¥è¿‘ï¼Œä½†æ˜¯éšç€è‡ªç¼–ç å™¨å †å æ·±åº¦çš„åŠ æ·±ï¼Œå°±ä¼šå‡ºçŽ°ç±»ä¼¼æ¢¯åº¦å¼¥æ•£ä¸Žæ¢¯åº¦çˆ†ç‚¸ç­‰é—®é¢˜ï¼ŒHintonå¤§ç¥žåŒæ ·ä¹Ÿä½¿ç”¨äº†ç±»ä¼¼RBMçš„è®­ç»ƒæ–¹æ³•å¯¹æ·±åº¦è‡ªç¼–ç å™¨è¿›è¡Œé€å±‚è®­ç»ƒï¼Œä½¿æ¨¡åž‹çš„å¾—åˆ°äº†å¾ˆå¥½çš„åˆå§‹åŒ–ï¼ŒåŠ å¿«äº†æ¨¡åž‹çš„è§£çš„æœ€ä¼˜æ€§å’Œæ”¶æ•›é€Ÿåº¦ã€‚ å…­ã€å‚è€ƒ å—é™çŽ»å°”å…¹æ›¼æœºä¸Žæ·±åº¦ç½®ä¿¡ç½‘ç»œ Hinton G E. A practical guide to training restricted Boltzmann machines[M]//Neural networks: Tricks of the trade. Springer, Berlin, Heidelberg, 2012: 599-619. Bengio Y, Lamblin P, Popovici D, et al. Greedy layer-wise training of deep networks[C]//Advances in neural information processing systems. 2007: 153-160. Hinton G E, Osindero S, Teh Y W. A fast learning algorithm for deep belief nets[J]. Neural computation, 2006, 18(7): 1527-1554. Hinton G E, Salakhutdinov R R. Reducing the dimensionality of data with neural networks[J]. science, 2006, 313(5786): 504-507.]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Machine Learning</tag>
        <tag>Deep Learning</tag>
        <tag>RBM</tag>
        <tag>contrastive divergence</tag>
        <tag>Autoencoder</tag>
        <tag>DBN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Fcitxä¸‹å…¨è§’ä¸­æ‹¬å·æ— æ³•è¾“å…¥çš„é—®é¢˜]]></title>
    <url>%2F2018%2F02%2F15%2Ffcitx%2F</url>
    <content type="text"><![CDATA[æœ¬ç¯‡æ–‡ç« å°†ä¼šä»‹ç»å¦‚ä½•ä¿®å¤ubuntuä¸‹Fcitxè¾“å…¥æ³•æ— æ³•è¾“å…¥å…¨è§’ï¼ˆä¸­æ–‡ï¼‰ä¸­æ‹¬å·ã€ã€‘å¹¶ä½¿ç”¨[]æ¥åˆ‡æ¢å€™é€‰å­—çš„æ–¹æ³• æ“ä½œæ­¥èšï¼š æ‰“å¼€fcitxå­—ç¬¦æ˜ å°„æ–‡ä»¶ 1sudo gedit /usr/share/fcitx/data/punc.mb.zh_CN â€‹ ä¿®æ”¹ å°† 12[ Â·] ã€Œ ã€ ä¿®æ”¹ä¸º 12[ ã€] ã€‘ é‡å¯è¾“å…¥æ³•å®Œæˆä¿®æ”¹]]></content>
      <categories>
        <category>çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>çŽ¯å¢ƒæ­å»º</tag>
        <tag>Fcitx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨Ubuntuä¸‹å®‰è£…Nvidiaæœ€æ–°é©±åŠ¨]]></title>
    <url>%2F2018%2F02%2F09%2Fubuntu_nvidia%2F</url>
    <content type="text"><![CDATA[ä¼—æ‰€å‘¨çŸ¥Nvidiaå’ŒUbuntuå‘æ¥ä¸å¯¹ä»˜ï¼ŒNvidiaä¸ä¼šå°†è‡ªå·±çš„é©±åŠ¨å¼€æºï¼Œè€ŒUbuntuç¤¾åŒºå¼€å‘çš„nouveauå¼€æºé©±åŠ¨åˆæžå¤§çš„é™åˆ¶äº†Nvidiaæ˜¾å¡é©±åŠ¨åŽŸæœ‰çš„æ€§èƒ½ï¼Œç»™åŸºäºŽæ·±åº¦å­¦ä¹ çš„ç ”ç©¶é€ æˆäº†ä¸å°çš„éº»çƒ¦ã€‚è€Œæœ‰çš„æ—¶å€™ç”±äºŽWindowsçš„ç§ç§åŽŸå› ï¼Œæ·±åº¦å­¦ä¹ çš„å¼€å‘åˆä¸å¾—ä¸åœ¨Linuxä¸Šå®Œæˆã€‚è¿™ç¯‡ç¬”è®°å°†ä¼šè®°å½•ä¸€ç§å®‰è£…Nvidiaæœ€æ–°é©±åŠ¨çš„ç®€ä¾¿æ–¹æ³•(ä¸è¿‡å½“ç„¶ä¸æ˜¯ç›´æŽ¥ç”¨ç³»ç»Ÿç»™çš„é‚£ä¸ªé€‰é¡¹ç›´æŽ¥æ”¹)ï¼Œä½¿ç”¨å®˜æ–¹PPAæºæ¥å®‰è£…æœ€æ–°é©±åŠ¨ã€‚ ç¦ç”¨nouveaué©±åŠ¨ æ‰“å¼€é»‘åå•æ–‡ä»¶blacklist.confåŠ å…¥nouveaué©±åŠ¨ 1sudo gedit /etc/modprobe.d/blacklist.conf å¦‚æžœæœ‰æƒé™é—®é¢˜è¯·è‡ªè¡Œchmodè°ƒæ•´æƒé™ åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ  12345blacklist vga16fbblacklist nouveaublacklist rivafbblacklist rivatvblacklist nvidiafb â€‹ åˆ·æ–°å†…æ ¸ 1sudo update-initramfs -u â€‹ é‡å¯ç³»ç»ŸåŽæ£€æŸ¥æ˜¯å¦ç¦ç”¨æˆåŠŸ 1lsmod | grep nouveau â€‹ æ·»åŠ Nvidiaå®˜æ–¹PPA 12sudo add-apt-repository ppa:graphics-drivers/ppasudo apt update å¹¶æŸ¥çœ‹å¯ä»¥ä½¿ç”¨çš„é©±åŠ¨ç‰ˆæœ¬å·(åˆ°å®˜ç½‘ä¸ŠæŸ¥çœ‹ä¹Ÿå¯ä»¥) 1ubuntu-drivers devices â€‹ ctrl + alt + F1è¿›å…¥ttyå¹¶ç™»å½• å…³é—­å›¾å½¢ç•Œé¢ 1sudo service lightdm stop â€‹ aptå®‰è£…é©±åŠ¨å¹¶é‡å¯ 12sudo apt install nvidia-390sudo reboot 390æ˜¯åˆšæ‰æŸ¥çœ‹åˆ°çš„ç‰ˆæœ¬å·çš„ç¬¬ä¸€ä¸ªéƒ¨åˆ† â€‹ é‡å¯åŽæŸ¥çœ‹æ˜¾å¡æ˜¯å¦å®‰è£…æˆåŠŸ 12sudo nvidia-smisudo nvidia-settings æŒ‰ç…§ä¸Šé¢è¯´çš„æ–¹æ³•å®‰è£…å®Œæˆï¼Œæ‰“å¼€å…³äºŽè®¡ç®—æœºç•Œé¢ï¼Œåº”è¯¥å°±èƒ½çœ‹åˆ°ï¼Œæ˜¾å¡è¢«æ”¹å˜æˆäº†ä½ çš„Nvidiaæ˜¾å¡åž‹å·ã€‚ï¼ˆåŽŸå…ˆæ˜¯Intelæ˜¾å¡ï¼‰ æ³¨æ„å¦‚æžœæ˜¯åŒç³»ç»Ÿï¼Œéœ€è¦å…³é—­BIOSçš„å®‰å…¨å¯åŠ¨(Secure Boot) å®‰è£…åŽä½¿ç”¨Nvidiaé©±åŠ¨ä¸å‡ºæ„å¤–åº”è¯¥æ˜¾ç¤ºçš„æ—¶å€™ä¼šå‡ºçŽ°ç”»é¢æ’•è£‚ã€å¡é¡¿çš„æƒ…å†µã€‚è¿™æˆ‘æš‚æ—¶æ²¡æ‰¾åˆ°æ–¹æ³•è§£å†³ï¼Œåªèƒ½ä¸ä½¿ç”¨Nvidiaæ˜¾å¡çš„æ—¶å€™åˆ‡æ¢æˆIntelæ˜¾å¡ï¼Œè¿™æ ·è¿˜çœç”µ è¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯ç¼–è¯‘å®˜æ–¹çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¿™ç§æ–¹æ³•åº”è¯¥æ˜¯æœ€å¥½çš„ï¼Œä½†æ˜¯æ¯æ¬¡å‡çº§å†…æ ¸å°±è¦é‡æ–°ç¼–è¯‘ä¸€æ¬¡ï¼Œæœ¬ç€ä¸æŠ˜è…¾çš„åŽŸåˆ™ï¼Œè¿˜æ˜¯é€‰æ‹©äº†è¿™ç§æ–¹æ³• è‡ªå·±ç¼–è¯‘æºç çš„æ–¹æ³•ï¼Œåªéœ€è¦æŠŠç¬¬7æ­¥æ›¿æ¢æˆè¿è¡Œä»Žè‹±ä¼Ÿè¾¾å®˜ç½‘ä¸Šä¸‹è½½çš„å®‰è£…åŒ…ï¼Œç„¶åŽæ ¹æ®æç¤ºå®‰è£…å°±å¯ä»¥äº† â€‹]]></content>
      <categories>
        <category>çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
        <tag>Nvidia</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Importance Sampling (é‡è¦æ€§é‡‡æ ·)]]></title>
    <url>%2F2018%2F02%2F08%2Fimportance_sampling%2F</url>
    <content type="text"><![CDATA[é‡è¦æ€§é‡‡æ ·æ˜¯æˆ‘åœ¨å­¦ä¹ å¼ºåŒ–å­¦ä¹ çš„è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€ç§é‡‡æ ·æ–¹æ³•ï¼Œæ˜¯ä¸ºäº†åº”å¯¹å½“è¦è¿›è¡Œé‡‡æ ·çš„æ ·æœ¬åˆ†å¸ƒéš¾ä»¥èŽ·å¾—æ—¶çš„é—®é¢˜ã€‚é‡è¦æ€§é‡‡æ ·ä½¿ç”¨å¦ä¸€ä¸ªé‡‡æ ·æ¥ä»£æ›¿å½“å‰çš„é‡‡æ · ä»€ä¹ˆæ˜¯é‡‡æ ·çš„å¸¸è§é—®é¢˜ æŠ›ç¡¬å¸é—®é¢˜ï¼Œé€šè¿‡æ— é™å¤šæ¬¡çš„æŠ›ç¡¬å¸å®žéªŒæ¥ä¼°è®¡ç¡¬å¸æ­£é¢æœä¸Šçš„æ¦‚çŽ‡ é¢ç§¯é—®é¢˜ï¼Œé€šè¿‡å‘ç‰¹å®šåŒºåŸŸæ’’è±†å­ï¼Œé€šè¿‡è®¡ç®—è±†å­çš„æ•°é‡å’ŒåŒºåŸŸæ€»é¢ç§¯ï¼Œæ¥è®¡ç®—æŸä¸€ä¸ªå­åŒºåŸŸçš„é¢ç§¯ è’™ç‰¹å¡ç½—æ³•æ±‚ç§¯åˆ† é€šè¿‡åœ¨[a, b]åŒºé—´å†…æŒ‰å‡åŒ€åˆ†å¸ƒæ¥è¿›è¡Œé‡‡æ ·æ±‚å¾—f(x)åœ¨[a, b]åŒºé—´å†…çš„å¹³å‡å€¼ï¼Œç„¶åŽä¹˜ä¸Šb-aå¾—åˆ°ç§¯åˆ† è’™ç‰¹å¡æ´›æ³•æ±‚æœŸæœ›æœŸæœ›å°±ç›¸å½“äºŽåœ¨æ±‚ç§¯åˆ†çš„æ—¶å€™åŠ å…¥ä¸€ä¸ªé‡è¦æ€§çš„æ¦‚å¿µï¼Œå³å˜é‡æœä»Žä¸€ä¸ªæ¦‚çŽ‡åˆ†å¸ƒï¼Œåˆ™ä¸Šè¿°å…¬å¼å˜ä¸º æŒ‰ç…§p(x)çš„åˆ†å¸ƒæ¥äº§ç”Ÿéšæœºæ•°è¿›è¡Œé‡‡æ · è¿™æ—¶ï¼Œå¦‚æžœp(x)æœªçŸ¥ï¼Œé‚£å°±æ— æ³•é’ˆå¯¹p(x)è¿›è¡Œé‡‡æ ·æ¥ä¼°è®¡æœŸæœ›å€¼ï¼Œé‚£æ€Žä¹ˆåŠžå‘¢ï¼Ÿè¿™æ—¶å€™å°±è¦å€ŸåŠ©è¿™ç¯‡ç¬”è®°çš„ä¸»è§’â€”â€”é‡è¦æ€§é‡‡æ · é‡è¦æ€§é‡‡æ ·è¿™æ—¶å€™éœ€è¦å¼•å…¥ä¸€ä¸ªæ–°çš„å·²çŸ¥çš„åˆ†å¸ƒq(x)ç„¶åŽæŠŠåŽŸæ¥çš„å…¬å¼æ›´æ”¹ä¸º è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é’ˆå¯¹q(x)æ¥å¯¹p(x)/q(x)*f(x)æ¥è¿›è¡Œé‡‡æ ·äº† è¿™å°±æ˜¯é‡è¦æ€§é‡‡æ ·ã€‚]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Codeforce 920C Swap Adjacent Elements]]></title>
    <url>%2F2018%2F02%2F07%2Fcodeforce920C%2F</url>
    <content type="text"><![CDATA[You have an array a consisting of n integers. Each integer from 1 to n appears exactly once in this array. For some indices i (1 â‰¤ i â‰¤ n - 1) it is possible to swap i-th element with (i + 1)-th, for other indices it is not possible. You may perform any number of swapping operations any order. There is no limit on the number of times you swap i-th element with (i + 1)-th (if the position is not forbidden). Can you make this array sorted in ascending order performing some sequence of swapping operations? Input The first line contains one integer n (2 â‰¤ n â‰¤ 200000) â€” the number of elements in the array. The second line contains n integers a1, a2, â€¦, a**n (1 â‰¤ a**i â‰¤ 200000) â€” the elements of the array. Each integer from 1 to n appears exactly once. The third line contains a string of n - 1 characters, each character is either 0 or 1. If i-th character is 1, then you can swap i-th element with (i + 1)-th any number of times, otherwise it is forbidden to swap i-th element with (i + 1)-th. Output If it is possible to sort the array in ascending order using any sequence of swaps you are allowed to make, print YES. Otherwise, print NO. Examples input 12361 2 5 3 4 601110 output 1YES input 12361 2 5 3 4 601010 output 1NO Note In the first example you may swap a3 and a4, and then swap a4 and a5. æ¯æ®µè¿žç»­çš„1ä»¥åŠæœ€åŽä¸€ä¸ª1å³è¾¹çš„ä½ç½®çš„æ•°éƒ½æ˜¯å¯ä»¥ç›¸äº’äº¤æ¢çš„ï¼Œä½†æ˜¯å’Œå…¶ä»–çš„éƒ¨åˆ†ä¹‹é—´ä¸èƒ½äº’æ¢ï¼Œæ‰€ä»¥æ¯æ®µåŒºé—´[l, r]ä¸èƒ½å‡ºçŽ°è¶…å‡ºåŒºé—´[l+1, r+1]èŒƒå›´çš„æ•° å‰©ä½™çš„éƒ¨åˆ†å°±æ˜¯ä¸èƒ½è¿›è¡Œäº¤æ¢çš„éƒ¨åˆ†ï¼Œå³æ•°å¿…é¡»ç­‰äºŽä¸‹æ ‡+1 C++ Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#define N 200001using namespace std;int arr[N];char str[N];int main()&#123; int num; bool flag = true; while(~scanf("%d", &amp;num)) &#123; flag = true; for(int i = 0; i &lt; num; i++) &#123; scanf("%d", &amp;arr[i]); &#125; scanf("%s", str); getchar(); for(int i = 0; i &lt; num; i++) &#123; int l = i; while(str[i] == '1' &amp;&amp; i &lt; num-1) i++; int r = i; if(l == r &amp;&amp; arr[l] != l+1) &#123;// cout &lt;&lt; "sdf: " &lt;&lt; l &lt;&lt; endl; flag = false; break; &#125; for(int j = l; j &lt;= r; j++) &#123; if(arr[j] &gt; r+1 || arr[j] &lt; l+1) &#123;// cout &lt;&lt; l &lt;&lt; ' ' &lt;&lt; r &lt;&lt; endl; flag = false; break; &#125; &#125; &#125; if(flag) printf("YES\n"); else printf("NO\n"); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>codeforce</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨Linuxå‘è¡Œç‰ˆFirefoxä¸‹å®‰è£…æœ€æ–°ç‰ˆFlash]]></title>
    <url>%2F2018%2F02%2F07%2Ffirefox_flash%2F</url>
    <content type="text"><![CDATA[è™½ç„¶åœ¨Windowsä¸ŠChromeæµè§ˆå™¨å æ®ç€éœ¸ä¸»åœ°ä½ï¼Œä½†æ˜¯åœ¨Linuxä¸Šï¼Œæ˜Žæ˜¾é¢å‘å¼€æºç¤¾åŒºçš„Firefoxå¯¹å„ç§å‘è¡Œç‰ˆä¾‹å¦‚Ubuntuç­‰ä¼˜åŒ–å¾—æ›´æ£’ã€‚è™½ç„¶Html5æ˜¯è¶‹åŠ¿ï¼Œä½†æ˜¯Flashåœ¨æ—¥å¸¸æµè§ˆç½‘é¡µä¸­ä¾æ—§ä¸èƒ½å°‘ã€‚Ubuntuä¸­çš„Firefoxæ²¡æœ‰åƒChromeä¸€æ ·å†…ç½®Pepper Flashæ’ä»¶ï¼Œè€ŒAdobeæ—©å·²å¯¹Ubuntuåœæ›´ã€‚é‚£ä¹ˆè¦å¦‚ä½•ä¸ºUbuntuä¸‹çš„Firefoxå®‰è£…æœ€æ–°çš„Flashæ’ä»¶å‘¢ï¼Ÿ è¿›å…¥ Download Adobe Flash Player é€‰æ‹©.tar.gz é€‚ç”¨äºŽLinuxä¸‹è½½ ä¸‹è½½åŽè§£åŽ‹flash_player_npapi_linux.x86_64.tar.gzï¼Œè¿›å…¥flash_player_npapi_linux.x86_64ä¸­å¤åˆ¶libflashplayer.so åœ¨~/.mozillaä¸‹æ–°å»ºæ–‡ä»¶å¤¹plugins æŠŠlibflashplayer.soç²˜è´´åˆ°pluginsä¸‹ é‡å¯Firefoxï¼Œå®Œæˆæœ€æ–°Flashå®‰è£…]]></content>
      <categories>
        <category>çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Ubuntu</tag>
        <tag>Firefox</tag>
        <tag>Flash</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Codeforce 920B Tea Queue]]></title>
    <url>%2F2018%2F02%2F06%2Fcodeforce920B%2F</url>
    <content type="text"><![CDATA[Recently n students from city S moved to city P to attend a programming camp. They moved there by train. In the evening, all students in the train decided that they want to drink some tea. Of course, no two people can use the same teapot simultaneously, so the students had to form a queue to get their tea. i-th student comes to the end of the queue at the beginning of l**i-th second. If there are multiple students coming to the queue in the same moment, then the student with greater index comes after the student with lesser index. Students in the queue behave as follows: if there is nobody in the queue before the student, then he uses the teapot for exactly one second and leaves the queue with his tea; otherwise the student waits for the people before him to get their tea. If at the beginning of r**i-th second student i still cannot get his tea (there is someone before him in the queue), then he leaves the queue without getting any tea. For each student determine the second he will use the teapot and get his tea (if he actually gets it). Input The first line contains one integer t â€” the number of test cases to solve (1 â‰¤ t â‰¤ 1000). Then t test cases follow. The first line of each test case contains one integer n (1 â‰¤ n â‰¤ 1000) â€” the number of students. Then n lines follow. Each line contains two integer l**i, r**i (1 â‰¤ l**i â‰¤ r**i â‰¤ 5000) â€” the second i-th student comes to the end of the queue, and the second he leaves the queue if he still cannot get his tea. It is guaranteed that for every condition l**i - 1 â‰¤ l**i holds. The sum of n over all test cases doesnâ€™t exceed 1000. Note that in hacks you have to set t = 1. Output For each test case print n integers. i-th of them must be equal to the second when i-th student gets his tea, or 0 if he leaves without tea. Example input 12345678221 31 431 51 12 3 output 121 2 1 0 2 Note The example contains 2 tests: During 1-st second, students 1 and 2 come to the queue, and student 1 gets his tea. Student 2 gets his tea during 2-nd second. During 1-st second, students 1 and 2 come to the queue, student 1 gets his tea, and student 2 leaves without tea. During 2-nd second, student 3 comes and gets his tea. C++ Code 12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;using namespace std;int main()&#123; int t; int cur = 0; int num; int l, r; int arr[1005]; scanf("%d", &amp;t); while(t--) &#123; scanf("%d", &amp;num); cur = 0; for(int i = 0; i &lt; num; i++) &#123; scanf("%d%d", &amp;l, &amp;r); if(l &lt;= cur) &#123; if(cur &gt;= r) arr[i] = 0; else &#123; arr[i] = ++cur; &#125; &#125; else &#123; cur = l; arr[i] = l; &#125; &#125; for(int i = 0; i &lt; num; i++) printf("%d ", arr[i]); printf("\n"); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>codeforce</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Codeforce 920A Water The Garden]]></title>
    <url>%2F2018%2F02%2F06%2Fcodeforce920A%2F</url>
    <content type="text"><![CDATA[It is winter now, and Max decided itâ€™s about time he watered the garden. The garden can be represented as n consecutive garden beds, numbered from 1 to n. k beds contain water taps (i-th tap is located in the bed x**i), which, if turned on, start delivering water to neighbouring beds. If the tap on the bed x**i is turned on, then after one second has passed, the bed x**i will be watered; after two seconds have passed, the beds from the segment [x**i - 1, x**i + 1] will be watered (if they exist); after j seconds have passed (j is an integer number), the beds from the segment [x**i - (j - 1), x**i + (j - 1)] will be watered (if they exist). Nothing changes during the seconds, so, for example, we canâ€™t say that the segment [x**i - 2.5, x**i + 2.5] will be watered after 2.5seconds have passed; only the segment [x**i - 2, x**i + 2] will be watered at that moment. The garden from test 1. White colour denotes a garden bed without a tap, red colour â€” a garden bed with a tap. The garden from test 1 after 2 seconds have passed after turning on the tap. White colour denotes an unwatered garden bed, blue colour â€” a watered bed. Max wants to turn on all the water taps at the same moment, and now he wonders, what is the minimum number of seconds that have to pass after he turns on some taps until the whole garden is watered. Help him to find the answer! Input The first line contains one integer t â€” the number of test cases to solve (1 â‰¤ t â‰¤ 200). Then t test cases follow. The first line of each test case contains two integers n and k(1 â‰¤ n â‰¤ 200, 1 â‰¤ k â‰¤ n) â€” the number of garden beds and water taps, respectively. Next line contains k integers x**i (1 â‰¤ x**i â‰¤ n) â€” the location of i-th water tap. It is guaranteed that for each condition x**i - 1 &lt; x**i holds. It is guaranteed that the sum of n over all test cases doesnâ€™t exceed 200. Note that in hacks you have to set t = 1. Output For each test case print one integer â€” the minimum number of seconds that have to pass after Max turns on some of the water taps, until the whole garden is watered. Example input 123456735 133 31 2 34 11 output 123314 Note The first example consists of 3 tests: There are 5 garden beds, and a water tap in the bed 3. If we turn it on, then after 1second passes, only bed 3 will be watered; after 2 seconds pass, beds [1, 3] will be watered, and after 3 seconds pass, everything will be watered. There are 3 garden beds, and there is a water tap in each one. If we turn all of them on, then everything will be watered after 1 second passes. There are 4 garden beds, and only one tap in the bed 1. It will take 4 seconds to water, for example, bed 4. C++ Code 123456789101112131415161718192021222324252627282930313233343536#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;using namespace std;int main()&#123; int t, n, k, tmp = 0, pretmp; int mi = 0; while(~scanf("%d", &amp;t)) &#123; for(int i = 0; i &lt; t; i++) &#123; scanf("%d%d", &amp;n, &amp;k); for(int j = 0; j &lt; k; j++) &#123; pretmp = tmp; scanf("%d", &amp;tmp); if(j == 0) mi = tmp; if(j &gt; 0 &amp;&amp; j &lt; k-1) mi = max(mi, (tmp-pretmp+2)/2); if(j == k-1) &#123; mi = max(mi, (tmp-pretmp+2)/2); mi = max(mi, n-tmp+1); &#125; &#125; printf("%d\n", mi); &#125; &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>codeforce</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 30 Substring with Concatenation of All Words]]></title>
    <url>%2F2018%2F02%2F05%2Fleetcode30%2F</url>
    <content type="text"><![CDATA[You are given a string, s, and a list of words, words, that are all of the same length. Find all starting indices of substring(s) in s that is a concatenation of each word in words exactly once and without any intervening characters. For example, given: s: &quot;barfoothefoobarman&quot; words: [&quot;foo&quot;, &quot;bar&quot;] You should return the indices: [0,9]. (order does not matter). åˆ©ç”¨æ»‘åŠ¨çª—å£æœç´¢çš„æ–¹å¼ è®¡ç®—æ¯ä¸ªwordåœ¨wordsä¸­å‡ºçŽ°çš„æ¬¡æ•° è®¾ç½®çª—å£ï¼Œlä¸ºçª—å£å·¦ç«¯ç‚¹ï¼Œrä¸ºçª—å£å³ç«¯ç‚¹ï¼Œå·¦é—­å³å¼€ï¼Œwindowè®°å½•çª—å£ä¸­æ¯ä¸ªå•è¯çš„æ•°é‡wordmap ä»Ž0~len(word)-1å¼€å§‹æžšä¸¾å·¦ç«¯ç‚¹çš„èµ·ç‚¹ æ‰©å±•çª—å£ï¼Œrä¸æ–­çš„å³ç§»ä¸€ä¸ªlen(word) å¦‚æžœå½“å‰æœ€å³è¾¹çš„å•è¯ä¸åœ¨wordsä¸­ï¼Œåˆ™æ¸…ç†çª—å£ l = r å¦‚æžœåœ¨ï¼Œwindow[word] += 1 window[word] &lt; wordmap[word]ç»§ç»­æ‰©å±• window[word] == wordmap[word]æ£€æŸ¥æ˜¯ä¸æ˜¯ä¸€ä¸ªè§£ï¼Œå³r-l == len(word)*len(words) window[word] &gt; wordmap[word]è¿›å…¥æ­¥éª¤2 æ”¶ç¼©çª—å£ï¼Œlä¸æ–­å³ç§»ä¸€ä¸ªlen(word)ï¼Œwindow[l] -= 1ï¼Œæ£€æŸ¥window[s[r-len:r]] == wordmap[s[r-len:r]] 123456789101112131415161718192021222324252627282930313233343536373839404142434445class Solution: def findSubstring(self, s, words): """ :type s: str :type words: List[str] :rtype: List[int] """ wordmap = &#123;&#125; res = [] if s == None or len(words) == 0: return res wordLen = len(words[0]) for word in words: if wordmap.__contains__(word): wordmap[word] += 1 else: wordmap[word] = 1 for i in range(wordLen): window = &#123;&#125; l = r = i while r &lt; len(s): while r &lt; len(s): word = s[r:r+wordLen] r += wordLen if word not in words: window = &#123;&#125; l = r else: if window.__contains__(word): window[word] += 1 else: window[word] = 1 if window[word] &gt;= wordmap[word]: break while l &lt; r: word = s[r-wordLen: r] if window[word] == wordmap[word]: break tmpWord = s[l : l+wordLen] window[tmpWord] -= 1 l += wordLen if r-l == wordLen*len(words): res.append(l) return res]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Gitä»‹ç»ä»¥åŠåŸºæœ¬å‘½ä»¤]]></title>
    <url>%2F2018%2F02%2F01%2Fgit%2F</url>
    <content type="text"><![CDATA[ä»‹ç»gitçš„ç»“æž„ã€ä½œç”¨ä»¥åŠåŸºæœ¬å¸¸ç”¨å‘½ä»¤ ä¸€ã€gitç®€ä»‹gitæ˜¯ç›®å‰æœ€æµè¡Œã€æœ€å¥½ç”¨çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æŽ§åˆ¶ç³»ç»Ÿï¼Œä¸»è¦çš„ä½œç”¨å°±æ˜¯å¸®åŠ©è¿›è¡Œç‰ˆæœ¬æŽ§åˆ¶ä»¥åŠåˆ†å¸ƒå¼çš„åˆ†æ”¯ç®¡ç†ã€‚å…¶åŸºæœ¬ç»“æž„å¦‚ä¸‹ å…¶ä¸­æ©™è‰²çš„éƒ¨åˆ†éƒ½åœ¨æˆ‘ä»¬è‡ªå·±çš„è®¡ç®—æœºä¸Šï¼Œè“è‰²çš„æ˜¯è¿œç¨‹ä»“åº“ï¼Œæ¯”å¦‚githubã€gitoscç­‰ç­‰ å›¾ä¸­å‡ ä¸ªéƒ¨åˆ†çš„å«ä¹‰ Workspaceï¼šå·¥ä½œåŒºï¼Œå°±æ˜¯ç”µè„‘é‡Œçš„ä¸€ä¸ªç›®å½•ï¼Œä¸€èˆ¬å¸¦æœ‰.gitæ–‡ä»¶ Stage/Indexï¼šæš‚å­˜åŒºä½äºŽå·¥ä½œåŒºç›®å½•é‡Œçš„ä¸€ä¸ª.gitéšè—ç›®å½•ä¸­ï¼Œé‡Œé¢å­˜å‚¨è¿™ä¸ªé¡¹ç›®çš„masteråˆ†æ”¯å’ŒHEADæŒ‡é’ˆ Repositoryï¼šæœ¬åœ°ä»“åº“ï¼Œç”¨äºŽä¸Žè¿œç¨‹ä»“åº“åŒæ­¥ Remoteï¼šè¿œç¨‹ä»“åº“ â€‹ ä¸‹é¢å°†ä¼šæŠŠä¸»è¦çš„è¿‡ç¨‹çš„å‘½ä»¤ä¸€ä¸€å±•ç¤ºï¼Œå»ºè®®åˆ†æ”¯éƒ¨åˆ†å¯ä»¥é˜…è¯»å®˜æ–¹æ–‡æ¡£è¿›è¡Œå­¦ä¹  gitä¸­æ–‡æ–‡æ¡£ äºŒã€æ–°å»ºä¸Žé…ç½®123456789101112131415# åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªGitä»£ç åº“$ git init [project-name]# å…‹éš†$ git clone [url]# æ˜¾ç¤ºå½“å‰çš„Gité…ç½®$ git config --list# ç¼–è¾‘Gité…ç½®æ–‡ä»¶$ git config -e [--global]# è®¾ç½®æäº¤ä»£ç æ—¶çš„ç”¨æˆ·ä¿¡æ¯$ git config [--global] user.name "[name]"$ git config [--global] user.email "[email address]" ä¸‰ã€å¾€æš‚å­˜åŒºadd/rm/mv123456789101112131415# æ·»åŠ æ‰€æœ‰/ç›®å½•/æ–‡ä»¶åˆ°æš‚å­˜åŒº$ git add [.]/[dir]/[file1] [file2] ...# æ·»åŠ æ¯ä¸ªå˜åŒ–å‰ï¼Œéƒ½ä¼šè¦æ±‚ç¡®è®¤# å¯¹äºŽåŒä¸€ä¸ªæ–‡ä»¶çš„å¤šå¤„å˜åŒ–ï¼Œå¯ä»¥å®žçŽ°åˆ†æ¬¡æäº¤$ git add -p# åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™æ¬¡åˆ é™¤æ”¾å…¥æš‚å­˜åŒº$ git rm [file1] [file2] ...# åœæ­¢è¿½è¸ªæŒ‡å®šæ–‡ä»¶ï¼Œä½†è¯¥æ–‡ä»¶ä¼šä¿ç•™åœ¨å·¥ä½œåŒº$ git rm --cached [file]# æ”¹åæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™ä¸ªæ”¹åæ”¾å…¥æš‚å­˜åŒº$ git mv [file-original] [file-renamed] å››ã€å‘æœ¬åœ°ä»“åº“commit123456789101112131415# æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒº$ git commit -m [message]# æäº¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°ä»“åº“åŒº$ git commit [file1] [file2] ... -m [message]# æäº¤å·¥ä½œåŒºè‡ªä¸Šæ¬¡commitä¹‹åŽçš„å˜åŒ–ï¼Œç›´æŽ¥åˆ°ä»“åº“åŒº(æ˜¾ç¤ºå˜åŠ¨)$ git commit [-a|-v]# ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œæ›¿ä»£ä¸Šä¸€æ¬¡æäº¤# å¦‚æžœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯$ git commit --amend -m [message]# é‡åšä¸Šä¸€æ¬¡commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ–$ git commit --amend [file1] [file2] ... äº”ã€å‘è¿œç¨‹ä»“åº“push/pull/fetch/remote1234567891011121314151617181920212223# ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨$ git fetch [remote]# æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“$ git remote -v# æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯$ git remote show [name]# å¢žåŠ ä¸€ä¸ªæ–°çš„ç›®æ ‡è¿œç¨‹ä»“åº“ï¼Œå¹¶å‘½åä¸ºname$ git remote add [name] [url]# å–å›žè¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸Žæœ¬åœ°åˆ†æ”¯åˆå¹¶$ git pull [remote] [branch]# ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œä¸æŒ‡å®šé»˜è®¤master$ git push [remote] [branch]# å¼ºè¡ŒæŽ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª$ git push [remote] --force# æŽ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“$ git push [remote] --all å…­ã€åˆ†æ”¯branchå®˜æ–¹æ–‡æ¡£ 123456789101112131415161718192021222324252627282930313233343536# åˆ—å‡ºæœ¬åœ°ã€è¿œç¨‹ã€æ‰€æœ‰åˆ†æ”¯ï¼Œå¸¦*å·çš„æ˜¯å½“å‰åˆ†æ”¯$ git branch [-r|-a]# åˆ›å»º[å¹¶åˆ‡æ¢]åˆ°è¯¥åˆ†æ”¯$ git checkout [-b] [branch]# æ–°å»ºä¸€ä¸ªåˆ†æ”¯(æŒ‡å‘æŒ‡å®šcommit)$ git branch [branch] [commit]# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸ŽæŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»$ git branch --track [branch] [remote-branch]# åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº$ git checkout [branch]# åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯$ git checkout -# å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œåœ¨çŽ°æœ‰åˆ†æ”¯ä¸ŽæŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´$ git branch --set-upstream [branch] [remote-branch]# åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯$ git merge [branch]# é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯$ git cherry-pick [commit]# åˆ é™¤åˆ†æ”¯$ git branch -d [branch-name]# pushåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“(é»˜è®¤æ˜¯master)$ git push origin [branch]# åˆ é™¤è¿œç¨‹åˆ†æ”¯$ git push origin --delete [branch-name]$ git branch -dr [remote/branch] ä¸ƒã€æ ‡ç­¾1234567891011121314151617181920212223242526# åˆ—å‡ºæ‰€æœ‰tag$ git tag# æ–°å»ºä¸€ä¸ªtagåœ¨å½“å‰commit$ git tag [tag]# æ–°å»ºä¸€ä¸ªtagåœ¨æŒ‡å®šcommit$ git tag [tag] [commit]# åˆ é™¤æœ¬åœ°tag$ git tag -d [tag]# åˆ é™¤è¿œç¨‹tag$ git push origin :refs/tags/[tagName]# æŸ¥çœ‹tagä¿¡æ¯$ git show [tag]# æäº¤æŒ‡å®štag$ git push [remote] [tag]# æäº¤æ‰€æœ‰tag$ git push [remote] --tags# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ªtag$ git checkout -b [branch] [tag] å…«ã€æŸ¥çœ‹ä¿¡æ¯123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960# æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶$ git status# æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬åŽ†å²$ git log# æ˜¾ç¤ºcommitåŽ†å²ï¼Œä»¥åŠæ¯æ¬¡commitå‘ç”Ÿå˜æ›´çš„æ–‡ä»¶$ git log --stat# æœç´¢æäº¤åŽ†å²ï¼Œæ ¹æ®å…³é”®è¯$ git log -S [keyword]# æ˜¾ç¤ºæŸä¸ªcommitä¹‹åŽçš„æ‰€æœ‰å˜åŠ¨ï¼Œæ¯ä¸ªcommitå æ®ä¸€è¡Œ$ git log [tag] HEAD --pretty=format:%s# æ˜¾ç¤ºæŸä¸ªcommitä¹‹åŽçš„æ‰€æœ‰å˜åŠ¨ï¼Œå…¶"æäº¤è¯´æ˜Ž"å¿…é¡»ç¬¦åˆæœç´¢æ¡ä»¶$ git log [tag] HEAD --grep feature# æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬åŽ†å²ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ”¹å$ git log --follow [file]$ git whatchanged [file]# æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ç›¸å…³çš„æ¯ä¸€æ¬¡diff$ git log -p [file]# æ˜¾ç¤ºè¿‡åŽ»5æ¬¡æäº¤$ git log -5 --pretty --oneline# æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç”¨æˆ·ï¼ŒæŒ‰æäº¤æ¬¡æ•°æŽ’åº$ git shortlog -sn# æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æ˜¯ä»€ä¹ˆäººåœ¨ä»€ä¹ˆæ—¶é—´ä¿®æ”¹è¿‡$ git blame [file]# æ˜¾ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚$ git diff# æ˜¾ç¤ºæš‚å­˜åŒºå’Œä¸Šä¸€ä¸ªcommitçš„å·®å¼‚$ git diff --cached [file]# æ˜¾ç¤ºå·¥ä½œåŒºä¸Žå½“å‰åˆ†æ”¯æœ€æ–°commitä¹‹é—´çš„å·®å¼‚$ git diff HEAD# æ˜¾ç¤ºä¸¤æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚$ git diff [first-branch]...[second-branch]# æ˜¾ç¤ºä»Šå¤©ä½ å†™äº†å¤šå°‘è¡Œä»£ç $ git diff --shortstat "@&#123;0 day ago&#125;"# æ˜¾ç¤ºæŸæ¬¡æäº¤çš„å…ƒæ•°æ®å’Œå†…å®¹å˜åŒ–$ git show [commit]# æ˜¾ç¤ºæŸæ¬¡æäº¤å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶$ git show --name-only [commit]# æ˜¾ç¤ºæŸæ¬¡æäº¤æ—¶ï¼ŒæŸä¸ªæ–‡ä»¶çš„å†…å®¹$ git show [commit]:[filename]# æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„æœ€è¿‘å‡ æ¬¡æäº¤$ git reflog ä¹ã€æ’¤é”€12345678910111213141516171819202122232425262728293031# æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº$ git checkout [file]# æ¢å¤æŸä¸ªcommitçš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº$ git checkout [commit] [file]# æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº$ git checkout .# é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸Žä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜$ git reset [file]# é‡ç½®æš‚å­˜åŒºä¸Žå·¥ä½œåŒºï¼Œä¸Žä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´$ git reset --hard# é‡ç½®å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜$ git reset [commit]# é‡ç½®å½“å‰åˆ†æ”¯çš„HEADä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä¸ŽæŒ‡å®šcommitä¸€è‡´$ git reset --hard [commit]# é‡ç½®å½“å‰HEADä¸ºæŒ‡å®šcommitï¼Œä½†ä¿æŒæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å˜$ git reset --keep [commit]# æ–°å»ºä¸€ä¸ªcommitï¼Œç”¨æ¥æ’¤é”€æŒ‡å®šcommit# åŽè€…çš„æ‰€æœ‰å˜åŒ–éƒ½å°†è¢«å‰è€…æŠµæ¶ˆï¼Œå¹¶ä¸”åº”ç”¨åˆ°å½“å‰åˆ†æ”¯$ git revert [commit]# æš‚æ—¶å°†æœªæäº¤çš„å˜åŒ–ç§»é™¤ï¼Œç¨åŽå†ç§»å…¥$ git stash$ git stash pop å‚è€ƒï¼šgitä¸­æ–‡æ–‡æ¡£ é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—å»–é›ªå³°çš„gitæ•™ç¨‹]]></content>
      <categories>
        <category>å®žæˆ˜æŠ€èƒ½</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Markdownå¸¸ç”¨è¯­æ³•æ€»ç»“]]></title>
    <url>%2F2018%2F01%2F27%2Fmarkdown_conclusion%2F</url>
    <content type="text"><![CDATA[Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œåˆ›å§‹äººä¸ºçº¦ç¿°Â·æ ¼é²ä¼¯ï¼ˆè‹±è¯­ï¼šJohn Gruberï¼‰ã€‚å®ƒå…è®¸äººä»¬â€œä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åŽè½¬æ¢æˆæœ‰æ•ˆçš„XHTML(æˆ–è€…HTML)æ–‡æ¡£â€ã€‚[4]è¿™ç§è¯­è¨€å¸æ”¶äº†å¾ˆå¤šåœ¨ç”µå­é‚®ä»¶ä¸­å·²æœ‰çš„çº¯æ–‡æœ¬æ ‡è®°çš„ç‰¹æ€§ã€‚ ä¸ªäººä½¿ç”¨markdownç¼–å†™åšå®¢çš„ç¼–è¾‘å™¨æ˜¯Typoraï¼Œå®ƒä¸åƒä¼ ç»Ÿç¼–è¾‘å™¨é‚£æ ·å¹¶æŽ’å±•ç¤ºï¼Œè€Œæ˜¯ä¸€ä¸ªå³æ—¶æ¸²æŸ“çš„ç¼–è¾‘å™¨ï¼Œæ‰€è§å³æ‰€å¾—ï¼Œè®©ä¹ æƒ¯wordç¼–è¾‘çš„äººç¼–è¾‘markdownæ›´åŠ çš„æ–¹ä¾¿ã€‚è‡³äºŽå¥½ä¸å¥½ç”¨å°±è§ä»è§æ™ºäº†ã€‚æ¯•ç«Ÿæœ‰çš„äººå–œæ¬¢Jetbrainï¼Œè€Œæœ‰çš„äººä»¥ç”¨Vimä¸ºè£ã€‚ æ¢è¡Œåœ¨è¡Œå°¾æ·»åŠ ä¸¤ä¸ªç©ºæ ¼åŠ å›žè½¦è¡¨ç¤ºæ¢è¡Œï¼š å¦‚æžœä½¿ç”¨Typoraåˆ™ä¸ç”¨æ‹…å¿ƒæ­¤é—®é¢˜ï¼Œæ¢è¡Œæ—¶ä¼šè‡ªåŠ¨åŠ ä¸¤ä¸ªç©ºæ ¼ æ ‡é¢˜1ã€ç”¨#æ ‡è®° åœ¨ æ ‡é¢˜å¼€å¤´ #ï¼ŒåŠ å‡ ä¸ªå°±ä»£è¡¨æ˜¯å‡ çº§æ ‡é¢˜ 123456# ä¸€çº§æ ‡é¢˜## äºŒçº§æ ‡é¢˜### ä¸‰çº§æ ‡é¢˜#### å››çº§æ ‡é¢˜##### äº”çº§æ ‡é¢˜###### å…­çº§æ ‡é¢˜ 2ã€ç”¨=å’Œ-æ ‡è®° åœ¨ æ ‡é¢˜åº•ä¸‹ åŠ ä¸Šä»»æ„ä¸ª=ä»£è¡¨ä¸€çº§æ ‡é¢˜ï¼Œ-ä»£è¡¨äºŒçº§æ ‡é¢˜ 12345ä¸€çº§æ ‡é¢˜======äºŒçº§æ ‡é¢˜------ æ•ˆæžœï¼š ä¸€çº§æ ‡é¢˜äºŒçº§æ ‡é¢˜ä¸‰çº§æ ‡é¢˜å››çº§æ ‡é¢˜äº”çº§æ ‡é¢˜å…­çº§æ ‡é¢˜ ###### åˆ—è¡¨æ— åºåˆ—è¡¨ *åŽé¢åŠ ä¸€ä¸ªç©ºæ ¼ï¼š 123* æ— åºåˆ—è¡¨é¡¹ç›®* æ— åºåˆ—è¡¨é¡¹ç›®* æ— åºåˆ—è¡¨é¡¹ç›® æ•ˆæžœï¼ˆ-å’Œ+æ˜¯ä¸€æ ·çš„ï¼‰ï¼š æ— åºåˆ—è¡¨é¡¹ç›® æ— åºåˆ—è¡¨é¡¹ç›® æ— åºåˆ—è¡¨é¡¹ç›® æœ‰åºåˆ—è¡¨åˆ™ æ•°å­—åŠ è‹±æ–‡å¥ç‚¹.ï¼š 1231. æœ‰åºåˆ—è¡¨é¡¹12. æœ‰åºåˆ—è¡¨é¡¹23. æœ‰åºåˆ—è¡¨é¡¹3 æ•ˆæžœå¦‚ä¸‹ï¼š æœ‰åºåˆ—è¡¨é¡¹1 æœ‰åºåˆ—è¡¨é¡¹2 æœ‰åºåˆ—è¡¨é¡¹3 ä»£ç ä»£ç åˆ†ä¸ºè¡Œå†…ä»£ç å’Œä»£ç å—ã€‚ è¡Œå†…ä»£ç ä½¿ç”¨ ä¸€ä¸ª`ç¬¦å·æ ‡è¯† ï¼Œå¯åµŒå…¥æ–‡å­—ä¸­ ä»£ç å—ä½¿ç”¨```æ ‡è¯†ï¼ˆè¿˜æœ‰ä¸€ç§4ä¸ªç©ºæ ¼çš„ä¸æŽ¨èï¼Œä¼šå’Œç¼©è¿›å¼„æ··ï¼‰ ```è¿™é‡Œæ˜¯ä»£ç ``` ä»£ç è¯­æ³•é«˜äº®åœ¨ ```åŽé¢åŠ ä¸Š ç©ºæ ¼å’Œè¯­è¨€åç§°å³å¯ ``` è¯­è¨€è¿™é‡Œæ˜¯ä»£ç ``` ä¾‹å¦‚ï¼š `è¿™æ˜¯ä¸€æ®µé«˜äº®ä»£ç ` ``` c++ long long multi(long long a, long long b, long long mod){ long long ret = 1;while(b &gt; 0){â€‹ if(b &amp; 1)â€‹ ret = (reta)%mod;â€‹ a = (a a) % mod;â€‹ b /= 2;}return ret; }//pow(a, b) mod m ``` æ•ˆæžœ: è¿™æ˜¯ä¸€æ®µé«˜äº®ä»£ç  123456789101112long long multi(long long a, long long b, long long mod)&#123; long long ret = 1; while(b &gt; 0) &#123; if(b &amp; 1) ret = (ret*a)%mod; a = (a * a) % mod; b /= 2; &#125; return ret;&#125;//pow(a, b) mod m åˆ†éš”çº¿åœ¨ä¸€è¡Œä¸­ç”¨ä¸‰ä¸ªä»¥ä¸Šçš„*ã€-ã€_æ¥å»ºç«‹ä¸€ä¸ªåˆ†éš”çº¿ï¼Œè¡Œå†…ä¸èƒ½æœ‰å…¶ä»–ä¸œè¥¿ã€‚ä¹Ÿå¯ä»¥åœ¨ç¬¦å·é—´æ’å…¥ç©ºæ ¼ã€‚ 12345***---___* * * æ•ˆæžœå‡ä¸ºä¸€æ¡åˆ†å‰²çº¿ï¼š å¼•ç”¨å¼•ç”¨ä»¥&gt;åŠ ç©ºæ ¼æ¥è¡¨ç¤ºï¼Œå¼•ç”¨ä¸­æ”¯æŒå¤šçº§å¼•ç”¨ï¼Œå¼•ç”¨ä¸­çš„å¸¸ç”¨è¯­æ³•ä¸ä¼šå—åˆ°å½±å“ã€‚ å¸¸è§çš„å¼•ç”¨å†™æ³•ï¼š 12345&gt; è¿™æ˜¯ä¸€æ®µå¼•ç”¨&gt; ä¸€çº§å¼•ç”¨&gt; &gt; äºŒçº§å¼•ç”¨&gt; &gt; &gt; ä¸‰çº§å¼•ç”¨ æ•ˆæžœï¼š è¿™æ˜¯ä¸€æ®µå¼•ç”¨ ä¸€çº§å¼•ç”¨ äºŒçº§å¼•ç”¨ ä¸‰çº§å¼•ç”¨ å¼ºè°ƒä¸¤ä¸ª*æˆ–-ä»£è¡¨åŠ ç²—ï¼Œä¸€ä¸ª*æˆ–-ä»£è¡¨æ–œä½“ï¼Œ~~å·²åˆ é™¤çš„æ¨ªçº¿ã€‚ 12345**åŠ ç²—** or __åŠ ç²—__*æ–œä½“* or _æ–œä½“_~~æ¨ªçº¿~~ æ•ˆæžœï¼š åŠ ç²— or åŠ ç²— æ–œä½“ or _æ–œä½“_ æ¨ªçº¿ å›¾ç‰‡&amp;é“¾æŽ¥å›¾ç‰‡æœ‰ä¸€ä¸ª ! å·ï¼Œé“¾æŽ¥æ²¡æœ‰ï¼Œè€Œåœ¨Typoraä¸­å¯ä»¥ç›´æŽ¥æ’å…¥å›¾ç‰‡ï¼š 12å›¾ç‰‡ï¼š![image description](url) é“¾æŽ¥ï¼š[link description](url) é“¾æŽ¥ä»¥åŠå›¾ç‰‡åˆåˆ†ä¸ºè¡Œå†…å¼ã€å‚è€ƒå¼å’Œ è‡ªåŠ¨é“¾æŽ¥ ä¸Šé¢çš„æ ¼å¼å°±æ˜¯è¡Œå†…å¼ã€‚ä¸€èˆ¬æˆ‘ä½¿ç”¨è¡Œå†…å¼ï¼Œä½¿ç”¨å‚è€ƒå®¤åªæ˜¯æ–¹ä¾¿æ›´æ–°å›¾ç‰‡ï¼š 123456é“¾æŽ¥è¡Œå†…å¼ï¼š[Ph0en1x Notebook](https://ph0en1xgseek.github.io/)ã€‚è‡ªåŠ¨é“¾æŽ¥ï¼š&lt;https://ph0en1xgseek.github.io/&gt;å›¾ç‰‡å‚è€ƒå¼ï¼š![typora][1][1]: https://typora.io/img/new/lists.png æ•ˆæžœå¦‚ä¸‹ï¼š é“¾æŽ¥è¡Œå†…å¼ï¼šPh0en1x Notebookã€‚ è‡ªåŠ¨é“¾æŽ¥ï¼šhttps://ph0en1xgseek.github.io/ å›¾ç‰‡å‚è€ƒå¼ï¼š![typora][1][1]: https://typora.io/img/new/lists.png è¡¨æ ¼è¡¨æ ¼å¯¹é½æ ¼å¼ï¼ŒTyporaä¸­ä¹Ÿå¯ä»¥ç›´æŽ¥æ’å…¥è¡¨æ ¼ å·¦å¯¹é½ï¼š:---- ä¸­çº¿å¯¹é½ï¼š:----:æˆ–----- å³å¯¹é½ï¼š----: ä¾‹å­ï¼š 123456|æ ‡é¢˜|æ ‡é¢˜|æ ‡é¢˜||:---|:---:|---:||å·¦å¯¹é½|ä¸­çº¿å¯¹é½|å³å¯¹é½||å·¦å¯¹é½|ä¸­çº¿å¯¹é½|å³å¯¹é½||å·¦å¯¹é½|ä¸­çº¿å¯¹é½|å³å¯¹é½||å·¦å¯¹é½|ä¸­çº¿å¯¹é½|å³å¯¹é½| æ•ˆæžœï¼š æ ‡é¢˜ æ ‡é¢˜ æ ‡é¢˜ å·¦å¯¹é½ ä¸­çº¿å¯¹é½ å³å¯¹é½ å·¦å¯¹é½ ä¸­çº¿å¯¹é½ å³å¯¹é½ å·¦å¯¹é½ ä¸­çº¿å¯¹é½ å³å¯¹é½ å·¦å¯¹é½ ä¸­çº¿å¯¹é½ å³å¯¹é½ è„šæ³¨[^]æ¥å®šä¹‰è„šæ³¨ï¼š 123Ph0en1x Notebook[^1][^1]: https://ph0en1xgseek.github.io/ æ•ˆæžœï¼š Ph0en1x Notebook^1]]></content>
      <categories>
        <category>å®žæˆ˜æŠ€èƒ½</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Codeforce 915A Garden]]></title>
    <url>%2F2018%2F01%2F26%2Fcodeforce915A%2F</url>
    <content type="text"><![CDATA[Luba thinks about watering her garden. The garden can be represented as a segment of length k. Luba has got n buckets, the i-th bucket allows her to water some continuous subsegment of garden of length exactly a**i each hour. Luba canâ€™t water any parts of the garden that were already watered, also she canâ€™t water the ground outside the garden. Luba has to choose one of the buckets in order to water the garden as fast as possible (as mentioned above, each hour she will water some continuous subsegment of length a**i if she chooses the i-th bucket). Help her to determine the minimum number of hours she has to spend watering the garden. It is guaranteed that Luba can always choose a bucket so it is possible water the garden. See the examples for better understanding. Input The first line of input contains two integer numbers n and k (1 â‰¤ n, k â‰¤ 100) â€” the number of buckets and the length of the garden, respectively. The second line of input contains n integer numbers a**i (1 â‰¤ a**i â‰¤ 100) â€” the length of the segment that can be watered by the i-th bucket in one hour. It is guaranteed that there is at least one bucket such that it is possible to water the garden in integer number of hours using only this bucket. Output Print one integer number â€” the minimum number of hours required to water the garden. Examples input 123 62 3 5 output 12 input 126 71 2 3 4 5 6 output 17 Note In the first test the best option is to choose the bucket that allows to water the segment of length 3. We canâ€™t choose the bucket that allows to water the segment of length 5 because then we canâ€™t water the whole garden. In the second test we can choose only the bucket that allows us to water the segment of length 1. C++ Code 123456789101112131415161718192021222324252627#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;using namespace std;int main()&#123; int n, k; int tmp; int mi; while(~scanf("%d%d", &amp;n, &amp;k)) &#123; mi = 1000; for(int i = 0; i &lt; n; i++) &#123; scanf("%d", &amp;tmp); if(k % tmp == 0) &#123; mi = min(k / tmp, mi); &#125; &#125; printf("%d\n", mi); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>codeforce</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Codeforce 915C Permute Digits]]></title>
    <url>%2F2018%2F01%2F26%2Fcodeforce915C%2F</url>
    <content type="text"><![CDATA[You are given two positive integer numbers a and b. Permute (change order) of the digits of a to construct maximal number not exceeding b. No number in input and/or output can start with the digit 0. It is allowed to leave a as it is. Input The first line contains integer a (1 â‰¤ a â‰¤ 1018). The second line contains integer b (1 â‰¤ b â‰¤ 1018). Numbers donâ€™t have leading zeroes. It is guaranteed that answer exists. Output Print the maximum possible number that is a permutation of digits of a and is not greater than b. The answer canâ€™t have any leading zeroes. It is guaranteed that the answer exists. Examples input 12123222 output 1213 input 12392110000 output 19321 input 1249405000 output 14940 bä¸€å®šä¸çŸ­äºŽa å¦‚æžœbæ¯”aé•¿ï¼Œç›´æŽ¥é™åºæŽ’åˆ—a å¦‚æžœä¸€æ ·é•¿ å…ˆç»Ÿè®¡aä¸­æ•°å­—çš„ä¸ªæ•° å¯¹äºŽæ¯ä¸€ä½bï¼Œéƒ½æ‰¾ä¸æ¯”bå¤§çš„åŒ¹é…ï¼Œä¸€æ—¦æœ‰ä¸€ä½åŒ¹é…åŽå°äºŽbçš„é‚£ä½ï¼Œä¹‹åŽå°±å¯ä»¥ä»Žæœ€å¤§çš„å¼€å§‹é™åºåŒ¹é… å¦‚æžœæœ‰ä¸€ä½æ— æ³•åŒ¹é…å°äºŽç­‰äºŽbçš„é‚£ä½ï¼Œé‚£ä¹ˆå°±å›žé€€ä¸€ä½ï¼ŒåŒ¹é…å°äºŽbçš„ï¼Œè¿™æ ·åŽé¢å°±å¯ä»¥ä¸å—çº¦æŸ C++ Code 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;#include &lt;iomanip&gt;using namespace std;bool cmp(char a, char b)&#123; return a &gt; b;&#125;int main()&#123; char str1[20]; char str2[20]; char tmp; int arr[15]; while(~scanf("%s", str1)) &#123; memset(arr, 0, sizeof(arr)); getchar(); scanf("%s", str2); getchar(); int len1 = strlen(str1); int len2 = strlen(str2); if(len2 &gt; len1) &#123; sort(str1, str1+len1, cmp); &#125; else &#123; bool flag = false; for(int i = 0; i &lt; len1; i++) &#123; arr[str1[i] - '0']++; str1[i] = str2[i]; &#125; for(int i = 0; i &lt; len2; i++) &#123; int j; if(flag == false) j = str1[i] - '0'; else j = 9; for(; j &gt;= 0; j--) &#123; if(arr[j] &gt; 0) &#123; arr[j]--; str1[i] = j+'0'; if(j &lt; str2[i] - '0') flag = true; break; &#125; &#125; if(j == -1 &amp;&amp; flag == false) &#123; i--; arr[str1[i]-'0']++; str1[i]--; i--; &#125; &#125; &#125; printf("%s\n", str1); &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>codeforce</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Codeforce 915B Browser]]></title>
    <url>%2F2018%2F01%2F26%2Fcodeforce915B%2F</url>
    <content type="text"><![CDATA[Luba is surfing the Internet. She currently has n opened tabs in her browser, indexed from 1 to n from left to right. The mouse cursor is currently located at the pos-th tab. Luba needs to use the tabs with indices from l to r (inclusive) for her studies, and she wants to close all the tabs that donâ€™t belong to this segment as fast as possible. Each second Luba can either try moving the cursor to the left or to the right (if the cursor is currently at the tab i, then she can move it to the tab max(i - 1, a) or to the tab min(i + 1, b)) or try closing all the tabs to the left or to the right of the cursor (if the cursor is currently at the tab i, she can close all the tabs with indices from segment [a, i - 1] or from segment [i + 1, b]). In the aforementioned expressions a and b denote the minimum and maximum index of an unclosed tab, respectively. For example, if there were 7 tabs initially and tabs 1, 2and 7 are closed, then a = 3, b = 6. What is the minimum number of seconds Luba has to spend in order to leave only the tabs with initial indices from l to r inclusiveopened? Input The only line of input contains four integer numbers n, pos, l, r (1 â‰¤ n â‰¤ 100, 1 â‰¤ pos â‰¤ n, 1 â‰¤ l â‰¤ r â‰¤ n) â€” the number of the tabs, the cursor position and the segment which Luba needs to leave opened. Output Print one integer equal to the minimum number of seconds required to close all the tabs outside the segment [l, r]. Examples input 16 3 2 4 output 15 input 16 3 1 3 output 11 input 15 2 1 5 output 10 Note In the first test Luba can do the following operations: shift the mouse cursor to the tab 2, close all the tabs to the left of it, shift the mouse cursor to the tab 3, then to the tab 4, and then close all the tabs to the right of it. In the second test she only needs to close all the tabs to the right of the current position of the cursor. In the third test Luba doesnâ€™t need to do anything. ä¸è¦æ¼è€ƒè™‘æƒ…å†µ å·¦å³è´´è¾¹ å·¦è´´è¾¹ posåœ¨rå³è¾¹ posåœ¨rå·¦è¾¹ å³è´´è¾¹ posåœ¨lå³è¾¹ posåœ¨lå·¦è¾¹ éƒ½ä¸è´´è¾¹ posåœ¨lå·¦è¾¹ posåœ¨rå³è¾¹ posåœ¨lå’Œrä¸­é—´ C++ Code 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;algorithm&gt;#include &lt;string.h&gt;using namespace std;int main()&#123; int n, pos, l, r; while(~scanf("%d%d%d%d", &amp;n, &amp;pos, &amp;l, &amp;r)) &#123; if(l == 1 &amp;&amp; r == n) &#123; printf("0\n"); &#125; else if(l == 1) &#123; if(pos &gt; r) &#123; printf("%d\n", pos-r+1); &#125; else &#123; printf("%d\n", r-pos+1); &#125; &#125; else if(r == n) &#123; if(pos &lt; l) &#123; printf("%d\n", l-pos+1); &#125; else &#123; printf("%d\n", pos-l+1); &#125; &#125; else &#123; if(pos &gt; r) &#123; printf("%d\n", pos-l+2); &#125; else if(pos &lt; l) &#123; printf("%d\n", r-pos+2); &#125; else &#123; printf("%d\n", (r-l) + 2 + min(r-pos, pos-l)); &#125; &#125; &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>codeforce</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 25 Reverse Nodes in k-Group]]></title>
    <url>%2F2018%2F01%2F25%2Fleetcode25%2F</url>
    <content type="text"><![CDATA[Given a linked list, reverse the nodes of a linked list k at a time and return its modified list. k is a positive integer and is less than or equal to the length of the linked list. If the number of nodes is not a multiple of k then left-out nodes in the end should remain as it is. You may not alter the values in the nodes, only nodes itself may be changed. Only constant memory is allowed. For example,Given this linked list: 1-&gt;2-&gt;3-&gt;4-&gt;5 For k = 2, you should return: 2-&gt;1-&gt;4-&gt;3-&gt;5 For k = 3, you should return: 3-&gt;2-&gt;1-&gt;4-&gt;5 Leetcode 24çš„æ‰©å±•ç‰ˆï¼Œkä¸ªä¸€ç»„è¿›è¡Œç¿»è½¬ï¼Œæœ€åŽä¸åˆ°kä¸ªçš„ä¸ç¿»è½¬ æ²¡è½®ä¸€å…±ç¿»è½¬k-1æ¬¡ï¼Œæ¯æ¬¡éƒ½å°†åŽä¸€ä¸ªnodeè¿žåˆ°å·²ç»è¿žå¥½çš„é“¾çš„æœ€å‰é¢ï¼Œå·²ç»è¿žå¥½çš„é“¾é¦–èŠ‚ç‚¹ä¹‹å‰çš„ä¸€ä¸ªèŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹ä¸¤ä¸ªèŠ‚ç‚¹æ ‡è®°ä¸ºrootã€head Python Code 123456789101112131415161718192021222324252627282930# Definition for singly-linked list.# class ListNode:# def __init__(self, x):# self.val = x# self.next = Noneclass Solution: def reverseKGroup(self, head, k): """ :type head: ListNode :type k: int :rtype: ListNode """ res = root = ListNode(-1) root.next = head tmp = head cnt = 0 while(tmp != None): tmp = tmp.next cnt += 1 while(cnt &gt;= k): for i in range(k-1): node = root.next root.next = head.next head.next = root.next.next root.next.next = node root = head head = head.next cnt -= k return res.next]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 29 Divide Two Integers]]></title>
    <url>%2F2018%2F01%2F25%2Fleetcode29%2F</url>
    <content type="text"><![CDATA[Divide two integers without using multiplication, division and mod operator. If it is overflow, return MAX_INT. overflowç‰¹æ®Šæƒ…å†µï¼š-2147483648 / (-1) = MAX_INT = 2147483647 12345678910111213141516171819202122232425class Solution: def divide(self, dividend, divisor): """ :type dividend: int :type divisor: int :rtype: int """ if dividend == -2147483648 and divisor == -1: return 2147483647 a = abs(dividend) b = abs(divisor) arr = [] while(b &lt;= a): arr.append(b) b &lt;&lt;= 1 sum = 0 ret = 0 for i in range(len(arr)-1, -1, -1): if sum + arr[i] &lt;= a: sum += arr[i] ret += (1&lt;&lt;i) if(((dividend &gt; 0) and (divisor &lt; 0)) or ((dividend &lt; 0) and (divisor &gt; 0))): return -ret else: return ret]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linuxä¸‹é…ç½®Gitå…å¯†ç ]]></title>
    <url>%2F2018%2F01%2F24%2Fgit_password%2F</url>
    <content type="text"><![CDATA[æœ¬ç¯‡æ–‡ç« å°†ä¼šä»‹ç»å¦‚ä½•åœ¨Linuxä¸‹é…ç½®ä½¿Gitåœ¨push/pullæ—¶å…å¯†ç  æ“ä½œæ­¥èšï¼š è¿›å…¥å½“å‰ç”¨æˆ·ç›®å½•ä¸‹ï¼› åˆ›å»ºå¹¶æ‰“å¼€.git-credentials æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¾“å…¥å†…å®¹ï¼š 1 https://&#123;username&#125;ï¼š&#123;password&#125;@github.com å…¶ä¸­usernameï¼Œpasswordï¼Œgithub.com éƒ½æ›¿æ¢æˆä½ è‡ªå·±çš„å†…å®¹ ä¿å­˜é€€å‡ºåŽæ‰§è¡Œ 1git config --global credential.helper store æ‰§è¡Œå®ŒåŽ /home/ç”¨æˆ·å/.gitconfig ä¼šæ–°å¢žä¸€é¡¹ helper = store è¿™æ—¶å†æ‰§è¡Œgit push/pullçš„æ—¶å€™å°±ä¸ä¼šåœ¨è¦æ±‚ä½ è¾“å…¥å¯†ç äº†ã€‚]]></content>
      <categories>
        <category>çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>çŽ¯å¢ƒæ­å»º</tag>
        <tag>Linux</tag>
        <tag>Ubuntu</tag>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 23 Merge k Sorted Lists]]></title>
    <url>%2F2018%2F01%2F24%2Fleetcode23%2F</url>
    <content type="text"><![CDATA[Merge k sorted linked lists and return it as one sorted list. Analyze and describe its complexity. 12345678910111213141516171819202122232425262728# Definition for singly-linked list.# class ListNode:# def __init__(self, x):# self.val = x# self.next = Noneclass Solution: def mergeKLists(self, lists): """ :type lists: List[ListNode] :rtype: ListNode """ heap = [] i = 0 for node in lists: if node != None: heap.append((node.val, i, node)) i += 1 heapq.heapify(heap) cur = head = ListNode(0) while heap: pop = heapq.heappop(heap) cur.next = ListNode(pop[0]) cur = cur.next if pop[2].next != None: heapq.heappush(heap, (pop[2].next.val, i, pop[2].next)) i += 1 return head.next]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linuxæå‡ç‰©ç†å†…å­˜çš„ä½¿ç”¨çŽ‡]]></title>
    <url>%2F2018%2F01%2F24%2Fubuntu_improve%2F</url>
    <content type="text"><![CDATA[ä»‹ç»å¦‚ä½•åœ¨Linuxä¸‹è°ƒæ•´äº¤æ¢åˆ†åŒºswapçš„ä½¿ç”¨æ¡ä»¶ åœ¨UBUNTUç³»ç»Ÿé‡Œé¢ï¼Œå¹¶ä¸æ˜¯ä½ çš„ç‰©ç†å†…å­˜å…¨éƒ¨è€—å°½ä¹‹åŽï¼Œç³»ç»Ÿæ‰ä½¿ç”¨swapåˆ†åŒºï¼ç³»ç»Ÿçš„swappinessè®¾å®šå€¼ï¼Œå¯¹å¦‚ä½•ä½¿ç”¨swapåˆ†åŒºæ˜¯æœ‰ç€å¾ˆå¤§çš„è”ç³»ã€‚ swappiness=0 çš„æ—¶å€™è¡¨ç¤ºæœ€å¤§é™åº¦ä½¿ç”¨ç‰©ç†å†…å­˜ï¼Œç„¶åŽæ‰æ˜¯ swapç©ºé—´swappinessï¼100çš„æ—¶å€™è¡¨ç¤ºç§¯æžçš„ä½¿ç”¨swapåˆ†åŒºï¼Œå¹¶ä¸”æŠŠå†…å­˜ä¸Šçš„æ•°æ®åŠæ—¶çš„æ¬è¿åˆ°swapç©ºé—´é‡Œé¢ ä¸Šé¢2ä¸ªè®¾ç½®æ˜¯æžç«¯è®¾ç½®ï¼Œå¯¹äºŽUBUNTUç³»ç»Ÿçš„é»˜çƒ­å€¼æ¥è¯´ï¼Œè¿™ä¸ªå€¼=60ï¼Œå¦‚æžœæƒ³æœ€ä½³åŒ–ï¼Œå¯ä»¥ä¿®æ”¹ä¸º10-20å·¦å³ï¼ åœ¨ubuntu17ä»¥åŽç§»é™¤äº†äº¤æ¢åˆ†åŒºè¿™ä¸€æ¦‚å¿µï¼Œæ”¹ä¸ºäº¤æ¢æ–‡ä»¶ æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥æŸ¥çœ‹ swappiness çš„å½“å‰å‚æ•°ï¼ˆé»˜è®¤åº”è¯¥çœ‹åˆ°çš„æ˜¯60ï¼‰ 1cat /proc/sys/vm/swappiness è¾“å…¥ä¸‹é¢å†…å®¹ï¼Œä¿®æ”¹è¿™ä¸ªå‚æ•°ä¸º10ï¼ˆæ‰§è¡Œè¿™ä¸€æ­¥åªæ˜¯ä¸´æ—¶ä¿®æ”¹ï¼Œå¦‚æžœé‡å¯åˆä¼šæ¢å¤60ï¼‰ 1sudo sysctl vm.swappiness=10 è‹¥è¦æŒä¹…åŒ–é…ç½®ï¼Œå¯ä»¥æ‰“å¼€/etc/sysctl.confæ–‡ä»¶ 1sudo gedit /etc/sysctl.conf æ·»åŠ ä¸€è¡Œ 1vm.swappiness=10 â€‹]]></content>
      <categories>
        <category>çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>çŽ¯å¢ƒæ­å»º</tag>
        <tag>Linux</tag>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 10 Regular Expression Matching]]></title>
    <url>%2F2018%2F01%2F23%2Fleetcode10%2F</url>
    <content type="text"><![CDATA[åŠ¨æ€è§„åˆ’ Implement regular expression matching with support for &#39;.&#39; and &#39;*&#39;. 123456789101112131415161718&gt; &apos;.&apos; Matches any single character.&gt; &apos;*&apos; Matches zero or more of the preceding element.&gt;&gt; The matching should cover the entire input string (not partial).&gt;&gt; The function prototype should be:&gt; bool isMatch(const char *s, const char *p)&gt;&gt; Some examples:&gt; isMatch(&quot;aa&quot;,&quot;a&quot;) â†’ false&gt; isMatch(&quot;aa&quot;,&quot;aa&quot;) â†’ true&gt; isMatch(&quot;aaa&quot;,&quot;aa&quot;) â†’ false&gt; isMatch(&quot;aa&quot;, &quot;a*&quot;) â†’ true&gt; isMatch(&quot;aa&quot;, &quot;.*&quot;) â†’ true&gt; isMatch(&quot;ab&quot;, &quot;.*&quot;) â†’ true&gt; isMatch(&quot;aab&quot;, &quot;c*a*b&quot;) â†’ true&gt;&gt; åŠ¨æ€è§„åˆ’é—®é¢˜dp[i][j]ä»£è¡¨s[i]ä¹‹å‰ï¼ˆä¸ç®—iï¼‰ä¸Žp[j]ä¹‹å‰çš„å­—ç¬¦ä¸²æ˜¯å¦èƒ½å¤ŸåŒ¹é… åˆå§‹åŒ–ï¼š dp[0][0] = true dp[i][0] = false when i &gt;= 1 dp[0][j] = j &gt; 1 &amp;&amp; p[j-1] == &#39;*&#39; &amp;&amp; dp[0][j-2] å³åªæœ‰éƒ½å¯ä»¥ç”¨*æ¥ä»£æ›¿æŽ‰çš„æƒ…å†µæ‰èƒ½æ˜¯true ä¸¤ç§æ›´æ–°æƒ…å†µï¼š p[j-1] == &#39;*&#39; dp[i][j] = dp[i][j - 2] // iä¸Žj-2å¯ä»¥åŒ¹é…çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ª*ä»£è¡¨0æ¬¡ dp[i][j] = (s[i - 1] == p[j - 2] || p[j - 2] == &#39;.&#39;) &amp;&amp; dp[i - 1][j] // åœ¨i-1 ä¸Ž jå¯ä»¥åŒ¹é…çš„æƒ…å†µä¸‹ è¿™ä¸ª*ä»£è¡¨ä¸€æ¬¡æˆ–å¤šæ¬¡ p[j-1] != &#39;*&#39; dp[i][j] = (p[j - 1] == &#39;.&#39; || s[i - 1] == p[j - 1]) &amp;&amp; dp[i - 1][j - 1] //åœ¨i-1ä¸Žj-1å¯ä»¥åŒ¹é…çš„æƒ…å†µä¸‹ i ä¸Ž j èƒ½å¤ŸåŒ¹é… ç”±äºŽè¿™é¢˜Pythonç›´æŽ¥å°±æœ‰å‡½æ•°å¯ä»¥è§£å†³ï¼Œæ‰€ä»¥æ”¹ç”¨C++æ¥ç»ƒä¹  C++ Code 1234567891011121314151617181920212223242526272829303132333435363738394041424344class Solution &#123;public: bool isMatch(string s, string p) &#123; int lens = s.length(); int lenp = p.length(); bool **dp = new bool *[lens+1]; for(int i = 0; i &lt;= lens; i++) dp[i] = new bool [lenp+1]; bool res = false; dp[0][0] = true; for(int i = 1; i &lt;= lens; i++) &#123; dp[i][0] = false; &#125; for(int j = 1; j &lt;= lenp; j++) &#123; if(j &gt; 1 &amp;&amp; p[j-1] == '*' &amp;&amp; dp[0][j-2]) dp[0][j] = true; else dp[0][j] = false; &#125; for(int i = 1; i &lt;= lens; i++) &#123; for(int j = 1; j &lt;= lenp; j++) &#123; if(p[j-1] == '*') &#123; dp[i][j] = dp[i][j-2] || ((s[i-1] == p[j-2] || p[j-2] == '.') &amp;&amp; dp[i-1][j]); &#125; else &#123; dp[i][j] = dp[i-1][j-1] &amp;&amp; (s[i-1] == p[j-1] || p[j-1] == '.'); &#125; &#125; &#125; res = dp[lens][lenp]; for(int i = 0; i &lt;= lens; i++) delete [] dp[i]; delete [] dp; return res; &#125;&#125;;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 15 3Sum]]></title>
    <url>%2F2018%2F01%2F20%2Fleetcode15%2F</url>
    <content type="text"><![CDATA[T Sumé—®é¢˜çš„O(n)è§£å†³æ–¹æ³•ï¼› N Sumç±»çš„é—®é¢˜çš„ä¸€èˆ¬è§£å†³æ–¹æ³•ï¼› Given an array S of n integers, are there elements a, b, c in S such that a + b + c = 0? Find all unique triplets in the array which gives the sum of zero. Note: The solution set must not contain duplicate triplets. 123456789&gt; For example, given array S = [-1, 0, 1, 2, -1, -4],&gt;&gt; A solution set is:&gt; [&gt; [-1, 0, 1],&gt; [-1, -1, 2]&gt; ]&gt;&gt; Two sumç±»é—®é¢˜ï¼Œæ‰¾ä¸¤ä¸ªæ•°çš„å’Œä¸ºä¸€ä¸ªå®šå€¼çš„é—®é¢˜ï¼Œå¦‚æžœç›´æŽ¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼ŒæŽ’åº+æŸ¥æ‰¾æˆ–è€…åœ¨æœ‰åºæ•°ç»„ä¸­ç›´æŽ¥æŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯O(nlogn)ï¼Œæœ‰çš„é¢˜å¡å¤æ‚åº¦çš„å°±è¿‡ä¸åŽ» Two Sumé—®é¢˜çš„ä¸€èˆ¬åšæ³•å¯¹æ— åºæ•°ç»„è¿›è¡ŒæŽ’åºåŽï¼ˆè‹¥æ•°ç»„å·²ç»æ˜¯æœ‰åºçš„åŒ–åˆ™ä¸éœ€è¦æŽ’åºï¼‰ï¼Œè®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆleftã€rightæŒ‡å‘æ•°ç»„çš„é¦–å°¾ï¼Œtargetæ˜¯è¦æŸ¥æ‰¾çš„ç›®æ ‡ å¦‚æžœarr[left] + arr[right] == targetï¼ŒæŸ¥æ‰¾åˆ°äº† å¦‚æžœarr[left] + arr[right] &gt; targetï¼ŒæŒ‰ç…§éåŽ†çš„æ–¹å¼rightå¾€å·¦ç§»ï¼Œright -= 1 å¦‚æžœarr[left] + arr[right] &lt; targetï¼Œå¾ˆæ˜¾ç„¶rightä¸éœ€è¦å†å¾€å·¦ç§»åŠ¨äº†ï¼Œç›´æŽ¥è¿›å…¥ä¸‹ä¸€è½®è¿­ä»£ï¼Œå³left += 1ï¼Œrightä¸åŠ¨ rightä¸ç”¨åƒéåŽ†ä¸€æ ·å›žåˆ°æœ€å³è¾¹å—ï¼Ÿä¸ç”¨ã€‚å› ä¸ºçŽ°åœ¨çš„arr[left]ä¸Žrightå³è¾¹çš„æ•°ç›¸åŠ éƒ½æ˜¯å¤§äºŽtargetçš„ï¼ˆä¸ç„¶rightä¸ä¼šå‘å·¦ç§»ï¼‰ï¼Œé‚£ä¹ˆleftå†å‘å³ç§»åŠ¨arr[left]åªä¼šæ›´å¤§ï¼Œrightä¹Ÿå°±ä¸ç”¨å†å›žåˆ°å³è¾¹äº† æœ€åŽæ³¨æ„ä¸‹é‡å¤æ•°å­—ç­”æ¡ˆé‡å¤çš„é—®é¢˜ Two Sumé—®é¢˜çš„è¿™ç§è§£å†³æ–¹æ³•æŽ’åº+æŸ¥æ‰¾å¤æ‚åº¦ä¾ç„¶æ˜¯O(nlogn)ï¼Œä½†æ˜¯ä¸»è¦æ˜¯å› ä¸ºæŽ’åºçš„æ¶ˆè€—ã€‚å¦‚æžœé¢˜ç›®å·²ç»ç»™äº†æœ‰åºçš„æ•°åˆ—ï¼Œé‚£ä¹ˆå¤æ‚åº¦å°†ä¼šé™ä¸ºO(n) N Sum é—®é¢˜ å¯¹å‰å‡ ä½è¿›è¡ŒéåŽ†ï¼Œå¯¹æœ€åŽä¸¤ç»´åšTwo Sum Python Code 1234567891011121314151617181920212223242526272829303132class Solution(object): def threeSum(self, nums): """ :type nums: List[int] :rtype: List[List[int]] """ ans = [] if len(nums) &lt; 3: return [] nums.sort() for i in range(len(nums) - 2): if nums[i] &gt; 0: break if i &gt; 0 and nums[i] == nums[i-1]: continue l = i+1 r = len(nums)-1 while l &lt; r: if nums[i] + nums[l] + nums[r] &gt; 0: r -= 1 elif nums[i] + nums[l] + nums[r] &lt; 0: l += 1 else: ans.append([nums[i], nums[l], nums[r]]) l += 1 while l &lt; r and nums[l] == nums[l-1]: l += 1 r -= 1 while l &lt; r and nums[r] == nums[r+1]: r -= 1 return ans]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCode 24 Swap Nodes in Pairs]]></title>
    <url>%2F2018%2F01%2F20%2Fleetcode24%2F</url>
    <content type="text"><![CDATA[Given a linked list, swap every two adjacent nodes and return its head. For example,Given 1-&gt;2-&gt;3-&gt;4, you should return the list as 2-&gt;1-&gt;4-&gt;3. Your algorithm should use only constant space. You may not modify the values in the list, only nodes itself can be changed. Python Code 123456789101112131415161718192021222324252627282930# Definition for singly-linked list.# class ListNode(object):# def __init__(self, x):# self.val = x# self.next = Noneclass Solution(object): def swapPairs(self, head): """ :type head: ListNode :rtype: ListNode """ if head == None or head.next == None: return head ret = head.next i = head j = head.next pre = None while j != None: i.next = j.next j.next = i if pre != None: pre.next = j if i.next != None: pre = i i = i.next j = i.next else: break return ret]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Tensorflow å…±äº«å˜é‡ç†è§£]]></title>
    <url>%2F2018%2F01%2F19%2Ftensorflow_variable%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡ä¸»è¦é€šè¿‡ä¸€äº›ä¾‹å­ä»‹ç»tensorflowä¸­ä¸¤ç§å˜é‡çš„å£°æ˜Žæ–¹å¼å’Œä¸¤ç§scope å‚è€ƒæ¦‚è¿°: https://www.tensorflow.org/programmers_guide/variables tf.Variable(): https://www.tensorflow.org/api_docs/python/tf/Variable tf.get_variable(): https://www.tensorflow.org/api_docs/python/tf/get_variable tf.variable_scope(): https://www.tensorflow.org/api_docs/python/tf/variable_scope tf.name_scope(): https://www.tensorflow.org/api_docs/python/tf/name_scope ç®€ä»‹æœ¬æ–‡ä¸»è¦é€šè¿‡ä¸€äº›ä¾‹å­ä»‹ç»tensorflowä¸­ä¸¤ç§å˜é‡çš„å£°æ˜Žæ–¹å¼ tf.Variable() tf.get_variable() ä»¥åŠä¸¤ç§scope: tf.name_scope() tf.variable_scope() tf.name_scope() å’Œ tf.variable_scope() ä¾‹å­1 1234567891011import tensorflow as tfwith tf.name_scope("Ph0en1x_name_scope"): initializer = tf.constant_initializer(value=1) var1 = tf.get_variable(name='var1', shape=[1], dtype=tf.float32, initializer=initializer) var2 = tf.Variable(name='var2', initial_value=[2], dtype=tf.float32) var3 = var2*2 with tf.Session() as sess: sess.run(tf.initialize_all_variables()) print(var1.name) print(var2.name) è¾“å‡º1 123var1:0Ph0en1x_name_scope/var2:0Ph0en1x_name_scope/mul å¯ä»¥çœ‹å‡ºä½¿ç”¨tf.Variable()åˆ›å»ºçš„å˜é‡å’Œç®—å­opå—åˆ°name_scopeçš„æŽ§åˆ¶ï¼Œè€Œä½¿ç”¨tf.get_variable()çš„åˆ™ä¸ä¼š â€‹ ä¾‹å­2 1234567891011import tensorflow as tfwith tf.variable_scope("Ph0en1x_variable_scope"): initializer = tf.constant_initializer(value=1) var1 = tf.get_variable(name='var1', shape=[1], dtype=tf.float32, initializer=initializer) var2 = tf.Variable(name='var2', initial_value=[2], dtype=tf.float32) var3 = var2*2 with tf.Session() as sess: sess.run(tf.initialize_all_variables()) print(var1.name) print(var2.name) è¾“å‡º2 123Ph0en1x_variable_scope/var1:0Ph0en1x_variable_scope/var2:0Ph0en1x_variable_scope/mul:0 å¦‚æžœä½¿ç”¨variable_scope åˆ™éƒ½ä¼šå—åˆ°æŽ§åˆ¶ tf.Variable() å’Œ tf.get_variable() ä¾‹å­3 12345678910import tensorflow as tfwith tf.variable_scope("Ph0en1x_variable_scope"): initializer = tf.constant_initializer(value=1) var1 = tf.Variable(name='var1', initial_value=[2], dtype=tf.float32) var1_1 = tf.Variable(name='var1', initial_value=[2], dtype=tf.float32) with tf.Session() as sess: sess.run(tf.initialize_all_variables()) print(var1.name) print(var1_1.name) è¾“å‡º3 12Ph0en1x_variable_scope/var1:0Ph0en1x_variable_scope/var1_1:0 å½“åœ¨åŒä¸€ä¸ªscopeä¸­ä½¿ç”¨tf.Variable()å£°æ˜ŽåŒåçš„å˜é‡æ—¶ï¼Œtensorflowä¼šè‡ªåŠ¨å°†å…¶é‡å‘½åï¼Œä½†æ˜¯ï¼Œ ä¾‹å­4 1234567891011import tensorflow as tfwith tf.variable_scope("Ph0en1x_variable_scope"): initializer = tf.constant_initializer(value=1) var2 = tf.get_variable(name='var2', shape=[1], dtype=tf.float32, initializer=initializer) var2_2 = tf.get_variable(name='var2', shape=[1], dtype=tf.float32, initializer=initializer) with tf.Session() as sess: sess.run(tf.initialize_all_variables()) print(var2.name) print(var2_2.name) ç»“æžœ4 1ValueError: Variable Ph0en1x_variable_scope/var2 already exists, disallowed. Did you mean to set reuse=True or reuse=tf.AUTO_REUSE in VarScope? Originally defined at: ä½¿ç”¨tf.get_variable()æ—¶åˆ™æ²¡æœ‰è‡ªåŠ¨é‡å‘½åï¼Œè€Œæ˜¯ç›´æŽ¥æŠ›å‡ºå¼‚å¸¸ï¼Œè¯¢é—®æ˜¯å¦æƒ³è¦æŠŠreuseå€¼è®¾ä¸ºTrue reuseå‚æ•°é€šè¿‡tf.get_variable() tf.variable_scope() ä»¥åŠreuseå‚æ•°çš„é…åˆä½¿ç”¨ï¼Œå°±å¯ä»¥ä½¿ç”¨å…±äº«å˜é‡ã€‚ ä¸ºä»€ä¹ˆè¦ç”¨å…±äº«å˜é‡ï¼Ÿâ€‹ ä¸¾ä¸€ä¸ªæ —å­ï¼Œå½“æˆ‘ä»¬æ­å»ºå¯¹æŠ—ç”Ÿæˆç½‘ç»œè¿›è¡Œåˆ¤åˆ«å™¨çš„è®­ç»ƒçš„æ—¶å€™ï¼Œå¯¹åˆ¤åˆ«å™¨æ˜¯æœ‰çœŸå®žå›¾åƒå’Œç”Ÿæˆå›¾åƒä¸¤ç»„è¾“å…¥çš„ï¼Œå³ åˆ¤åˆ«å™¨å®šä¹‰ 12345678910def get_discriminator(img, n_units, reuse=False, alpha=0.01): with tf.variable_scope('discriminator', reuse=reuse): hidden1 = tf.layers.dense(img, n_units) hidden1 = tf.maximum(alpha*hidden1, hidden1) logits = tf.layers.dense(hidden1, 1) outputs = tf.sigmoid(logits) return logits, outputs åˆ¤åˆ«å™¨å®žä¾‹ 12d_logits_real, d_outputs_real = get_discriminator(real_img, d_units)d_logits_fake, d_outputs_fake = get_discriminator(g_outputs, d_units, reuse=True) ä¸¤ç»„å›¾åƒä½¿ç”¨çš„éƒ½æ˜¯åŒä¸€ç»„åˆ¤åˆ«å™¨çš„å˜é‡ï¼Œä½†æ˜¯ä»–ä»¬åˆ†ä¸¤æ¬¡è°ƒç”¨get_discriminator()æ—¶ï¼Œå¦‚æžœä¸å°†reuseè®¾ç½®æˆä¸ºTrue,æ˜¾ç„¶å°±ä¼šäº§ç”Ÿä¸Šé¢å‡ºçŽ°çš„å¼‚å¸¸ã€‚ ä¾‹å­5 123456import tensorflow as tfwith tf.variable_scope("foo"): v = tf.get_variable("var", [1])with tf.variable_scope("foo", reuse=True): v1 = tf.get_variable("var", [1])print(v1 is v) æˆ– 12345with tf.variable_scope("foo"): v = tf.get_variable("var", [1]) tf.get_variable_scope().reuse_variables() v1 = tf.get_variable("var", [1])print(v1 is v) ç»“æžœ5 1True ä½†æ˜¯ä¸€æ—¦è®¾ç½®ä¸ºTrueï¼Œå°±æ— æ³•å†æ¬¡ä¿®æ”¹å›žåŽ»]]></content>
      <categories>
        <category>tensorflow</category>
      </categories>
      <tags>
        <tag>tensorflow</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HDU 5802 Windows 10]]></title>
    <url>%2F2018%2F01%2F14%2Fhdu5802%2F</url>
    <content type="text"><![CDATA[Problem Description Long long ago, there was an old monk living on the top of a mountain. Recently, our old monk found the operating system of his computer was updating to windows 10 automatically and he even canâ€™t just stop it !!With a peaceful heart, the old monk gradually accepted this reality because his favorite comic LoveLive doesnâ€™t depend on the OS. Today, like the past day, he opens bilibili and wants to watch it again. But he observes that the voice of his computer can be represented as dB and always be integer.Because he is old, he always needs 1 second to press a button. He found that if he wants to take up the voice, he only can add 1 dB in each second by pressing the up button. But when he wants to take down the voice, he can press the down button, and if the last second he presses the down button and the voice decrease x dB, then in this second, it will decrease 2 * x dB. But if the last second he chooses to have a rest or press the up button, in this second he can only decrease the voice by 1 dB.Now, he wonders the minimal seconds he should take to adjust the voice from p dB to q dB. Please be careful, because of some strange reasons, the voice of his computer can larger than any dB but canâ€™t be less than 0 dB. Input First line contains a number T (1â‰¤Tâ‰¤300000),cases number.Next T line,each line contains two numbers p and q (0â‰¤p,qâ‰¤109) Output The minimal seconds he should take Sample Input 12321 57 3 Sample Output 1244 Code 123456789101112131415161718192021222324252627282930313233343536#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;string.h&gt;#include &lt;algorithm&gt;using namespace std;int p, q;int dfs(int cur, int step, int stop)///çŽ°åœ¨ä½ç½®ï¼Œå·²èµ°æ­¥æ•°ï¼Œåœé¡¿æ¬¡æ•°&#123; int cnt = 0; while(cur - (1&lt;&lt;cnt) + 1 &gt; q) cnt++; step += cnt; if(cur - (1&lt;&lt;cnt) + 1 == q) return step; int up = q - max(0, cur - (1&lt;&lt;cnt) + 1);///éœ€è¦å¾€å›žèµ°å¤šå°‘æ­¥ int tmp = step + max(up-stop, 0);///é€šè¿‡æŠŠä¹‹å‰çš„åœé¡¿æ¢æˆå‘ä¸Šä¸€æ­¥æ¥å‡å°‘ä¹‹åŽå‘ä¸Šçš„æ­¥æ•° return min(tmp, dfs(cur - (1&lt;&lt;(cnt-1))+1, step, stop + 1));&#125;int main()&#123; int ca; int ans; scanf("%d", &amp;ca); while(ca--) &#123; scanf("%d%d", &amp;p, &amp;q); if(p &lt;= q) ans = q - p; else ans = dfs(p, 0, 0); printf("%d\n", ans); &#125; return 0;&#125; â€‹]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>hdu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HDU 5754 Life Winner Bo]]></title>
    <url>%2F2018%2F01%2F14%2Fhdu5754%2F</url>
    <content type="text"><![CDATA[Problem Description Bo is a â€œLife Winnerâ€.He likes playing chessboard games with his girlfriend G.The size of the chessboard is NÃ—M.The top left corner is numbered(1,1) and the lower right corner is numberd (N,M).For each game,Bo and G take turns moving a chesspiece(Bo first).At first,the chesspiece is located at (1,1).And the winner is the person who first moves the chesspiece to (N,M).At one point,if the chess canâ€™t be moved and it isnâ€™t located at (N,M),they end in a draw.In general,the chesspiece can only be moved right or down.Formally,suppose it is located at (x,y),it can be moved to the next point (xâ€²,yâ€²) only if xâ€²â‰¥x and yâ€²â‰¥y.Also it canâ€™t be moved to the outside of chessboard.Besides,There are four kinds of chess(They have movement rules respectively).1.king.2.rook(castle).3.knight.4.queen.(The movement rule is as same as the chess.)For each type of chess,you should find out that who will win the game if they both play in an optimal strategy.Print the winnerâ€™s name(â€œBâ€ or â€œGâ€) or â€œDâ€ if nobody wins the game. Input In the first line,there is a number T as a case number.In the next T lines,there are three numbers type,N and M.â€œtypeâ€ means the kind of the chess.Tâ‰¤1000,2â‰¤N,Mâ‰¤1000,1â‰¤typeâ‰¤4 Output For each question,print the answer. Sample Input 1234541 5 52 5 53 5 54 5 5 Sample Output 1234GGDB Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114#include &lt;iostream&gt;#include &lt;cstring&gt;#include &lt;cstdio&gt;#include &lt;algorithm&gt;#include &lt;cmath&gt;using namespace std;int dp1[1005][1005];int dp3[1005][1005];int dp4[1005][1005];void init()&#123; for(int i = 0; i &lt;= 1000; i++) &#123; dp1[i][1001] = dp1[1001][i] = 1; dp3[i][1000] = dp3[1000][i] = 3; dp3[i][1001] = dp3[1001][i] = 1; dp4[i][i] = dp4[i][1000] = dp4[1000][i] = 1; dp4[i][1001] = dp4[1001][i] = 1; &#125; dp3[1000][1000] = 0; dp3[999][999] = 3; dp1[1000][1000] = dp4[1000][1000] = 0; dp1[1001][1001] = dp4[1001][1001] = 1; for(int i = 1000; i &gt;= 0; i--) &#123; for(int j = 1000; j &gt;= 0; j--) &#123; if(dp1[i+1][j] == 1 &amp;&amp; (dp1[i][j+1] == 1 &amp;&amp; dp1[i+1][j+1] == 1)) dp1[i][j] = 0; else dp1[i][j] = 1; &#125; &#125; for(int i = 999; i &gt;= 0; i--) &#123; for(int j = 999; j &gt;= 0; j--) &#123; if(i == 999 &amp;&amp; j == 999)&#123;&#125; else if((i == 999 || dp3[i+2][j+1] == 1) &amp;&amp; (j == 999 || dp3[i+1][j+2] == 1)) dp3[i][j] = 0; else if(dp3[i+2][j+1] == 0 || dp3[i+1][j+2] == 0) dp3[i][j] = 1; else dp3[i][j] = 3; if(dp4[i][j]) continue; if(!dp4[i][j]) &#123; for(int ii = i - 1; ii &gt;= 0; ii--) dp4[ii][j] = 1; for(int ii = j - 1; ii &gt;= 0; ii--) dp4[i][ii] = 1; for(int ii = 1; i-ii &gt;= 0 &amp;&amp; j-ii &gt;= 0; ii++) dp4[i-ii][j-ii] = 1; &#125; &#125; &#125;&#125;int main()&#123; int ca; int t, n, m; memset(dp1, 0, sizeof(dp1)); memset(dp3, 0, sizeof(dp3)); memset(dp4, 0, sizeof(dp4)); init(); scanf("%d", &amp;ca); while(ca--) &#123; scanf("%d%d%d", &amp;t, &amp;n, &amp;m); if(t == 1) &#123; if(dp1[1000-n+1][1000-m+1]) printf("B\n"); else printf("G\n"); &#125; else if(t == 2) &#123; if((n-1) ^ (m-1)) printf("B\n"); else printf("G\n"); &#125; else if(t == 3) &#123; if(dp3[1000-n+1][1000-m+1] == 1) printf("B\n"); else if(dp3[1000-n+1][1000-m+1] == 0) printf("G\n"); else if(dp3[1000-n+1][1000-m+1] == 3) printf("D\n"); &#125; else &#123; if(dp4[1000-n+1][1000-m+1] == 1) printf("B\n"); else printf("G\n"); &#125; &#125; return 0;&#125;]]></content>
      <categories>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>hdu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Eclipseä¸­Junitä¸ŽEclemmaæ’ä»¶å®‰è£…ä¸Žä½¿ç”¨]]></title>
    <url>%2F2018%2F01%2F03%2Fjunit%2F</url>
    <content type="text"><![CDATA[æœ¬ç¯‡æ–‡ç« å°†ä¼šä»‹ç»Eclipseä¸­Junitä¸ŽEclemmaæ’ä»¶å®‰è£…ä¸Žä½¿ç”¨ å®Œæ•´ä»£ç  1.Install Junit and Eclemma 1.1. Install Junit Download necessary JARs packages Click right key on the project â€“ Properties â€“ Java Build Path â€“ Libraries â€“ Add External JARs Add Junit and harmcrest-all-* 1.2. Install Eclemma Help â€“- Install New Software â€“Add Input the name eclemma and the Location with http://update.eclemma.org. Select the eclemma and complete click Next Reboot the eclipse to complete the installation 2.Using Junit and eclemma Under src folder, create com.Triangle package Write Triangle.java 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081package com.Triangle;public class Triangle &#123; int a, b, c; public Triangle(int x, int y, int z)&#123; a = x; b = y; c = z; &#125; public String isPositive()&#123; String msg = ""; if(a &gt; 0 &amp;&amp; b &gt; 0 &amp;&amp; c &gt; 0)&#123; msg = "positive"; &#125;else&#123; if(a &lt;= 0) msg += "a is negative"; if(b &lt;= 0) msg += "b is negative"; if(c &lt;= 0) msg += "c is negative"; &#125; //System.out.println(msg); return msg; &#125; public String isTriangle()&#123; String msg = ""; if(a+b &gt; c &amp;&amp; a+c &gt; b &amp;&amp; b+c &gt; a)&#123; msg = "triangle"; &#125;else&#123; msg = "not a triangle"; &#125; //System.out.println(msg); return msg; &#125; public String isIsosceles()&#123; String msg = ""; if(a == b || b == c || c == a)&#123; msg = "isosceles"; &#125;else&#123; msg = "not isosceles"; &#125; //System.out.println(msg); return msg; &#125; public String isEquilateral()&#123; String msg = ""; if(a == b &amp; b == c)&#123; msg = "equilateral"; &#125;else&#123; msg = "not equilateral"; &#125; //System.out.println(msg); return msg; &#125; public String judge()&#123; String msg = ""; msg = this.isPositive(); if(msg.equals("positive"))&#123; msg = this.isTriangle(); if(msg.equals("triangle"))&#123; msg = this.isIsosceles(); if(msg.equals("isosceles"))&#123; msg = this.isEquilateral(); if(!msg.equals("equilateral"))&#123; return "isosceles"; &#125; &#125;else&#123; return "triangle"; &#125; &#125; &#125; return msg; &#125;&#125; Create new source folder test and create com.Triangle package similarly Write several classes for test 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061package com.Triangle;import static org.junit.Assert.*; import java.util.Arrays;import java.util.Collection;import org.junit.After;import org.junit.Before;import org.junit.Test;import org.junit.runner.RunWith;import org.junit.runners.Parameterized;import org.junit.runners.Parameterized.Parameters; import com.Triangle.Triangle;@RunWith(Parameterized.class)public class JudgeTest &#123; private int a; private int b; private int c; private String expected; private Triangle triangle; public JudgeTest(int a, int b, int c, String expected)&#123; this.a = a; this.b = b; this.c = c; this.expected = expected; &#125; @Before public void setUp()&#123; System.out.println("Before Judge Test"); this.triangle = new Triangle(this.a, this.b, this.c); &#125; @After public void tearDown()&#123; System.out.println("After Judge Test"); &#125; @Parameters public static Collection&lt;Object[]&gt; getData()&#123; return Arrays.asList(new Object[][]&#123; &#123;3,3,3,"equilateral"&#125;, &#123;3,4,3, "isosceles"&#125;, &#123;2,3,4, "triangle"&#125;, &#123;1,2,3, "not a triangle"&#125;, &#123;-1,1,2, "a is negative"&#125;, &#123;1,-2,1, "b is negative"&#125;, &#123;1,1,-2, "c is negative"&#125; &#125;); &#125; @Test public void testAdd()&#123; assertEquals(this.expected, triangle.judge()); &#125;&#125; In order to practice @Runwith(Suite.class), I also write some other test classes 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354package com.Triangle;import static org.junit.Assert.*; import java.util.Arrays;import java.util.Collection;import org.junit.After;import org.junit.Before;import org.junit.Test;import org.junit.runner.RunWith;import org.junit.runners.Parameterized;import org.junit.runners.Parameterized.Parameters; import com.Triangle.Triangle;@RunWith(Parameterized.class)public class PositiveTest &#123; private int a; private int b; private int c; private String expected; private Triangle triangle; public PositiveTest(int a, int b, int c, String expected)&#123; this.a = a; this.b = b; this.c = c; this.expected = expected; &#125; @Before public void setUp()&#123; System.out.println("Before Positive Test"); this.triangle = new Triangle(this.a, this.b, this.c); &#125; @After public void tearDown()&#123; System.out.println("After Positive Test"); &#125; @Parameters public static Collection&lt;Object[]&gt; getData()&#123; return Arrays.asList(new Object[][]&#123; &#123;3,3,3,"positive"&#125; &#125;); &#125; @Test public void testAdd()&#123; assertEquals(this.expected, triangle.isPositive()); &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354package com.Triangle;import static org.junit.Assert.*; import java.util.Arrays;import java.util.Collection; import org.junit.Before;import org.junit.After;import org.junit.Test;import org.junit.runner.RunWith;import org.junit.runners.Parameterized;import org.junit.runners.Parameterized.Parameters; import com.Triangle.Triangle;@RunWith(Parameterized.class)public class TriangleTest &#123; private int a; private int b; private int c; private String expected; private Triangle triangle; public TriangleTest(int a, int b, int c, String expected)&#123; this.a = a; this.b = b; this.c = c; this.expected = expected; &#125; @Before public void setUp()&#123; System.out.println("Before Triangle Test"); this.triangle = new Triangle(this.a, this.b, this.c); &#125; @After public void tearDown()&#123; System.out.println("After Triangle Test"); &#125; @Parameters public static Collection&lt;Object[]&gt; getData()&#123; return Arrays.asList(new Object[][]&#123; &#123;3,3,3,"triangle"&#125; &#125;); &#125; @Test public void testAdd()&#123; assertEquals(this.expected, triangle.isTriangle()); &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354package com.Triangle;import static org.junit.Assert.*; import java.util.Arrays;import java.util.Collection;import org.junit.After;import org.junit.Before;import org.junit.Test;import org.junit.runner.RunWith;import org.junit.runners.Parameterized;import org.junit.runners.Parameterized.Parameters; import com.Triangle.Triangle;@RunWith(Parameterized.class)public class IsoscelesTest &#123; private int a; private int b; private int c; private String expected; private Triangle triangle; public IsoscelesTest(int a, int b, int c, String expected)&#123; this.a = a; this.b = b; this.c = c; this.expected = expected; &#125; @Before public void setUp()&#123; System.out.println("Before Isosceles Test"); this.triangle = new Triangle(this.a, this.b, this.c); &#125; @After public void tearDown()&#123; System.out.println("After Isosceles Test"); &#125; @Parameters public static Collection&lt;Object[]&gt; getData()&#123; return Arrays.asList(new Object[][]&#123; &#123;3,3,3,"isosceles"&#125; &#125;); &#125; @Test public void testAdd()&#123; assertEquals(this.expected, triangle.isIsosceles()); &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455package com.Triangle;import static org.junit.Assert.*; import java.util.Arrays;import java.util.Collection;import org.junit.After;import org.junit.Before;import org.junit.Test;import org.junit.runner.RunWith;import org.junit.runners.Parameterized;import org.junit.runners.Parameterized.Parameters; import com.Triangle.Triangle;@RunWith(Parameterized.class)public class EquilateralTest &#123; private int a; private int b; private int c; private String expected; private Triangle triangle; public EquilateralTest(int a, int b, int c, String expected)&#123; this.a = a; this.b = b; this.c = c; this.expected = expected; &#125; @Before public void setUp()&#123; System.out.println("Before Equilateral Test"); this.triangle = new Triangle(this.a, this.b, this.c); &#125; @After public void tearDown()&#123; System.out.println("After Equilateral Test"); &#125; @Parameters public static Collection&lt;Object[]&gt; getData()&#123; return Arrays.asList(new Object[][]&#123; &#123;3,3,3,"equilateral"&#125; &#125;); &#125; @Test public void testAdd()&#123; assertEquals(this.expected, triangle.isEquilateral()); &#125;&#125; SuiteTest.java 1234567891011package com.Triangle;import org.junit.runner.RunWith;import org.junit.runners.Suite;import org.junit.runners.Suite.SuiteClasses;@RunWith(Suite.class)@SuiteClasses(&#123; PositiveTest.class, TriangleTest.class , IsoscelesTest.class, EquilateralTest.class, JudgeTest.class&#125;)public class SuiteTest &#123;&#125; Result Click right key on SuiteTest.java -&gt; Coverage as -&gt; JUnit Test Except SuiteTest.java itself hasnâ€™t been covered, other classes have been covered already. If run PositiveTest.java individually, there will be more paths that wonâ€™t be covered Green: All Covered Red: All Missed Yellow: Some Branches Missed]]></content>
      <categories>
        <category>è½¯ä»¶æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>Eclipse</tag>
        <tag>è½¯ä»¶æµ‹è¯•</tag>
        <tag>Junit</tag>
        <tag>Eclemma</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Seleniumè„šæœ¬çš„å½•åˆ¶å’Œå¯¼å‡º]]></title>
    <url>%2F2018%2F01%2F02%2Fselenium%2F</url>
    <content type="text"><![CDATA[æœ¬ç¯‡æ–‡ç« å°†ä¼šä»‹ç»Eclipseä¸­Junitä¸ŽEclemmaæ’ä»¶å®‰è£…ä¸Žä½¿ç”¨ å®Œæ•´ä»£ç  ä¸€ã€æ‰“å¼€Selenium IDEé™„åŠ ç»„ä»¶ é€‰æ‹©è¾ƒè€ç‰ˆæœ¬çš„Firefoxæµè§ˆå™¨åˆ°åº”ç”¨å•†åº—ä¸‹è½½Selenium IDEï¼Œå®‰è£…åŽæ‰“å¼€å¦‚å›¾æ‰€ç¤ºï¼š é…ç½®Selenium WebDriverçŽ¯å¢ƒ å‘å·¥ç¨‹å†…å¯¼å…¥å¦‚ä¸‹çš„jaråŒ…ï¼ˆå¯ä»¥å‡†å¤‡ä¸€ä¸ªjavacsvæ¥è¾…åŠ©åŽé¢çš„å®žéªŒï¼‰ å½•åˆ¶è„šæœ¬ ä½¿ç”¨Selenium IDEå½•åˆ¶è„šæœ¬åŽå¯ä»¥å¾ˆæ–¹ä¾¿çš„å¯¼å‡ºï¼Œå¯ä»¥ç›´æŽ¥åœ¨å¯¼å‡ºçš„ä»£ç ä¸Šè¿›è¡Œä¿®æ”¹ã€‚ æ‰“å¼€Selenium IDE ç‚¹å‡»å³ä¸Šè§’çš„çº¢ç‚¹å¼€å§‹å½•åˆ¶ è¿›å…¥ç½‘é¡µè¾“å…¥è´¦å·å¯†ç ç™»é™†ï¼Œå…¶ä»–ç½‘ç«™ç±»ä¼¼ ç‚¹å‡»ç™»å½•è·³è½¬åŽï¼Œé€‰æ‹©é¡µé¢å†…çš„githubåœ°å€ï¼Œå³é”®é€‰æ‹©assertText å†æ¬¡ç‚¹å‡»çº¢ç‚¹å®Œæˆå½•åˆ¶ å¯¼å‡ºè„šæœ¬ ç‚¹å‡»Optinons-&gt;Optionsï¼Œå‹¾é€‰Enable experimental features é€šè¿‡Optionsâ€“&gt;Formaté€‰æ‹©è¦å¯¼å‡ºæˆçš„ç›¸åº”æ ¼å¼ã€‚ é€‰æ‹©Java / JUnit 4/ WebDriver å¾—åˆ°ç”Ÿæˆçš„Javaæ–‡ä»¶ï¼Œå¤åˆ¶åˆ°å·¥ç¨‹ä¸­å®Œæˆè„šæœ¬å¯¼å‡º ç¼–å†™å®Œæ•´ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110package com.WebDriveTest;import java.util.regex.Pattern;import java.io.IOException;import java.nio.charset.Charset;import java.util.Arrays;import java.util.Collection;import java.util.concurrent.TimeUnit;import org.junit.*;import org.junit.runner.RunWith;import org.junit.runners.Parameterized;import org.junit.runners.Parameterized.Parameters;import static org.junit.Assert.*;import static org.hamcrest.CoreMatchers.*;import org.openqa.selenium.*;import org.openqa.selenium.firefox.FirefoxDriver;import org.openqa.selenium.support.ui.Select;import com.csvreader.CsvReader;@RunWith(Parameterized.class)public class WebDriveTest &#123; private WebDriver driver; private String baseUrl; private boolean acceptNextAlert = true; private StringBuffer verificationErrors = new StringBuffer(); private String id, pwd,address; public WebDriveTest(String id, String address) &#123; this.id = id; this.pwd = id.substring(4); this.address = address; &#125; @Before public void setUp() throws Exception &#123; driver = new FirefoxDriver(); baseUrl = "http://121.193.130.195:8080"; driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS); &#125; @Parameters public static Collection&lt;Object[]&gt; getData() throws IOException &#123; Object[][] obj = new Object[118][]; CsvReader r = new CsvReader("D:\\CIA\\å¤§ä¸‰ä¸‹\\è½¯æµ‹\\inputgit.csv", ',', Charset.forName("GBK")); int count = 0; r.readHeaders(); while(r.readRecord())&#123; obj[count] = new Object[]&#123;r.get(0), r.get(2)&#125;; count++; &#125; return Arrays.asList(obj); &#125; @Test public void testUntitled2() throws Exception &#123; driver.get(baseUrl + "/"); driver.findElement(By.id("name")).clear(); driver.findElement(By.id("name")).sendKeys(this.id); driver.findElement(By.id("pwd")).clear(); driver.findElement(By.id("pwd")).sendKeys(this.pwd); driver.findElement(By.id("submit")).click(); assertEquals(this.address, driver.findElement(By.xpath("//tbody[@id='table-main']/tr[3]/td[2]")).getText()); &#125; @After public void tearDown() throws Exception &#123; driver.quit(); String verificationErrorString = verificationErrors.toString(); if (!"".equals(verificationErrorString)) &#123; fail(verificationErrorString); &#125; &#125; private boolean isElementPresent(By by) &#123; try &#123; driver.findElement(by); return true; &#125; catch (NoSuchElementException e) &#123; return false; &#125; &#125; private boolean isAlertPresent() &#123; try &#123; driver.switchTo().alert(); return true; &#125; catch (NoAlertPresentException e) &#123; return false; &#125; &#125; private String closeAlertAndGetItsText() &#123; try &#123; Alert alert = driver.switchTo().alert(); String alertText = alert.getText(); if (acceptNextAlert) &#123; alert.accept(); &#125; else &#123; alert.dismiss(); &#125; return alertText; &#125; finally &#123; acceptNextAlert = true; &#125; &#125;&#125; å®žéªŒç»“æžœ]]></content>
      <categories>
        <category>è½¯ä»¶æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>è½¯ä»¶æµ‹è¯•</tag>
        <tag>Selenium</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Hexoå¿«é€Ÿæ­å»ºè‡ªå·±çš„åšå®¢]]></title>
    <url>%2F2018%2F01%2F01%2Fhexo%2F</url>
    <content type="text"><![CDATA[æœ¬ç¯‡æ–‡ç« å°†ä¼šä»‹ç»å¦‚ä½•ä½¿ç”¨hexoæ¥æ­å»ºé™æ€é¡µé¢åšå®¢ï¼Œå¹¶å¥—ç”¨ç›®å‰æœ€å¤šäººä½¿ç”¨çš„NexTæ¨¡ç‰ˆ ä¸€ã€éœ€è¦å‡†å¤‡çš„å·¥å…· Node.js Hexoä½¿ç”¨node.jsè¿›è¡Œé™æ€é¡µé¢çš„ç”Ÿæˆï¼Œåˆ° https://nodejs.org/zh-cn/ ä¸‹è½½å½“å‰æœ€æ–°çš„node.jsè¿›è¡Œå®‰è£… hexo hexoå®˜ç½‘ï¼šhttps://hexo.io/ ä¸Šé¢æœ‰éžå¸¸å®Œæ•´çš„æ–‡æ¡£ å®‰è£…node.jså®ŒæˆåŽåœ¨æŽ§åˆ¶å°åº”è¯¥å°±èƒ½å¤Ÿç›´æŽ¥ä½¿ç”¨npmï¼Œå¦‚æžœä¸èƒ½ä½¿ç”¨ï¼Œå¯ä»¥åœ¨çŽ¯å¢ƒå˜é‡ä¸­ç³»ç»Ÿå˜é‡ä¸­çš„Pathæ·»åŠ npm å®‰è£…hexoçš„å‘½ä»¤å¦‚ä¸‹ï¼š 1234$ npm install hexo-cli -g$ hexo init blog$ cd blog$ npm install åˆ†åˆ«ä¸ºå®‰è£…hexoã€åˆ›å»ºåšå®¢çš„æ ¹ç›®å½•ã€è¿›å…¥åšå®¢æ ¹ç›®å½•ã€åˆå§‹åŒ–ç›®å½• äºŒã€é…ç½®åšå®¢æ‰“å¼€åšå®¢æ ¹ç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œè¿™é‡Œå…ˆè®²å‡ ä¸ªæœ€ä¸»è¦çš„ä¿®æ”¹ï¼Œåœ¨ä¹‹åŽçš„é…ç½®è¿‡ç¨‹ä¸­ä¼šè¿›ä¸€æ­¥å¯¹è¿™ä¸ªæ–‡ä»¶è¿›è¡Œä¿®æ”¹ 123456title: åšå®¢åsubtitle: åšå®¢å­æ ‡é¢˜description: åšå®¢çš„ä¸€æ®µæè¿°author: ä½œè€…language: zh-CNtimezone: Asia/Shanghai è¿™é‡Œè¦æ³¨æ„ä¸€ç‚¹ï¼Œæ¯é¡¹è®¾ç½®å†’å·: åŽé¢ä¸€å®šè¦ç•™ä¸€ä¸ªç©ºæ ¼ å¦‚æžœä½¿ç”¨git pagesæ¥ä½œä¸ºåšå®¢çš„æ‰˜ç®¡ï¼Œå¹¶ä¸”å·²ç»åˆ›å»ºå¥½githubname.github.ioçš„ä»“åº“çš„è¯ï¼ŒæŒ‰ä¸‹é¢è¿™ä¹ˆæ”¹ 1234deploy: type: git repo: https://github.com/YourName/YourName.github.io.git branch: master ç„¶åŽ 1npm install --save hexo-deployer-git ä¸‰ã€ç¼–å†™å¹¶éƒ¨ç½²åšå®¢ åˆ›å»ºåšå®¢ åœ¨åšå®¢æ ¹ç›®å½•ï¼ŒæŽ§åˆ¶å°ä¸­è¾“å…¥ 1$ hexo new "new" åœ¨/source/_postä¸‹åˆ›å»ºåä¸ºnewçš„æ–°åšå®¢ æ¸…é™¤ç¼“å­˜ æ¯æ¬¡é‡æ–°ç”Ÿæˆåšå®¢ä¹‹å‰æœ€å¥½è¦è¿›è¡Œè¿™ä¸€æ­¥æ“ä½œ 1$ hexo clean ç”Ÿæˆåšå®¢ 123$ hexo generateor$ hexo g å¼€å¯æœåŠ¡å™¨ 123$ hexo serveror$ hexo s é»˜è®¤ä¼šæ‰“å¼€åœ¨http://localhost:4000/ éƒ¨ç½²åšå®¢ 123$ hexo deployor$ hexo d hexoå°†ä¼šå°†ç”Ÿæˆçš„åšå®¢pushåˆ°ä¹‹å‰é…ç½®æ–‡ä»¶ä¸­å®šä¹‰å¥½çš„repoä¸­ å››ã€å¥—ç”¨æ¨¡ç‰ˆhexoæœ‰éžå¸¸å¤šçš„æ¨¡ç‰ˆï¼Œå…¶ä¸­æœ€å¸¸è§çš„æ¨¡ç‰ˆä¹‹ä¸€å°±æ˜¯nexTæ¨¡ç‰ˆï¼Œä¹Ÿæ˜¯æ–‡æ¡£ç›¸å¯¹å®Œå–„çš„ä¸€å¥—ä¸»é¢˜ å®˜ç½‘ï¼šhttp://theme-next.iissnan.com/ åˆ°å®˜ç½‘ä¸Šä¸‹è½½ï¼Œæˆ–è€…åˆ°ä½œè€…çš„githubä¸Šä¸‹è½½ç›¸åº”ä¸»é¢˜æ–‡ä»¶åŽï¼Œåœ¨/themesä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹nextå¹¶å°†ä¸‹è½½çš„å­æ–‡ä»¶æ‹·è´åˆ°å…¶ä¸‹ ç„¶åŽä¿®æ”¹åšå®¢çš„é…ç½®æ–‡ä»¶_config.ymlï¼ˆæ³¨æ„ï¼šä¸‹è½½çš„ä¸»é¢˜æ–‡ä»¶ä¸­ä¹Ÿæœ‰åŒåçš„é…ç½®æ–‡ä»¶ï¼Œä»¥åŽä¼šä»¥ä¸»é¢˜çš„é…ç½®æ–‡ä»¶åŠ ä»¥åŒºåˆ†ï¼‰ é‡æ–°æ¸…ç†â€“&gt;ç”Ÿæˆâ€“&gt;æŸ¥çœ‹â€“&gt;éƒ¨ç½²ï¼Œç„¶åŽç™»å½•è‡ªå·±åšå®¢çš„ä¸»é¡µçœ‹çœ‹æ•ˆæžœå§ï¼ äº”ã€SEO å®‰è£…sitemap è¿›å…¥æ ¹ç›®å½•ï¼Œè¾“å…¥ 12npm install hexo-generator-sitemap --savenpm install hexo-generator-baidu-sitemap --save åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ _condig.ymlä¸­æ·»åŠ  12345##è‡ªåŠ¨ç”Ÿæˆsitemapsitemap:path: sitemap.xmlbaidusitemap:path: baidusitemap.xml åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ _condig.ymlä¸­ä¿®æ”¹urlä¸ºé¦–é¡µåœ°å€ é‡æ–°ç”Ÿæˆå¹¶éƒ¨ç½² æäº¤sitemap åœ¨ç™¾åº¦ç«™é•¿å·¥å…·ä¸­é“¾æŽ¥æäº¤ä¸­é€‰æ‹©sitemapæäº¤æ–¹å¼ï¼Œè¾“å…¥ 1https://yoursite.com/baidusitemap.xml è°·æ­Œä¹Ÿå¯ä»¥ä»¥ç±»ä¼¼çš„æ–¹å¼ 1https://yoursite.com/sitemap.xml å¦‚æžœæ˜¯æ–°ç½‘ç«™ï¼Œå¯èƒ½éœ€è¦éªŒè¯ç½‘ç«™æ‰€æœ‰æƒï¼Œè°·æ­Œå¯ä»¥ä½¿ç”¨Google Analyzeç›´æŽ¥éªŒè¯ï¼Œæˆ–è€…ç™¾åº¦å’Œè°·æ­Œéƒ½å¯ä»¥æäº¤HTMLæ ‡ç­¾æ¥éªŒè¯ã€‚ å°†æä¾›çš„&lt;meta&gt;æ ‡ç­¾åŠ å…¥\themes\next\layout\_partialsä¸‹çš„head.swigä¸­æœ€ä¸Šæ–¹é‡æ–°ç”Ÿæˆä¸Šä¼ ï¼Œç„¶åŽåœ¨ç™¾åº¦è°·æ­Œä¸­ç‚¹éªŒè¯å°±å¯ä»¥äº† å…­ã€Fancyboxå¼€å¯å›¾ç‰‡æ”¾å¤§ç¼©å° å®‰è£…ä¸Žæ›´æ–° 123$ rm -rf themes/next/source/lib/fancybox$ cd themes/next$ git clone https://github.com/theme-next/theme-next-fancybox3 source/lib/fancybox ä¸ƒã€æ·»åŠ åˆ†äº«åŠŸèƒ½ä¸»é¢˜é…ç½®æ–‡ä»¶ 12345678910111213141516needmoreshare2: enable: true postbottom: enable: false options: iconStyle: box boxForm: horizontal position: bottomCenter networks: Weibo,Wechat,Douban,QQZone float: enable: true options: iconStyle: box boxForm: vertical position: middleRight networks: Weibo,Wechat,Douban,QQZone see more åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.ymlä¸­ä¿®æ”¹ 1fancybox: true]]></content>
      <categories>
        <category>çŽ¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>çŽ¯å¢ƒæ­å»º</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
</search>
